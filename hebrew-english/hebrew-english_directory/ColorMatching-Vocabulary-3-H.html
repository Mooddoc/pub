<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ez42.live/global/analytics.js"></script>
    <script src="https://ez42.live/global/ads.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
    <link rel="stylesheet" href="http://www.ez42.live/global/styles/styles-heb.css">
    <link rel="icon" type="image/svg+xml" href="http://www.ez42.live/global/styles/ez42-icon.svg">
    <title>âœ… EZ42 - ×–×” ×§×œ</title>
<style>

</style>

</head>
<body>
    <div class="page-container">
        <div class="content-wrapper">
            <!--  Side Panel 1  -->
            <div id="sidePanel1" class="side-panel">
                <div class="logo-container">
                    <a href="http://ez42.live" target="_blank" rel="noopener noreferrer">
                        <img src="http://www.ez42.live/global/logo/logo.svg" alt="EZ42 Logo" class="logo-image">
                    </a>
                </div>
                <h2>×”×•×¨××•×ª</h2>
                <ul>
																										<!--  PH1 - Instructions & Rules   -->    
					<li>×™×© 20 ×©×œ×‘×™× ×‘××©×—×§, ×›×œ ×©×œ×‘ ××›×™×œ 10 ×–×•×’×•×ª ×©×œ ××™×œ×™× ×‘×¢×‘×¨×™×ª ×•×‘×× ×’×œ×™×ª.</li>
					<li>×™×© ×œ×‘×—×•×¨ ××™×œ×” ×‘×¢×‘×¨×™×ª ×•×œ×§×¨×•× ××•×ª×” ×‘×¢×™×•×Ÿ.</li>
					<li>××¦××• ××ª ×”×ª×¨×’×•× ×”×× ×’×œ×™ ×”××ª××™× ×œ××™×œ×” ×”×¢×‘×¨×™×ª.</li>
					<li>×œ×—×¦×• ×¢×œ ×”××™×œ×” ×‘×× ×’×œ×™×ª ×•×¢×œ ×”×ª×¨×’×•× ×”×¢×‘×¨×™ ×”××ª××™× ×œ×™×¦×™×¨×ª ×”×ª×××”.</li>
					<li>× ×™×ª×Ÿ ×’× ×œ×’×¨×•×¨ ××ª ×”××™×œ×™× ×–×• ×œ×–×• ×œ×™×¦×™×¨×ª ×”×ª×××”.</li>
					<li>×™×© ×œ×œ×—×•×¥ ×¢×œ "×‘×“×™×§×ª ×ª×©×•×‘×•×ª" ×›×©×¡×™×™××ª× ×œ×”×ª××™× ××ª ×›×œ 10 ×”×–×•×’×•×ª.</li>
					<li>×™×© ×œ×”×©×œ×™× ××ª ×›×œ 10 ×”×”×ª×××•×ª ×‘×©×œ×‘ ×›×“×™ ×œ×¢×‘×•×¨ ×œ×©×œ×‘ ×”×‘×.</li>
					<li>×œ××—×¨ 10 × ×™×¡×™×•× ×•×ª ×‘×©×œ×‘ ××¡×•×™×, ×”×ª×©×•×‘×•×ª ×”× ×›×•× ×•×ª ×‘×©×œ×‘ ×™×™×—×©×¤×•.</li>
					<li>×”×©×œ×™××• ××ª ×›×œ 20 ×”×©×œ×‘×™× ×›×“×™ ×œ×¡×™×™× ××ª ×”××©×—×§.</li>
					<li>×ª×”× ×•!</li>
                </ul>
            </div>
            <!--  Quiz Panel   -->
            <div id="quizContainer" class="quiz-container">
																			<!--  PH2 - Title  X  2 : A1 - ğŸ“— Green, A2 - ğŸ“˜ Blue, B1 - ğŸ“’ Yellow, ğŸ“™ Orange, ğŸ“” Beige, ğŸ““ Gray , ğŸ“• Red-->				
                <h1>××™×œ×” ×‘××™×œ×” - ××¡×¢ ×‘×™×Ÿ ×©×ª×™ ×©×¤×•×ª - 3</h1>
				
                <div id="switchContainer" class="switch-container">
                    <div id="multiStateSwitch" class="switch">
                        <div class="switch-labels"></div>
                        <div class="switch-handle"></div>
                    </div>
                </div>
                <div id="tabContent">
                </div>
            </div>
            <!--  Side Panel 2  -->
            <div id="sidePanel2" class="side-panel">
                <h2>×—×•×•×ª ×”×—×™×•×ª</h2>
                <p>×”×—×•×•×” ×©×œ×š ×’×“×œ×” ×ª×•×š ×›×“×™ ×”×ª×§×“××•×ª! ×›×œ ×©×œ×‘ ××•×¡×™×£ ×—×™×•×ª ×—×“×©×•×ª ×œ××•×¡×£ ×©×œ×š.</p>
                <ul id="animalFarm" class="emoji-list">
                </ul>
            </div>
        </div>
    </div>
    <div id="copyright-container"></div>

    <!-- Modal -->
    <div id="quizModal" class="modal-quiz">
        <div class="modal-quiz-content">
            <span class="modal-quiz-close">&times;</span>
            <p id="modalMessage"></p>
            <button id="modalButton" class="modal-quiz-button">××™×©×•×¨</button>
        </div>
    </div>
	<button id="scrollToTopBtn" title="Go to top">â†‘</button>
    <script>
        // Template Elements
        let isQuizExpanded = false;
        let allowQuizExpansion = true;
        let attempts = 0;
        let currentStage = 0;
        let selectedQuestion = null;
        let selectedAnswer = null;

        const manuallySetDefaultTab = 0;

        const colors = ["#FF6B6B", "#4ECDC4", "#FFD93D", "#98FB98", "#87CEFA", "#FFA07A", "#DDA0DD", "#F0E68C", "#00CED1", "#FF69B4", "#AFE1AF", "#FFB347", "#40E0D0", "#DEA5A4", "#CCCCFF", "#F0DC82", "#FF6347", "#7FFFD4", "#FFE4E1", "#CFCFC4"];

		const quizData = [

						  {
							"stage": "Stage 1",
							"stageName": "Hobbies and Leisure - ×ª×—×‘×™×‘×™× ×•×¤× ××™",
							"direction": "rtl",
							"questions": [
							  { "question_id": 1, "question": "×œ×§×¨×•× ×¡×¤×¨" },
							  { "question_id": 2, "question": "×œ×©×—×§ ×›×“×•×¨×’×œ" },
							  { "question_id": 3, "question": "×œ×¦×™×™×¨" },
							  { "question_id": 4, "question": "×œ×‘×©×œ" },
							  { "question_id": 5, "question": "×œ×©××•×¢ ××•×–×™×§×”" },
							  { "question_id": 6, "question": "×œ×¨×§×•×“" },
							  { "question_id": 7, "question": "×œ×˜×™×™×œ ×‘×˜×‘×¢" },
							  { "question_id": 8, "question": "×œ×¦×¤×•×ª ×‘×¡×¨×˜×™×" },
							  { "question_id": 9, "question": "×œ×©×—×§ ××©×—×§×™ ××—×©×‘" },
							  { "question_id": 10, "question": "×œ×’×“×œ ×¦××—×™×" }
							],
							"answers": [
							  { "answer_id": 1, "question_id": 1, "answer": "To read a book" },
							  { "answer_id": 2, "question_id": 2, "answer": "To play soccer" },
							  { "answer_id": 3, "question_id": 3, "answer": "To draw" },
							  { "answer_id": 4, "question_id": 4, "answer": "To cook" },
							  { "answer_id": 5, "question_id": 5, "answer": "To listen to music" },
							  { "answer_id": 6, "question_id": 6, "answer": "To dance" },
							  { "answer_id": 7, "question_id": 7, "answer": "To hike in nature" },
							  { "answer_id": 8, "question_id": 8, "answer": "To watch movies" },
							  { "answer_id": 9, "question_id": 9, "answer": "To play computer games" },
							  { "answer_id": 10, "question_id": 10, "answer": "To grow plants" }
							]
						  },
						  {
							"stage": "Stage 2",
							"stageName": "Sports and Games - ×¡×¤×•×¨×˜ ×•××©×—×§×™×",
							"direction": "rtl",
							"questions": [
							  { "question_id": 1, "question": "×›×“×•×¨×¡×œ" },
							  { "question_id": 2, "question": "×˜× ×™×¡" },
							  { "question_id": 3, "question": "×©×—×™×™×”" },
							  { "question_id": 4, "question": "×¨×™×¦×”" },
							  { "question_id": 5, "question": "×©×—××˜" },
							  { "question_id": 6, "question": "×’×•×œ×£" },
							  { "question_id": 7, "question": "××ª×œ×˜×™×§×”" },
							  { "question_id": 8, "question": "×›×“×•×¨×¢×£" },
							  { "question_id": 9, "question": "×¡×§×™" },
							  { "question_id": 10, "question": "×§×œ×¤×™×" }
							],
							"answers": [
							  { "answer_id": 1, "question_id": 1, "answer": "Basketball" },
							  { "answer_id": 2, "question_id": 2, "answer": "Tennis" },
							  { "answer_id": 3, "question_id": 3, "answer": "Swimming" },
							  { "answer_id": 4, "question_id": 4, "answer": "Running" },
							  { "answer_id": 5, "question_id": 5, "answer": "Chess" },
							  { "answer_id": 6, "question_id": 6, "answer": "Golf" },
							  { "answer_id": 7, "question_id": 7, "answer": "Athletics" },
							  { "answer_id": 8, "question_id": 8, "answer": "Volleyball" },
							  { "answer_id": 9, "question_id": 9, "answer": "Skiing" },
							  { "answer_id": 10, "question_id": 10, "answer": "Cards" }
							]
						  },
						  {
							"stage": "Stage 3",
							"stageName": "City Places - ××§×•××•×ª ×‘×¢×™×¨",
							"direction": "rtl",
							"questions": [
							  { "question_id": 1, "question": "××¡×¢×“×”" },
							  { "question_id": 2, "question": "×‘×™×ª ×§×•×œ× ×•×¢" },
							  { "question_id": 3, "question": "××•×–×™××•×Ÿ" },
							  { "question_id": 4, "question": "×¡×¤×¨×™×™×”" },
							  { "question_id": 5, "question": "×¤××¨×§" },
							  { "question_id": 6, "question": "×ª×—× ×ª ×¨×›×‘×ª" },
							  { "question_id": 7, "question": "×‘×™×ª ×—×•×œ×™×" },
							  { "question_id": 8, "question": "×›×™×›×¨ ×”×¢×™×¨" },
							  { "question_id": 9, "question": "×‘× ×§" },
							  { "question_id": 10, "question": "×ª×™××˜×¨×•×Ÿ" }
							],
							"answers": [
							  { "answer_id": 1, "question_id": 1, "answer": "Restaurant" },
							  { "answer_id": 2, "question_id": 2, "answer": "Cinema" },
							  { "answer_id": 3, "question_id": 3, "answer": "Museum" },
							  { "answer_id": 4, "question_id": 4, "answer": "Library" },
							  { "answer_id": 5, "question_id": 5, "answer": "Park" },
							  { "answer_id": 6, "question_id": 6, "answer": "Train station" },
							  { "answer_id": 7, "question_id": 7, "answer": "Hospital" },
							  { "answer_id": 8, "question_id": 8, "answer": "City square" },
							  { "answer_id": 9, "question_id": 9, "answer": "Bank" },
							  { "answer_id": 10, "question_id": 10, "answer": "Theater" }
							]
						  },
						  {
							"stage": "Stage 4",
							"stageName": "Nature and Outdoors - ×˜×‘×¢ ×•×—×•×¥",
							"direction": "rtl",
							"questions": [
							  { "question_id": 1, "question": "×”×¨" },
							  { "question_id": 2, "question": "××’×" },
							  { "question_id": 3, "question": "×™×¢×¨" },
							  { "question_id": 4, "question": "×—×•×£" },
							  { "question_id": 5, "question": "××“×‘×¨" },
							  { "question_id": 6, "question": "× ×”×¨" },
							  { "question_id": 7, "question": "×¢××§" },
							  { "question_id": 8, "question": "××¤×œ" },
							  { "question_id": 9, "question": "××¢×¨×”" },
							  { "question_id": 10, "question": "××™" }
							],
							"answers": [
							  { "answer_id": 1, "question_id": 1, "answer": "Mountain" },
							  { "answer_id": 2, "question_id": 2, "answer": "Lake" },
							  { "answer_id": 3, "question_id": 3, "answer": "Forest" },
							  { "answer_id": 4, "question_id": 4, "answer": "Beach" },
							  { "answer_id": 5, "question_id": 5, "answer": "Desert" },
							  { "answer_id": 6, "question_id": 6, "answer": "River" },
							  { "answer_id": 7, "question_id": 7, "answer": "Valley" },
							  { "answer_id": 8, "question_id": 8, "answer": "Waterfall" },
							  { "answer_id": 9, "question_id": 9, "answer": "Cave" },
							  { "answer_id": 10, "question_id": 10, "answer": "Island" }
							]
						  },
						  {
							"stage": "Stage 5",
							"stageName": "Emotions and Feelings - ×¨×’×©×•×ª ×•×ª×—×•×©×•×ª",
							"direction": "rtl",
							"questions": [
							  { "question_id": 1, "question": "×©××—×”" },
							  { "question_id": 2, "question": "×¢×¦×‘" },
							  { "question_id": 3, "question": "×›×¢×¡" },
							  { "question_id": 4, "question": "×¤×—×“" },
							  { "question_id": 5, "question": "×”×¤×ª×¢×”" },
							  { "question_id": 6, "question": "×’××•×•×”" },
							  { "question_id": 7, "question": "×§× ××”" },
							  { "question_id": 8, "question": "××”×‘×”" },
							  { "question_id": 9, "question": "×‘×•×©×”" },
							  { "question_id": 10, "question": "×©×¢××•×" }
							],
							"answers": [
							  { "answer_id": 1, "question_id": 1, "answer": "Happiness" },
							  { "answer_id": 2, "question_id": 2, "answer": "Sadness" },
							  { "answer_id": 3, "question_id": 3, "answer": "Anger" },
							  { "answer_id": 4, "question_id": 4, "answer": "Fear" },
							  { "answer_id": 5, "question_id": 5, "answer": "Surprise" },
							  { "answer_id": 6, "question_id": 6, "answer": "Pride" },
							  { "answer_id": 7, "question_id": 7, "answer": "Jealousy" },
							  { "answer_id": 8, "question_id": 8, "answer": "Love" },
							  { "answer_id": 9, "question_id": 9, "answer": "Shame" },
							  { "answer_id": 10, "question_id": 10, "answer": "Boredom" }
							]
						  },
							{
							"stage": "Stage 6",
							"stageName": "Health and Illness - ×‘×¨×™××•×ª ×•××—×œ×•×ª",
							"direction": "rtl",
							"questions": [
							  { "question_id": 1, "question": "×›××‘ ×¨××©" },
							  { "question_id": 2, "question": "×©×¤×¢×ª" },
							  { "question_id": 3, "question": "×ª×¨×•×¤×”" },
							  { "question_id": 4, "question": "×—×•×" },
							  { "question_id": 5, "question": "××œ×¨×’×™×”" },
							  { "question_id": 6, "question": "×©×‘×¨" },
							  { "question_id": 7, "question": "×¤×¦×¢" },
							  { "question_id": 8, "question": "×‘×“×™×§×ª ×“×" },
							  { "question_id": 9, "question": "×œ×—×¥ ×“×" },
							  { "question_id": 10, "question": "×—×™×¡×•×Ÿ" }
							],
							"answers": [
							  { "answer_id": 1, "question_id": 1, "answer": "Headache" },
							  { "answer_id": 2, "question_id": 2, "answer": "Flu" },
							  { "answer_id": 3, "question_id": 3, "answer": "Medicine" },
							  { "answer_id": 4, "question_id": 4, "answer": "Fever" },
							  { "answer_id": 5, "question_id": 5, "answer": "Allergy" },
							  { "answer_id": 6, "question_id": 6, "answer": "Fracture" },
							  { "answer_id": 7, "question_id": 7, "answer": "Wound" },
							  { "answer_id": 8, "question_id": 8, "answer": "Blood test" },
							  { "answer_id": 9, "question_id": 9, "answer": "Blood pressure" },
							  { "answer_id": 10, "question_id": 10, "answer": "Vaccination" }
							]
						  },
						  {
							"stage": "Stage 7",
							"stageName": "Technology Basics - ×™×¡×•×“×•×ª ×”×˜×›× ×•×œ×•×’×™×”",
							"direction": "rtl",
							"questions": [
							  { "question_id": 1, "question": "××—×©×‘" },
							  { "question_id": 2, "question": "×˜×œ×¤×•×Ÿ ×—×›×" },
							  { "question_id": 3, "question": "××™× ×˜×¨× ×˜" },
							  { "question_id": 4, "question": "×¨×©×ª ×—×‘×¨×ª×™×ª" },
							  { "question_id": 5, "question": "××¤×œ×™×§×¦×™×”" },
							  { "question_id": 6, "question": "×¡×™×¡××”" },
							  { "question_id": 7, "question": "×’×™×‘×•×™" },
							  { "question_id": 8, "question": "×•×™×¨×•×¡" },
							  { "question_id": 9, "question": "×”×•×¨×“×”" },
							  { "question_id": 10, "question": "×”×¢×œ××”" }
							],
							"answers": [
							  { "answer_id": 1, "question_id": 1, "answer": "Computer" },
							  { "answer_id": 2, "question_id": 2, "answer": "Smartphone" },
							  { "answer_id": 3, "question_id": 3, "answer": "Internet" },
							  { "answer_id": 4, "question_id": 4, "answer": "Social network" },
							  { "answer_id": 5, "question_id": 5, "answer": "Application" },
							  { "answer_id": 6, "question_id": 6, "answer": "Password" },
							  { "answer_id": 7, "question_id": 7, "answer": "Backup" },
							  { "answer_id": 8, "question_id": 8, "answer": "Virus" },
							  { "answer_id": 9, "question_id": 9, "answer": "Download" },
							  { "answer_id": 10, "question_id": 10, "answer": "Upload" }
							]
						  },
						  {
							"stage": "Stage 8",
							"stageName": "Travel and Vacation - × ×¡×™×¢×•×ª ×•×—×•×¤×©×”",
							"direction": "rtl",
							"questions": [
							  { "question_id": 1, "question": "×“×¨×›×•×Ÿ" },
							  { "question_id": 2, "question": "××–×•×•×“×”" },
							  { "question_id": 3, "question": "×›×¨×˜×™×¡ ×˜×™×¡×”" },
							  { "question_id": 4, "question": "××œ×•×Ÿ" },
							  { "question_id": 5, "question": "×ª×™×™×¨×•×ª" },
							  { "question_id": 6, "question": "××“×¨×™×š ×˜×™×•×œ×™×" },
							  { "question_id": 7, "question": "×©×¢×¨ ×¢×œ×™×™×” ×œ××˜×•×¡" },
							  { "question_id": 8, "question": "×©×›×™×¨×ª ×¨×›×‘" },
							  { "question_id": 9, "question": "××˜×‘×¢ ×–×¨" },
							  { "question_id": 10, "question": "×‘×™×˜×•×— × ×¡×™×¢×•×ª" }
							],
							"answers": [
							  { "answer_id": 1, "question_id": 1, "answer": "Passport" },
							  { "answer_id": 2, "question_id": 2, "answer": "Suitcase" },
							  { "answer_id": 3, "question_id": 3, "answer": "Flight ticket" },
							  { "answer_id": 4, "question_id": 4, "answer": "Hotel" },
							  { "answer_id": 5, "question_id": 5, "answer": "Tourism" },
							  { "answer_id": 6, "question_id": 6, "answer": "Tour guide" },
							  { "answer_id": 7, "question_id": 7, "answer": "Boarding gate" },
							  { "answer_id": 8, "question_id": 8, "answer": "Car rental" },
							  { "answer_id": 9, "question_id": 9, "answer": "Foreign currency" },
							  { "answer_id": 10, "question_id": 10, "answer": "Travel insurance" }
							]
						  },
						  {
							"stage": "Stage 9",
							"stageName": "Personality Traits - ×ª×›×•× ×•×ª ××™×©×™×•×ª",
							"direction": "rtl",
							"questions": [
							  { "question_id": 1, "question": "×—×‘×¨×•×ª×™" },
							  { "question_id": 2, "question": "×‘×™×™×©×Ÿ" },
							  { "question_id": 3, "question": "××—×¨××™" },
							  { "question_id": 4, "question": "×™×¦×™×¨×ª×™" },
							  { "question_id": 5, "question": "×¡×‘×œ× ×™" },
							  { "question_id": 6, "question": "×××‘×™×¦×™×•× ×™" },
							  { "question_id": 7, "question": "×”×’×™×•× ×™" },
							  { "question_id": 8, "question": "×¨×’×™×©" },
							  { "question_id": 9, "question": "×××•×¨×’×Ÿ" },
							  { "question_id": 10, "question": "×’××™×©" }
							],
							"answers": [
							  { "answer_id": 1, "question_id": 1, "answer": "Friendly" },
							  { "answer_id": 2, "question_id": 2, "answer": "Shy" },
							  { "answer_id": 3, "question_id": 3, "answer": "Responsible" },
							  { "answer_id": 4, "question_id": 4, "answer": "Creative" },
							  { "answer_id": 5, "question_id": 5, "answer": "Patient" },
							  { "answer_id": 6, "question_id": 6, "answer": "Ambitious" },
							  { "answer_id": 7, "question_id": 7, "answer": "Logical" },
							  { "answer_id": 8, "question_id": 8, "answer": "Sensitive" },
							  { "answer_id": 9, "question_id": 9, "answer": "Organized" },
							  { "answer_id": 10, "question_id": 10, "answer": "Flexible" }
							]
						  },
						  {
							"stage": "Stage 10",
							"stageName": "Music and Instruments - ××•×–×™×§×” ×•×›×œ×™ × ×’×™× ×”",
							"direction": "rtl",
							"questions": [
							  { "question_id": 1, "question": "×¤×¡× ×ª×¨" },
							  { "question_id": 2, "question": "×’×™×˜×¨×”" },
							  { "question_id": 3, "question": "×›×™× ×•×¨" },
							  { "question_id": 4, "question": "×ª×•×¤×™×" },
							  { "question_id": 5, "question": "×—×œ×™×œ" },
							  { "question_id": 6, "question": "×–××¨" },
							  { "question_id": 7, "question": "××§×”×œ×”" },
							  { "question_id": 8, "question": "×ª×–××•×¨×ª" },
							  { "question_id": 9, "question": "×× ×¦×—" },
							  { "question_id": 10, "question": "×§×•× ×¦×¨×˜" }
							],
							"answers": [
							  { "answer_id": 1, "question_id": 1, "answer": "Piano" },
							  { "answer_id": 2, "question_id": 2, "answer": "Guitar" },
							  { "answer_id": 3, "question_id": 3, "answer": "Violin" },
							  { "answer_id": 4, "question_id": 4, "answer": "Drums" },
							  { "answer_id": 5, "question_id": 5, "answer": "Flute" },
							  { "answer_id": 6, "question_id": 6, "answer": "Singer" },
							  { "answer_id": 7, "question_id": 7, "answer": "Choir" },
							  { "answer_id": 8, "question_id": 8, "answer": "Orchestra" },
							  { "answer_id": 9, "question_id": 9, "answer": "Conductor" },
							  { "answer_id": 10, "question_id": 10, "answer": "Concert" }
							]
						  },
							{
							"stage": "Stage 11",
							"stageName": "Kitchen Utensils - ×›×œ×™ ××˜×‘×—",
							"direction": "rtl",
							"questions": [
							  { "question_id": 1, "question": "××—×‘×ª" },
							  { "question_id": 2, "question": "×¡×™×¨" },
							  { "question_id": 3, "question": "××¢×¨×•×š" },
							  { "question_id": 4, "question": "××¡× × ×ª" },
							  { "question_id": 5, "question": "×§×¨×© ×—×™×ª×•×š" },
							  { "question_id": 6, "question": "××¦×§×ª" },
							  { "question_id": 7, "question": "×¤×•×ª×—×Ÿ" },
							  { "question_id": 8, "question": "×§×•×œ×¤×Ÿ" },
							  { "question_id": 9, "question": "××™×§×¡×¨" },
							  { "question_id": 10, "question": "×ª×‘× ×™×ª ××¤×™×™×”" }
							],
							"answers": [
							  { "answer_id": 1, "question_id": 1, "answer": "Frying pan" },
							  { "answer_id": 2, "question_id": 2, "answer": "Pot" },
							  { "answer_id": 3, "question_id": 3, "answer": "Rolling pin" },
							  { "answer_id": 4, "question_id": 4, "answer": "Colander" },
							  { "answer_id": 5, "question_id": 5, "answer": "Cutting board" },
							  { "answer_id": 6, "question_id": 6, "answer": "Ladle" },
							  { "answer_id": 7, "question_id": 7, "answer": "Can opener" },
							  { "answer_id": 8, "question_id": 8, "answer": "Peeler" },
							  { "answer_id": 9, "question_id": 9, "answer": "Mixer" },
							  { "answer_id": 10, "question_id": 10, "answer": "Baking tray" }
							]
						  },
						  {
							"stage": "Stage 12",
							"stageName": "Office Supplies - ×¦×™×•×“ ××©×¨×“×™",
							"direction": "rtl",
							"questions": [
							  { "question_id": 1, "question": "××”×“×§" },
							  { "question_id": 2, "question": "×“×‘×§" },
							  { "question_id": 3, "question": "××¡×¤×¨×™×™×" },
							  { "question_id": 4, "question": "×¡×¨×’×œ" },
							  { "question_id": 5, "question": "×˜×•×© ××“×’×™×©" },
							  { "question_id": 6, "question": "×ª×™×§×™×™×”" },
							  { "question_id": 7, "question": "× ×™×™×¨ ×“×‘×™×§" },
							  { "question_id": 8, "question": "×—×•×¨×¨" },
							  { "question_id": 9, "question": "×’×•××™×™×”" },
							  { "question_id": 10, "question": "××—×©×‘×•×Ÿ" }
							],
							"answers": [
							  { "answer_id": 1, "question_id": 1, "answer": "Stapler" },
							  { "answer_id": 2, "question_id": 2, "answer": "Glue" },
							  { "answer_id": 3, "question_id": 3, "answer": "Scissors" },
							  { "answer_id": 4, "question_id": 4, "answer": "Ruler" },
							  { "answer_id": 5, "question_id": 5, "answer": "Highlighter" },
							  { "answer_id": 6, "question_id": 6, "answer": "Folder" },
							  { "answer_id": 7, "question_id": 7, "answer": "Sticky note" },
							  { "answer_id": 8, "question_id": 8, "answer": "Hole puncher" },
							  { "answer_id": 9, "question_id": 9, "answer": "Rubber band" },
							  { "answer_id": 10, "question_id": 10, "answer": "Calculator" }
							]
						  },
						  {
							"stage": "Stage 13",
							"stageName": "Occupations and Workplaces - ××§×¦×•×¢×•×ª ×•××§×•××•×ª ×¢×‘×•×“×”",
							"direction": "rtl",
							"questions": [
							  { "question_id": 1, "question": "×¢×•×¨×š ×“×™×Ÿ" },
							  { "question_id": 2, "question": "××”× ×“×¡" },
							  { "question_id": 3, "question": "××“×¨×™×›×œ" },
							  { "question_id": 4, "question": "×¤×¡×™×›×•×œ×•×’" },
							  { "question_id": 5, "question": "×¢×™×ª×•× ××™" },
							  { "question_id": 6, "question": "××©×¨×“" },
							  { "question_id": 7, "question": "××¢×‘×“×”" },
							  { "question_id": 8, "question": "×‘×™×ª ××©×¤×˜" },
							  { "question_id": 9, "question": "××ª×¨ ×‘× ×™×™×”" },
							  { "question_id": 10, "question": "×¡×˜×•×“×™×•" }
							],
							"answers": [
							  { "answer_id": 1, "question_id": 1, "answer": "Lawyer" },
							  { "answer_id": 2, "question_id": 2, "answer": "Engineer" },
							  { "answer_id": 3, "question_id": 3, "answer": "Architect" },
							  { "answer_id": 4, "question_id": 4, "answer": "Psychologist" },
							  { "answer_id": 5, "question_id": 5, "answer": "Journalist" },
							  { "answer_id": 6, "question_id": 6, "answer": "Office" },
							  { "answer_id": 7, "question_id": 7, "answer": "Laboratory" },
							  { "answer_id": 8, "question_id": 8, "answer": "Courthouse" },
							  { "answer_id": 9, "question_id": 9, "answer": "Construction site" },
							  { "answer_id": 10, "question_id": 10, "answer": "Studio" }
							]
						  },
						  {
							"stage": "Stage 14",
							"stageName": "Household Chores - ×¢×‘×•×“×•×ª ×‘×™×ª",
							"direction": "rtl",
							"questions": [
							  { "question_id": 1, "question": "×œ×©×˜×•×£ ×›×œ×™×" },
							  { "question_id": 2, "question": "×œ×›×‘×¡" },
							  { "question_id": 3, "question": "×œ×©××•×‘ ××‘×§" },
							  { "question_id": 4, "question": "×œ×’×”×¥" },
							  { "question_id": 5, "question": "×œ× ×§×•×ª ×—×œ×•× ×•×ª" },
							  { "question_id": 6, "question": "×œ×¢×¨×•×š ××ª ×”×©×•×œ×—×Ÿ" },
							  { "question_id": 7, "question": "×œ×§×¤×œ ×‘×’×“×™×" },
							  { "question_id": 8, "question": "×œ×”×©×§×•×ª ×¦××—×™×" },
							  { "question_id": 9, "question": "×œ×–×¨×•×§ ××ª ×”×–×‘×œ" },
							  { "question_id": 10, "question": "×œ×¡×“×¨ ××ª ×”××™×˜×”" }
							],
							"answers": [
							  { "answer_id": 1, "question_id": 1, "answer": "To wash dishes" },
							  { "answer_id": 2, "question_id": 2, "answer": "To do laundry" },
							  { "answer_id": 3, "question_id": 3, "answer": "To vacuum" },
							  { "answer_id": 4, "question_id": 4, "answer": "To iron" },
							  { "answer_id": 5, "question_id": 5, "answer": "To clean windows" },
							  { "answer_id": 6, "question_id": 6, "answer": "To set the table" },
							  { "answer_id": 7, "question_id": 7, "answer": "To fold clothes" },
							  { "answer_id": 8, "question_id": 8, "answer": "To water plants" },
							  { "answer_id": 9, "question_id": 9, "answer": "To take out the trash" },
							  { "answer_id": 10, "question_id": 10, "answer": "To make the bed" }
							]
						  },
						  {
							"stage": "Stage 15",
							"stageName": "Personal Hygiene - ×”×™×’×™×™× ×” ××™×©×™×ª",
							"direction": "rtl",
							"questions": [
							  { "question_id": 1, "question": "××‘×¨×©×ª ×©×™× ×™×™×" },
							  { "question_id": 2, "question": "××©×—×ª ×©×™× ×™×™×" },
							  { "question_id": 3, "question": "×¡×‘×•×Ÿ" },
							  { "question_id": 4, "question": "×©××¤×•" },
							  { "question_id": 5, "question": "××¡×¨×§" },
							  { "question_id": 6, "question": "×“××•×“×•×¨× ×˜" },
							  { "question_id": 7, "question": "××’×‘×ª" },
							  { "question_id": 8, "question": "×§×¨× ×œ×—×•×ª" },
							  { "question_id": 9, "question": "××¨××”" },
							  { "question_id": 10, "question": "×’×•×–×– ×¦×™×¤×•×¨× ×™×™×" }
							],
							"answers": [
							  { "answer_id": 1, "question_id": 1, "answer": "Toothbrush" },
							  { "answer_id": 2, "question_id": 2, "answer": "Toothpaste" },
							  { "answer_id": 3, "question_id": 3, "answer": "Soap" },
							  { "answer_id": 4, "question_id": 4, "answer": "Shampoo" },
							  { "answer_id": 5, "question_id": 5, "answer": "Comb" },
							  { "answer_id": 6, "question_id": 6, "answer": "Deodorant" },
							  { "answer_id": 7, "question_id": 7, "answer": "Towel" },
							  { "answer_id": 8, "question_id": 8, "answer": "Moisturizer" },
							  { "answer_id": 9, "question_id": 9, "answer": "Mirror" },
							  { "answer_id": 10, "question_id": 10, "answer": "Nail clipper" }
							]
						  },
						  {
							"stage": "Stage 16",
							"stageName": "Restaurant and Dining - ××¡×¢×“×” ×•××•×›×œ",
							"direction": "rtl",
							"questions": [
							  { "question_id": 1, "question": "×ª×¤×¨×™×˜" },
							  { "question_id": 2, "question": "×× ×” ×¨××©×•× ×”" },
							  { "question_id": 3, "question": "×× ×” ×¢×™×§×¨×™×ª" },
							  { "question_id": 4, "question": "×§×™× ×•×—" },
							  { "question_id": 5, "question": "××œ×¦×¨" },
							  { "question_id": 6, "question": "×—×©×‘×•×Ÿ" },
							  { "question_id": 7, "question": "×˜×™×¤" },
							  { "question_id": 8, "question": "×”×–×× ×”" },
							  { "question_id": 9, "question": "×©×•×œ×—×Ÿ" },
							  { "question_id": 10, "question": "××¤×™×ª" }
							],
							"answers": [
							  { "answer_id": 1, "question_id": 1, "answer": "Menu" },
							  { "answer_id": 2, "question_id": 2, "answer": "Appetizer" },
							  { "answer_id": 3, "question_id": 3, "answer": "Main course" },
							  { "answer_id": 4, "question_id": 4, "answer": "Dessert" },
							  { "answer_id": 5, "question_id": 5, "answer": "Waiter" },
							  { "answer_id": 6, "question_id": 6, "answer": "Bill" },
							  { "answer_id": 7, "question_id": 7, "answer": "Tip" },
							  { "answer_id": 8, "question_id": 8, "answer": "Order" },
							  { "answer_id": 9, "question_id": 9, "answer": "Table" },
							  { "answer_id": 10, "question_id": 10, "answer": "Napkin" }
							]
						  },
						  {
							"stage": "Stage 17",
							"stageName": "Shopping and Money - ×§× ×™×•×ª ×•×›×¡×£",
							"direction": "rtl",
							"questions": [
							  { "question_id": 1, "question": "×§× ×™×•×Ÿ" },
							  { "question_id": 2, "question": "××‘×¦×¢" },
							  { "question_id": 3, "question": "×¢×•×“×£" },
							  { "question_id": 4, "question": "×§×‘×œ×”" },
							  { "question_id": 5, "question": "×›×¨×˜×™×¡ ××©×¨××™" },
							  { "question_id": 6, "question": "××—×™×¨" },
							  { "question_id": 7, "question": "×”× ×—×”" },
							  { "question_id": 8, "question": "×ª×•×¨" },
							  { "question_id": 9, "question": "××™×“×”" },
							  { "question_id": 10, "question": "×”×—×œ×¤×”" }
							],
							"answers": [
							  { "answer_id": 1, "question_id": 1, "answer": "Mall" },
							  { "answer_id": 2, "question_id": 2, "answer": "Sale" },
							  { "answer_id": 3, "question_id": 3, "answer": "Change" },
							  { "answer_id": 4, "question_id": 4, "answer": "Receipt" },
							  { "answer_id": 5, "question_id": 5, "answer": "Credit card" },
							  { "answer_id": 6, "question_id": 6, "answer": "Price" },
							  { "answer_id": 7, "question_id": 7, "answer": "Discount" },
							  { "answer_id": 8, "question_id": 8, "answer": "Queue" },
							  { "answer_id": 9, "question_id": 9, "answer": "Size" },
							  { "answer_id": 10, "question_id": 10, "answer": "Exchange" }
							]
						  },
						  {
							"stage": "Stage 18",
							"stageName": "Directions and Location - ×›×™×•×•× ×™× ×•××™×§×•×",
							"direction": "rtl",
							"questions": [
							  { "question_id": 1, "question": "×¦×¤×•×Ÿ" },
							  { "question_id": 2, "question": "×“×¨×•×" },
							  { "question_id": 3, "question": "××–×¨×—" },
							  { "question_id": 4, "question": "××¢×¨×‘" },
							  { "question_id": 5, "question": "×™××™× ×”" },
							  { "question_id": 6, "question": "×©×××œ×”" },
							  { "question_id": 7, "question": "×™×©×¨" },
							  { "question_id": 8, "question": "×¤× ×™×™×”" },
							  { "question_id": 9, "question": "×¦×•××ª" },
							  { "question_id": 10, "question": "×›×™×›×¨" }
							],
							"answers": [
							  { "answer_id": 1, "question_id": 1, "answer": "North" },
							  { "answer_id": 2, "question_id": 2, "answer": "South" },
							  { "answer_id": 3, "question_id": 3, "answer": "East" },
							  { "answer_id": 4, "question_id": 4, "answer": "West" },
							  { "answer_id": 5, "question_id": 5, "answer": "Right" },
							  { "answer_id": 6, "question_id": 6, "answer": "Left" },
							  { "answer_id": 7, "question_id": 7, "answer": "Straight" },
							  { "answer_id": 8, "question_id": 8, "answer": "Turn" },
							  { "answer_id": 9, "question_id": 9, "answer": "Intersection" },
							  { "answer_id": 10, "question_id": 10, "answer": "Roundabout" }
							]
						  },
						  {
							"stage": "Stage 19",
							"stageName": "Parts of Speech - ×—×œ×§×™ ×“×™×‘×¨",
							"direction": "rtl",
							"questions": [
							  { "question_id": 1, "question": "×©× ×¢×¦×" },
							  { "question_id": 2, "question": "×¤×•×¢×œ" },
							  { "question_id": 3, "question": "×ª×•××¨" },
							  { "question_id": 4, "question": "×ª×•××¨ ×”×¤×•×¢×œ" },
							  { "question_id": 5, "question": "××™×œ×ª ×™×—×¡" },
							  { "question_id": 6, "question": "×›×™× ×•×™ ×’×•×£" },
							  { "question_id": 7, "question": "××™×œ×ª ×§×™×©×•×¨" },
							  { "question_id": 8, "question": "××™×œ×ª ×©××œ×”" },
							  { "question_id": 9, "question": "×ª×•××¨ ×”×¤×¢×•×œ×”" },
							  { "question_id": 10, "question": "××™×œ×ª ×§×¨×™××”" }
							],
							"answers": [
							  { "answer_id": 1, "question_id": 1, "answer": "Noun" },
							  { "answer_id": 2, "question_id": 2, "answer": "Verb" },
							  { "answer_id": 3, "question_id": 3, "answer": "Adjective" },
							  { "answer_id": 4, "question_id": 4, "answer": "Adverb" },
							  { "answer_id": 5, "question_id": 5, "answer": "Preposition" },
							  { "answer_id": 6, "question_id": 6, "answer": "Pronoun" },
							  { "answer_id": 7, "question_id": 7, "answer": "Conjunction" },
							  { "answer_id": 8, "question_id": 8, "answer": "Interrogative" },
							  { "answer_id": 9, "question_id": 9, "answer": "Gerund" },
							  { "answer_id": 10, "question_id": 10, "answer": "Interjection" }
							]
						  },
						  {
							"stage": "Stage 20",
							"stageName": "Common Phrasal Verbs - ×¦×™×¨×•×¤×™ ×¤×¢×œ×™× × ×¤×•×¦×™×",
							"direction": "rtl",
							"questions": [
							  { "question_id": 1, "question": "×œ×”×ª×¢×•×¨×¨" },
							  { "question_id": 2, "question": "×œ×”××©×™×š" },
							  { "question_id": 3, "question": "×œ×•×•×ª×¨" },
							  { "question_id": 4, "question": "×œ×”×¡×ª×“×¨" },
							  { "question_id": 5, "question": "×œ×—×¤×©" },
							  { "question_id": 6, "question": "×œ×”×ª×’×‘×¨ ×¢×œ" },
							  { "question_id": 7, "question": "×œ×“××•×’ ×œ-" },
							  { "question_id": 8, "question": "×œ×”×ª×¨×’×© ×-" },
							  { "question_id": 9, "question": "×œ×”×¡×ª××š ×¢×œ" },
							  { "question_id": 10, "question": "×œ×”×ª××•×“×“ ×¢×" }
							],
							"answers": [
							  { "answer_id": 1, "question_id": 1, "answer": "Wake up" },
							  { "answer_id": 2, "question_id": 2, "answer": "Go on" },
							  { "answer_id": 3, "question_id": 3, "answer": "Give up" },
							  { "answer_id": 4, "question_id": 4, "answer": "Get along" },
							  { "answer_id": 5, "question_id": 5, "answer": "Look for" },
							  { "answer_id": 6, "question_id": 6, "answer": "Get over" },
							  { "answer_id": 7, "question_id": 7, "answer": "Take care of" },
							  { "answer_id": 8, "question_id": 8, "answer": "Get excited about" },
							  { "answer_id": 9, "question_id": 9, "answer": "Rely on" },
							  { "answer_id": 10, "question_id": 10, "answer": "Deal with" }
							]
						  }
						];


		const stateContents = {
			'×ª×¨×’×•×œ': `
				<div id="stage-number" class="stage-number">×©×œ×‘ 1 ××ª×•×š ${quizData.length}</div>
				<div class="progress-bar-container"><div id="progress-bar" class="progress-bar"></div></div>
				<div id="attempts">× ×™×¡×™×•× ×•×ª: 0</div>
				<div id="quiz-content"></div>
				<div class="button-container">
					<button class="center-button" onclick="showAllAnswers()" style="background-color: #00CED1">×”×¦×’ ×”×›×œ</button>
					<button class="center-button" onclick="checkStage()">×‘×“×™×§×ª ×ª×©×•×‘×•×ª</button>
					<button class="center-button" onclick="clearAllAnswers()" style="background-color: #00CED1">× ×§×” ×”×›×œ</button>
				</div>
			`,
			'××•×¦×¨ ×”××™×œ×™× ğŸ—ï¸':     `    <div class="page-container">         <div class="content-wrapper">             <table class="vocabulary-table">                 <thead>                     <tr>                         <th style="width: 50%;">English</th>                         <th class="hebrew" style="text-align: right;">×¢×‘×¨×™×ª</th>                     </tr>                 </thead>                 <tbody> <tr><td>Above</td><td class="hebrew">××¢×œ</td></tr> <tr><td>Adjective</td><td class="hebrew">×ª×•××¨</td></tr> <tr><td>Adverb</td><td class="hebrew">×ª×•××¨ ×”×¤×•×¢×œ</td></tr> <tr><td>After</td><td class="hebrew">××—×¨×™</td></tr> <tr><td>Airplane</td><td class="hebrew">××˜×•×¡</td></tr> <tr><td>Allergy</td><td class="hebrew">××œ×¨×’×™×”</td></tr> <tr><td>Ambitious</td><td class="hebrew">×××‘×™×¦×™×•× ×™</td></tr> <tr><td>Anger</td><td class="hebrew">×›×¢×¡</td></tr> <tr><td>Appetizer</td><td class="hebrew">×× ×” ×¨××©×•× ×”</td></tr> <tr><td>Apple</td><td class="hebrew">×ª×¤×•×—</td></tr> <tr><td>Application</td><td class="hebrew">××¤×œ×™×§×¦×™×”</td></tr> <tr><td>April</td><td class="hebrew">××¤×¨×™×œ</td></tr> <tr><td>Architect</td><td class="hebrew">××“×¨×™×›×œ</td></tr> <tr><td>Athletics</td><td class="hebrew">××ª×œ×˜×™×§×”</td></tr> <tr><td>Aunt</td><td class="hebrew">×“×•×“×”</td></tr> <tr><td>Autumn</td><td class="hebrew">×¡×ª×™×•</td></tr> <tr><td>Back</td><td class="hebrew">×’×‘</td></tr> <tr><td>Backup</td><td class="hebrew">×’×™×‘×•×™</td></tr> <tr><td>Baking tray</td><td class="hebrew">×ª×‘× ×™×ª ××¤×™×™×”</td></tr> <tr><td>Bank</td><td class="hebrew">×‘× ×§</td></tr> <tr><td>Basketball</td><td class="hebrew">×›×“×•×¨×¡×œ</td></tr> <tr><td>Beach</td><td class="hebrew">×—×•×£</td></tr> <tr><td>Before</td><td class="hebrew">×œ×¤× ×™</td></tr> <tr><td>Behind</td><td class="hebrew">×××—×•×¨×™</td></tr> <tr><td>Between</td><td class="hebrew">×‘×™×Ÿ</td></tr> <tr><td>Bill</td><td class="hebrew">×—×©×‘×•×Ÿ</td></tr> <tr><td>Blood pressure</td><td class="hebrew">×œ×—×¥ ×“×</td></tr> <tr><td>Blood test</td><td class="hebrew">×‘×“×™×§×ª ×“×</td></tr> <tr><td>Blue</td><td class="hebrew">×›×—×•×œ</td></tr> <tr><td>Boarding gate</td><td class="hebrew">×©×¢×¨ ×¢×œ×™×™×” ×œ××˜×•×¡</td></tr> <tr><td>Boredom</td><td class="hebrew">×©×¢××•×</td></tr> <tr><td>Bus</td><td class="hebrew">××•×˜×•×‘×•×¡</td></tr> <tr><td>Calculator</td><td class="hebrew">××—×©×‘×•×Ÿ</td></tr> <tr><td>Can opener</td><td class="hebrew">×¤×•×ª×—×Ÿ</td></tr> <tr><td>Car</td><td class="hebrew">××›×•× ×™×ª</td></tr> <tr><td>Car rental</td><td class="hebrew">×©×›×™×¨×ª ×¨×›×‘</td></tr> <tr><td>Cards</td><td class="hebrew">×§×œ×¤×™×</td></tr> <tr><td>Cave</td><td class="hebrew">××¢×¨×”</td></tr> <tr><td>Change</td><td class="hebrew">×¢×•×“×£</td></tr> <tr><td>Chess</td><td class="hebrew">×©×—××˜</td></tr> <tr><td>Choir</td><td class="hebrew">××§×”×œ×”</td></tr> <tr><td>Cinema</td><td class="hebrew">×‘×™×ª ×§×•×œ× ×•×¢</td></tr> <tr><td>City square</td><td class="hebrew">×›×™×›×¨ ×”×¢×™×¨</td></tr> <tr><td>Colander</td><td class="hebrew">××¡× × ×ª</td></tr> <tr><td>Cold</td><td class="hebrew">×§×¨</td></tr> <tr><td>Comb</td><td class="hebrew">××¡×¨×§</td></tr> <tr><td>Computer</td><td class="hebrew">××—×©×‘</td></tr> <tr><td>Concert</td><td class="hebrew">×§×•× ×¦×¨×˜</td></tr> <tr><td>Conductor</td><td class="hebrew">×× ×¦×—</td></tr> <tr><td>Conjunction</td><td class="hebrew">××™×œ×ª ×§×™×©×•×¨</td></tr> <tr><td>Construction site</td><td class="hebrew">××ª×¨ ×‘× ×™×™×”</td></tr> <tr><td>Courthouse</td><td class="hebrew">×‘×™×ª ××©×¤×˜</td></tr> <tr><td>Creative</td><td class="hebrew">×™×¦×™×¨×ª×™</td></tr> <tr><td>Credit card</td><td class="hebrew">×›×¨×˜×™×¡ ××©×¨××™</td></tr> <tr><td>Cutting board</td><td class="hebrew">×§×¨×© ×—×™×ª×•×š</td></tr> <tr><td>Deal with</td><td class="hebrew">×œ×”×ª××•×“×“ ×¢×</td></tr> <tr><td>Deodorant</td><td class="hebrew">×“××•×“×•×¨× ×˜</td></tr> <tr><td>Desert</td><td class="hebrew">××“×‘×¨</td></tr> <tr><td>Dessert</td><td class="hebrew">×§×™× ×•×—</td></tr> <tr><td>Discount</td><td class="hebrew">×”× ×—×”</td></tr> <tr><td>Download</td><td class="hebrew">×”×•×¨×“×”</td></tr> <tr><td>Drums</td><td class="hebrew">×ª×•×¤×™×</td></tr> <tr><td>East</td><td class="hebrew">××–×¨×—</td></tr> <tr><td>Exchange</td><td class="hebrew">×”×—×œ×¤×”</td></tr> <tr><td>Fear</td><td class="hebrew">×¤×—×“</td></tr> <tr><td>February</td><td class="hebrew">×¤×‘×¨×•××¨</td></tr> <tr><td>Fever</td><td class="hebrew">×—×•×</td></tr> <tr><td>Flexible</td><td class="hebrew">×’××™×©</td></tr> <tr><td>Flight ticket</td><td class="hebrew">×›×¨×˜×™×¡ ×˜×™×¡×”</td></tr> <tr><td>Flu</td><td class="hebrew">×©×¤×¢×ª</td></tr> <tr><td>Flute</td><td class="hebrew">×—×œ×™×œ</td></tr> <tr><td>Folder</td><td class="hebrew">×ª×™×§×™×™×”</td></tr> <tr><td>Foreign currency</td><td class="hebrew">××˜×‘×¢ ×–×¨</td></tr> <tr><td>Forest</td><td class="hebrew">×™×¢×¨</td></tr> <tr><td>Fracture</td><td class="hebrew">×©×‘×¨</td></tr> <tr><td>Friendly</td><td class="hebrew">×—×‘×¨×•×ª×™</td></tr> <tr><td>Frying pan</td><td class="hebrew">××—×‘×ª</td></tr> <tr><td>Gerund</td><td class="hebrew">×ª×•××¨ ×”×¤×¢×•×œ×”</td></tr> <tr><td>Get along</td><td class="hebrew">×œ×”×¡×ª×“×¨</td></tr> <tr><td>Get excited about</td><td class="hebrew">×œ×”×ª×¨×’×© ×-</td></tr> <tr><td>Get over</td><td class="hebrew">×œ×”×ª×’×‘×¨ ×¢×œ</td></tr> <tr><td>Give up</td><td class="hebrew">×œ×•×•×ª×¨</td></tr> <tr><td>Glue</td><td class="hebrew">×“×‘×§</td></tr> <tr><td>Go on</td><td class="hebrew">×œ×”××©×™×š</td></tr> <tr><td>Golf</td><td class="hebrew">×’×•×œ×£</td></tr> <tr><td>Green</td><td class="hebrew">×™×¨×•×§</td></tr> <tr><td>Guitar</td><td class="hebrew">×’×™×˜×¨×”</td></tr> <tr><td>Happiness</td><td class="hebrew">×©××—×”</td></tr> <tr><td>Headache</td><td class="hebrew">×›××‘ ×¨××©</td></tr> <tr><td>Highlighter</td><td class="hebrew">×˜×•×© ××“×’×™×©</td></tr> <tr><td>Hole puncher</td><td class="hebrew">×—×•×¨×¨</td></tr> <tr><td>Hospital</td><td class="hebrew">×‘×™×ª ×—×•×œ×™×</td></tr> <tr><td>Hotel</td><td class="hebrew">××œ×•×Ÿ</td></tr> <tr><td>Internet</td><td class="hebrew">××™× ×˜×¨× ×˜</td></tr> <tr><td>Intersection</td><td class="hebrew">×¦×•××ª</td></tr> <tr><td>Interjection</td><td class="hebrew">××™×œ×ª ×§×¨×™××”</td></tr> <tr><td>Interrogative</td><td class="hebrew">××™×œ×ª ×©××œ×”</td></tr> <tr><td>Island</td><td class="hebrew">××™</td></tr> <tr><td>January</td><td class="hebrew">×™× ×•××¨</td></tr> <tr><td>Jealousy</td><td class="hebrew">×§× ××”</td></tr> <tr><td>Journalist</td><td class="hebrew">×¢×™×ª×•× ××™</td></tr> <tr><td>June</td><td class="hebrew">×™×•× ×™</td></tr> <tr><td>Laboratory</td><td class="hebrew">××¢×‘×“×”</td></tr> <tr><td>Ladle</td><td class="hebrew">××¦×§×ª</td></tr> <tr><td>Lake</td><td class="hebrew">××’×</td></tr> <tr><td>Lawyer</td><td class="hebrew">×¢×•×¨×š ×“×™×Ÿ</td></tr> <tr><td>Left</td><td class="hebrew">×©×××œ×”</td></tr> <tr><td>Library</td><td class="hebrew">×¡×¤×¨×™×™×”</td></tr> <tr><td>Logical</td><td class="hebrew">×”×’×™×•× ×™</td></tr> <tr><td>Look for</td><td class="hebrew">×œ×—×¤×©</td></tr> <tr><td>Love</td><td class="hebrew">××”×‘×”</td></tr> <tr><td>Main course</td><td class="hebrew">×× ×” ×¢×™×§×¨×™×ª</td></tr> <tr><td>Mall</td><td class="hebrew">×§× ×™×•×Ÿ</td></tr> <tr><td>March</td><td class="hebrew">××¨×¥</td></tr> <tr><td>May</td><td class="hebrew">×××™</td></tr> <tr><td>Medicine</td><td class="hebrew">×ª×¨×•×¤×”</td></tr> <tr><td>Menu</td><td class="hebrew">×ª×¤×¨×™×˜</td></tr> <tr><td>Mirror</td><td class="hebrew">××¨××”</td></tr> <tr><td>Mixer</td><td class="hebrew">××™×§×¡×¨</td></tr> <tr><td>Moisturizer</td><td class="hebrew">×§×¨× ×œ×—×•×ª</td></tr> <tr><td>Mountain</td><td class="hebrew">×”×¨</td></tr> <tr><td>Museum</td><td class="hebrew">××•×–×™××•×Ÿ</td></tr> <tr><td>Nail clipper</td><td class="hebrew">×’×•×–×– ×¦×™×¤×•×¨× ×™×™×</td></tr> <tr><td>Napkin</td><td class="hebrew">××¤×™×ª</td></tr> <tr><td>North</td><td class="hebrew">×¦×¤×•×Ÿ</td></tr> <tr><td>Noun</td><td class="hebrew">×©× ×¢×¦×</td></tr> <tr><td>Office</td><td class="hebrew">××©×¨×“</td></tr> <tr><td>Order</td><td class="hebrew">×”×–×× ×”</td></tr> <tr><td>Orchestra</td><td class="hebrew">×ª×–××•×¨×ª</td></tr> <tr><td>Organized</td><td class="hebrew">×××•×¨×’×Ÿ</td></tr> <tr><td>Park</td><td class="hebrew">×¤××¨×§</td></tr> <tr><td>Passport</td><td class="hebrew">×“×¨×›×•×Ÿ</td></tr> <tr><td>Password</td><td class="hebrew">×¡×™×¡××”</td></tr> <tr><td>Patient</td><td class="hebrew">×¡×‘×œ× ×™</td></tr> <tr><td>Peeler</td><td class="hebrew">×§×•×œ×¤×Ÿ</td></tr> <tr><td>Piano</td><td class="hebrew">×¤×¡× ×ª×¨</td></tr> <tr><td>Pot</td><td class="hebrew">×¡×™×¨</td></tr> <tr><td>Preposition</td><td class="hebrew">××™×œ×ª ×™×—×¡</td></tr> <tr><td>Price</td><td class="hebrew">××—×™×¨</td></tr> <tr><td>Pride</td><td class="hebrew">×’××•×•×”</td></tr> <tr><td>Pronoun</td><td class="hebrew">×›×™× ×•×™ ×’×•×£</td></tr> <tr><td>Psychologist</td><td class="hebrew">×¤×¡×™×›×•×œ×•×’</td></tr> <tr><td>Queue</td><td class="hebrew">×ª×•×¨</td></tr> <tr><td>Receipt</td><td class="hebrew">×§×‘×œ×”</td></tr> <tr><td>Red</td><td class="hebrew">××“×•×</td></tr> <tr><td>Rely on</td><td class="hebrew">×œ×”×¡×ª××š ×¢×œ</td></tr> <tr><td>Restaurant</td><td class="hebrew">××¡×¢×“×”</td></tr> <tr><td>Right</td><td class="hebrew">×™××™× ×”</td></tr> <tr><td>River</td><td class="hebrew">× ×”×¨</td></tr> <tr><td>Rolling pin</td><td class="hebrew">××¢×¨×•×š</td></tr> <tr><td>Roundabout</td><td class="hebrew">×›×™×›×¨</td></tr> <tr><td>Rubber band</td><td class="hebrew">×’×•××™×™×”</td></tr> <tr><td>Ruler</td><td class="hebrew">×¡×¨×’×œ</td></tr> <tr><td>Running</td><td class="hebrew">×¨×™×¦×”</td></tr> <tr><td>Sadness</td><td class="hebrew">×¢×¦×‘</td></tr> <tr><td>Sale</td><td class="hebrew">××‘×¦×¢</td></tr> <tr><td>Scissors</td><td class="hebrew">××¡×¤×¨×™×™×</td></tr> <tr><td>Sensitive</td><td class="hebrew">×¨×’×™×©</td></tr> <tr><td>Shampoo</td><td class="hebrew">×©××¤×•</td></tr> <tr><td>Shame</td><td class="hebrew">×‘×•×©×”</td></tr> <tr><td>Shy</td><td class="hebrew">×‘×™×™×©×Ÿ</td></tr> <tr><td>Singer</td><td class="hebrew">×–××¨</td></tr> <tr><td>Size</td><td class="hebrew">××™×“×”</td></tr> <tr><td>Skiing</td><td class="hebrew">×¡×§×™</td></tr> <tr><td>Smartphone</td><td class="hebrew">×˜×œ×¤×•×Ÿ ×—×›×</td></tr> <tr><td>Soap</td><td class="hebrew">×¡×‘×•×Ÿ</td></tr> <tr><td>Social network</td><td class="hebrew">×¨×©×ª ×—×‘×¨×ª×™×ª</td></tr> <tr><td>South</td><td class="hebrew">×“×¨×•×</td></tr> <tr><td>Stapler</td><td class="hebrew">××”×“×§</td></tr> <tr><td>Sticky note</td><td class="hebrew">× ×™×™×¨ ×“×‘×™×§</td></tr> <tr><td>Straight</td><td class="hebrew">×™×©×¨</td></tr> <tr><td>Studio</td><td class="hebrew">×¡×˜×•×“×™×•</td></tr> <tr><td>Suitcase</td><td class="hebrew">××–×•×•×“×”</td></tr> <tr><td>Surprise</td><td class="hebrew">×”×¤×ª×¢×”</td></tr> <tr><td>Swimming</td><td class="hebrew">×©×—×™×™×”</td></tr> <tr><td>Table</td><td class="hebrew">×©×•×œ×—×Ÿ</td></tr> <tr><td>Take care of</td><td class="hebrew">×œ×“××•×’ ×œ-</td></tr> <tr><td>Tennis</td><td class="hebrew">×˜× ×™×¡</td></tr> <tr><td>Theater</td><td class="hebrew">×ª×™××˜×¨×•×Ÿ</td></tr> <tr><td>Tip</td><td class="hebrew">×˜×™×¤</td></tr> <tr><td>To clean windows</td><td class="hebrew">×œ× ×§×•×ª ×—×œ×•× ×•×ª</td></tr> <tr><td>To cook</td><td class="hebrew">×œ×‘×©×œ</td></tr> <tr><td>To dance</td><td class="hebrew">×œ×¨×§×•×“</td></tr> <tr><td>To do laundry</td><td class="hebrew">×œ×›×‘×¡</td></tr> <tr><td>To draw</td><td class="hebrew">×œ×¦×™×™×¨</td></tr> <tr><td>To fold clothes</td><td class="hebrew">×œ×§×¤×œ ×‘×’×“×™×</td></tr> <tr><td>To grow plants</td><td class="hebrew">×œ×’×“×œ ×¦××—×™×</td></tr> <tr><td>To hike in nature</td><td class="hebrew">×œ×˜×™×™×œ ×‘×˜×‘×¢</td></tr> <tr><td>To iron</td><td class="hebrew">×œ×’×”×¥</td></tr> <tr><td>To listen to music</td><td class="hebrew">×œ×©××•×¢ ××•×–×™×§×”</td></tr> <tr><td>To make the bed</td><td class="hebrew">×œ×¡×“×¨ ××ª ×”××™×˜×”</td></tr> <tr><td>To play computer games</td><td class="hebrew">×œ×©×—×§ ××©×—×§×™ ××—×©×‘</td></tr> <tr><td>To play soccer</td><td class="hebrew">×œ×©×—×§ ×›×“×•×¨×’×œ</td></tr> <tr><td>To read a book</td><td class="hebrew">×œ×§×¨×•× ×¡×¤×¨</td></tr> <tr><td>To set the table</td><td class="hebrew">×œ×¢×¨×•×š ××ª ×”×©×•×œ×—×Ÿ</td></tr> <tr><td>To take out the trash</td><td class="hebrew">×œ×–×¨×•×§ ××ª ×”×–×‘×œ</td></tr> <tr><td>To vacuum</td><td class="hebrew">×œ×©××•×‘ ××‘×§</td></tr> <tr><td>To wash dishes</td><td class="hebrew">×œ×©×˜×•×£ ×›×œ×™×</td></tr> <tr><td>To watch movies</td><td class="hebrew">×œ×¦×¤×•×ª ×‘×¡×¨×˜×™×</td></tr> <tr><td>To water plants</td><td class="hebrew">×œ×”×©×§×•×ª ×¦××—×™×</td></tr> <tr><td>Toothbrush</td><td class="hebrew">××‘×¨×©×ª ×©×™× ×™×™×</td></tr> <tr><td>Toothpaste</td><td class="hebrew">××©×—×ª ×©×™× ×™×™×</td></tr> <tr><td>Tour guide</td><td class="hebrew">××“×¨×™×š ×˜×™×•×œ×™×</td></tr> <tr><td>Tourism</td><td class="hebrew">×ª×™×™×¨×•×ª</td></tr> <tr><td>Towel</td><td class="hebrew">××’×‘×ª</td></tr> <tr><td>Train station</td><td class="hebrew">×ª×—× ×ª ×¨×›×‘×ª</td></tr> <tr><td>Travel insurance</td><td class="hebrew">×‘×™×˜×•×— × ×¡×™×¢×•×ª</td></tr> <tr><td>Turn</td><td class="hebrew">×¤× ×™×™×”</td></tr> <tr><td>Upload</td><td class="hebrew">×”×¢×œ××”</td></tr> <tr><td>Vaccination</td><td class="hebrew">×—×™×¡×•×Ÿ</td></tr> <tr><td>Valley</td><td class="hebrew">×¢××§</td></tr> <tr><td>Verb</td><td class="hebrew">×¤×•×¢×œ</td></tr> <tr><td>Violin</td><td class="hebrew">×›×™× ×•×¨</td></tr> <tr><td>Virus</td><td class="hebrew">×•×™×¨×•×¡</td></tr> <tr><td>Volleyball</td><td class="hebrew">×›×“×•×¨×¢×£</td></tr> <tr><td>Waiter</td><td class="hebrew">××œ×¦×¨</td></tr> <tr><td>Wake up</td><td class="hebrew">×œ×”×ª×¢×•×¨×¨</td></tr> <tr><td>Waterfall</td><td class="hebrew">××¤×œ</td></tr> <tr><td>West</td><td class="hebrew">××¢×¨×‘</td></tr> <tr><td>Wound</td><td class="hebrew">×¤×¦×¢</td></tr> <tr><td>Yellow</td><td class="hebrew">×¦×”×•×‘</td></tr>                 </tbody>             </table>         </div>     </div>`
		};

        function setQuizExpansion(allow) {
            allowQuizExpansion = allow;
            adjustLayout();
        }

        function adjustLayout() {
            const wrapper = document.querySelector('.content-wrapper');
            const quizContainer = document.getElementById('quizContainer');
            const sidePanel1 = document.getElementById('sidePanel1');

            const isPanel1Visible = window.getComputedStyle(sidePanel1).display !== 'none';

            wrapper.style.justifyContent = 'space-between';

            if (isPanel1Visible) {
                sidePanel1.style.flex = '0 0 calc(20% - 0.5rem)';
                sidePanel1.style.maxWidth = 'calc(20% - 0.5rem)';
                quizContainer.style.flex = '1';
            } else {
                quizContainer.style.flex = '1';
                wrapper.style.justifyContent = 'center';
            }

            [sidePanel1, quizContainer].forEach(el => {
                el.style.display = 'block';
            });
        }

        function togglePanel(panelId) {
            const panel = document.getElementById(panelId);
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            adjustLayout();
        }

        function updateSwitcherLayout() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const handle = switchElement.querySelector('.switch-handle');

            labels.forEach(label => {
                label.style.flex = 'none';
                label.style.padding = '0 20px';
            });

            const activeLabel = switchElement.querySelector('.switch-label.active');
            if (activeLabel) {
                const switchRect = switchElement.getBoundingClientRect();
                const labelRect = activeLabel.getBoundingClientRect();

                handle.style.left = `${labelRect.left - switchRect.left}px`;
                handle.style.width = `${labelRect.width}px`;
            }

            switchElement.style.width = 'auto';
        }

        function switchTab(index) {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const activeStates = Array.from(labels).map(label => label.textContent);

            labels.forEach((label, i) => {
                label.classList.toggle('active', i === index);
            });

            updateSwitcherLayout();
            showContent(activeStates[index]);

            adjustLayout();
        }

		function showContent(state) {
			const tabContent = document.getElementById('tabContent');
			tabContent.innerHTML = stateContents[state] || '';

			if (state === '×ª×¨×’×•×œ') {
				const quizContent = document.getElementById('quiz-content');
				if (quizContent) {
					let columnsContainer = document.getElementById('columnsContainer');
					if (!columnsContainer) {
						columnsContainer = document.createElement('div');
						columnsContainer.id = 'columnsContainer';
						columnsContainer.className = 'columns-container';
						columnsContainer.innerHTML = `
							<div id="questionsColumn" class="questions-column"></div>
							<div id="answersColumn" class="answers-column"></div>	
						`;
						quizContent.appendChild(columnsContainer);
					}
				}
				renderQuiz();
				updateProgressBar();
			}
		}

        function initializeSwitch() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labelsContainer = switchElement.querySelector('.switch-labels');
            const switchContainer = document.getElementById('switchContainer');

            const activeStates = Object.keys(stateContents).filter(state => stateContents[state].trim() !== '');

            if (activeStates.length <= 1) {
                switchContainer.style.display = 'none';
                if (activeStates.length === 1) {
                    showContent(activeStates[0]);
                }
                return;
            }

            switchContainer.style.display = 'flex';

            activeStates.forEach((state, index) => {
                const label = document.createElement('div');
                label.className = 'switch-label';
                label.textContent = state;
                label.addEventListener('click', () => switchTab(index));
                labelsContainer.appendChild(label);
            });

            const defaultTab = manuallySetDefaultTab !== null && manuallySetDefaultTab < activeStates.length
                ? manuallySetDefaultTab
                : 0;

            switchTab(defaultTab);
        }

function renderQuiz() {
    console.log("Rendering quiz for Stage:", currentStage);
    const quizContent = document.getElementById("quiz-content");

    if (!quizContent) {
        console.error("Quiz content not found");
        return;
    }

    // Clear existing content to avoid retaining old columns
    quizContent.innerHTML = '';

    // Create a new columns container each time to avoid any conflicts
    const columnsContainer = document.createElement("div");
    columnsContainer.id = "columnsContainer";
    columnsContainer.className = "columns-container";
    columnsContainer.innerHTML = `
        <div id="questionsColumn" class="questions-column"></div>
        <div id="answersColumn" class="answers-column"></div>
    `;
    quizContent.appendChild(columnsContainer);

    // Get references to the new columns
    const questionsColumn = document.getElementById("questionsColumn");
    const answersColumn = document.getElementById("answersColumn");

    if (!questionsColumn || !answersColumn) {
        console.error("Questions or answers column not found");
        return;
    }

    const currentQuiz = quizData[currentStage];
    console.log("Current Quiz Data:", currentQuiz);

    // Apply the correct layout class
    columnsContainer.className = `columns-container ${currentQuiz.direction}-layout`;

    // Add stage name if it exists
    if (currentQuiz.stageName) {
        const stageNameElement = document.createElement("h2");
        stageNameElement.textContent = currentQuiz.stageName;
        stageNameElement.className = "stage-name";
        quizContent.insertBefore(stageNameElement, columnsContainer);
    }

    const shuffledQuestions = shuffleArray([...currentQuiz.questions]);
    const shuffledAnswers = shuffleArray([...currentQuiz.answers]);

    questionsColumn.innerHTML = '';
    answersColumn.innerHTML = '';

    shuffledQuestions.forEach((question, index) => {
        const questionWrapper = document.createElement("div");
        const answerWrapper = document.createElement("div");
        questionWrapper.className = "card-wrapper";
        answerWrapper.className = "card-wrapper";

        const questionElement = createQuestionElement(question);
        const answerElement = createAnswerElement(shuffledAnswers[index]);

        questionWrapper.appendChild(questionElement);
        answerWrapper.appendChild(answerElement);

        questionsColumn.appendChild(questionWrapper);
        answersColumn.appendChild(answerWrapper);
    });

    // Set all cards to the height of the tallest card
    const allCards = document.querySelectorAll('.question-item, .answer-item');
    let maxHeight = 0;

    // Find the tallest card
    allCards.forEach(card => {
        const height = card.offsetHeight;
        if (height > maxHeight) {
            maxHeight = height;
        }
    });

    // Set all cards to the max height
    allCards.forEach(card => {
        card.style.height = `${maxHeight}px`;
    });

    // Re-enable "Show All" and "Clear All" buttons
    document.querySelectorAll('.center-button').forEach(button => {
        if (button.textContent === 'Show All' || button.textContent === 'Clear All') {
            button.disabled = false;
        }
    });

    updateStageNumber();

    // Reset attempts for the new stage
    attempts = 0;
    document.getElementById("attempts").textContent = `× ×¡×™×•× ×•×ª: ${attempts}`;

    // Update progress bar
    updateProgressBar();
}


		function createQuestionElement(question) {
			const questionElement = document.createElement("div");
			questionElement.classList.add("question-item");
			questionElement.textContent = question.question;
			questionElement.dataset.questionId = question.question_id;
			questionElement.onclick = () => handleQuestionSelect(questionElement);
			
			// Add drag and drop event listeners
			questionElement.ondragover = (e) => {
				e.preventDefault();
				questionElement.classList.add('drag-over');
			};
			questionElement.ondragleave = () => questionElement.classList.remove('drag-over');
			questionElement.ondrop = (e) => handleDrop(e, questionElement);
			
			return questionElement;
		}

		function createAnswerElement(answer) {
			const answerElement = document.createElement("div");
			answerElement.classList.add("answer-item");
			answerElement.style.backgroundColor = colors[answer.answer_id % colors.length];
			answerElement.textContent = answer.answer;
			answerElement.dataset.answerId = answer.answer_id;
			answerElement.onclick = () => handleAnswerSelect(answerElement);
			
			// Make answer draggable
			answerElement.draggable = true;
			answerElement.ondragstart = (e) => handleDragStart(e, answerElement);
			
			return answerElement;
		}

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

		function handleQuestionSelect(element) {
			if (element.dataset.matchedAnswerId) {
				// If the question is already matched, reset it
				const matchedAnswer = document.querySelector(`.answer-item[data-answer-id="${element.dataset.matchedAnswerId}"]`);
				if (matchedAnswer) {
					matchedAnswer.classList.remove('matched');
				}
				element.style.backgroundColor = '';
				delete element.dataset.matchedAnswerId;
				selectedQuestion = null;
			} else {
				// If it's not matched, select it
				if (selectedQuestion) selectedQuestion.classList.remove('selected');
				selectedQuestion = element;
				selectedQuestion.classList.add('selected');
				if (selectedAnswer) matchCards();
			}
		}

		function handleAnswerSelect(element) {
			if (selectedAnswer) selectedAnswer.classList.remove('selected');
			selectedAnswer = element;
			selectedAnswer.classList.add('selected');
			if (selectedQuestion) matchCards();
		}

		function matchCards() {
			if (!selectedQuestion || !selectedAnswer) return;

			// If the question was previously matched, reset the old match
			if (selectedQuestion.dataset.matchedAnswerId) {
				const oldMatchedAnswer = document.querySelector(`.answer-item[data-answer-id="${selectedQuestion.dataset.matchedAnswerId}"]`);
				if (oldMatchedAnswer) {
					oldMatchedAnswer.classList.remove('matched');
				}
			}

			// If the answer was previously matched, reset the old match
			const oldMatchedQuestion = document.querySelector(`.question-item[data-matched-answer-id="${selectedAnswer.dataset.answerId}"]`);
			if (oldMatchedQuestion) {
				oldMatchedQuestion.style.backgroundColor = '';
				delete oldMatchedQuestion.dataset.matchedAnswerId;
			}

			// Make the new match
			selectedQuestion.style.backgroundColor = selectedAnswer.style.backgroundColor;
			selectedQuestion.dataset.matchedAnswerId = selectedAnswer.dataset.answerId;
			selectedAnswer.classList.add('matched');

			selectedQuestion.classList.remove('selected');
			selectedAnswer.classList.remove('selected');
			selectedQuestion = null;
			selectedAnswer = null;
		}
				
		function handleDragStart(e, answerElement) {
			e.dataTransfer.setData('text/plain', answerElement.dataset.answerId);
			selectedAnswer = answerElement;
		}

		function handleDrop(e, questionElement) {
			e.preventDefault();
			questionElement.classList.remove('drag-over');
			const answerId = e.dataTransfer.getData('text');
			const answerElement = document.querySelector(`.answer-item[data-answer-id="${answerId}"]`);
			
			if (answerElement) {
				selectedQuestion = questionElement;
				matchCards();
			}
		}
		
function checkStage() {
    attempts++;
    document.getElementById("attempts").textContent = `Attempts: ${attempts}`;

    let correctCount = 0;
    const totalQuestions = quizData[currentStage].questions.length;

    document.querySelectorAll('.question-item').forEach(questionCard => {
        const questionId = questionCard.dataset.questionId;
        const matchedAnswerId = questionCard.dataset.matchedAnswerId;
        const correctAnswer = quizData[currentStage].answers.find(a => a.question_id == questionId);

        if (matchedAnswerId == correctAnswer.answer_id) {
            correctCount++;
        } else {
            // Clear the background color for incorrect answers
            questionCard.style.backgroundColor = '';
            // Remove the matched answer ID
            delete questionCard.dataset.matchedAnswerId;
        }
    });

    if (correctCount === totalQuestions) {
        addAnimalsToFarm(totalQuestions);

        // Disable "Show All" and "Clear All" buttons
        document.querySelectorAll('.center-button').forEach(button => {
            if (button.textContent === 'Show All' || button.textContent === 'Clear All') {
                button.disabled = true;
            }
        });

        singleStageConfetti();
        showEncouragingPopup(correctCount, totalQuestions, true);

        if (currentStage < quizData.length - 1) {
            // Increment currentStage and update progress bar
            currentStage++;
            updateProgressBar();
            
            // Render the new stage after a short delay for better UX
            setTimeout(() => {
                attempts = 0;
                // Remove the old stage name if it exists
                const oldStageName = document.querySelector('.stage-name');
                if (oldStageName) {
                    oldStageName.remove();
                }
                renderQuiz(); // Render the next stage
                document.getElementById("attempts").textContent = `Attempts: ${attempts}`;
            }, 1500);
        } else {
            // If all stages are complete
			currentStage++;
			updateProgressBar();
            allStagesConfetti();
            showModal("Congratulations! You've completed all stages.");
        }
    } else {
        showEncouragingPopup(correctCount, totalQuestions, false);
        if (attempts >= 10) {
            showModal("You've reached the maximum number of attempts. The correct answers have been revealed.");
            showAllAnswers(); // Reveal all correct answers

            // Disable the check answers button
            const checkAnswersButton = document.querySelector('.center-button.check-answers');
            if (checkAnswersButton) {
                checkAnswersButton.disabled = true;
            }
        }
    }

    scrollToTop();
}


		function showAllAnswers() {
			const currentQuiz = quizData[currentStage];
			document.querySelectorAll('.question-item').forEach(questionCard => {
				const questionId = questionCard.dataset.questionId;
				const correctAnswer = currentQuiz.answers.find(a => a.question_id == questionId);
				const correctAnswerElement = document.querySelector(`.answer-item[data-answer-id="${correctAnswer.answer_id}"]`);
				
				if (correctAnswerElement) {
					questionCard.style.backgroundColor = correctAnswerElement.style.backgroundColor;
					questionCard.dataset.matchedAnswerId = correctAnswer.answer_id;
				}
			});

			// Disable drag-and-drop and click events after revealing all answers
			document.querySelectorAll('.question-item, .answer-item').forEach(item => {
				item.onclick = null;
				item.ondragstart = null;
				item.ondragover = null;
				item.ondrop = null;
			});
		}

		function clearAllAnswers() {
			// Clear question cards
			document.querySelectorAll('.question-item').forEach(questionCard => {
				questionCard.style.backgroundColor = '';
				delete questionCard.dataset.matchedAnswerId;
			});

			// Clear answer cards
			document.querySelectorAll('.answer-item').forEach(answerCard => {
				answerCard.classList.remove('matched');
			});

			// Re-enable interactions
			document.querySelectorAll('.question-item, .answer-item').forEach(item => {
				item.onclick = item.classList.contains('question-item') ? 
					() => handleQuestionSelect(item) : 
					() => handleAnswerSelect(item);
				
				if (item.classList.contains('answer-item')) {
					item.draggable = true;
					item.ondragstart = (e) => handleDragStart(e, item);
				} else {
					item.ondragover = (e) => {
						e.preventDefault();
						item.classList.add('drag-over');
					};
					item.ondragleave = () => item.classList.remove('drag-over');
					item.ondrop = (e) => handleDrop(e, item);
				}
			});
		}

        function showEncouragingPopup(correctCount, totalQuestions, isStageComplete) {
            const incorrectCount = totalQuestions - correctCount;
            let message = `×§×™×‘×œ×ª ${correctCount} × ×›×•× ×•×ª ×•-${incorrectCount} ×©×’×•×™×•×ª.`;

            if (correctCount === totalQuestions) {
                message += " ×¦×™×•×Ÿ ××•×©×œ×!";
            } else if (correctCount >= Math.ceil(totalQuestions * 0.7)) {
                message += " ×¢×‘×•×“×” ××¦×•×™× ×ª! ×¨×•××™× ×©×”× ×•×©× ××ª×—×™×œ ×œ×”×™×•×ª ××•×‘×Ÿ!";
            } else if (correctCount >= Math.ceil(totalQuestions * 0.5)) {
                message += " ××××¥ ×˜×•×‘! × ××©×™×š ×œ×ª×¨×’×œ ×›×™ ×”×©×™×¤×•×¨ ×§×¨×•×‘!";
            } else {
                message += " ×œ× ×œ×•×•×ª×¨! ×›×œ × ×¡×™×•×Ÿ ×¢×•×–×¨ ×œ×š ×œ×œ××•×“. × × ×¡×” ×©×•×‘!";
            }

            if (isStageComplete) {
                message += "\n\n ×”×©×œ×‘ ×”×–×” ×”×¡×ª×™×™×, ×¢×•×‘×¨×™× ×œ×©×œ×‘ ×”×‘×.";
            }

            showModal(message);
        }

        function updateProgressBar() {
            const progressBar = document.getElementById("progress-bar");
            const completedStages = currentStage;
            const progress = (completedStages / quizData.length) * 100;
            const roundedProgress = Math.min(100, Math.max(0, Math.round(progress)));
            progressBar.style.width = `${roundedProgress}%`;
            progressBar.textContent = roundedProgress > 0 ? `${roundedProgress}%` : '';
        }

        function updateStageNumber() {
            const stageElement = document.getElementById("stage-number");
            stageElement.textContent = `×©×œ×‘ ${currentStage + 1} ××ª×•×š ${quizData.length}`;
        }

        function singleStageConfetti() {
            function randomInRange(min, max) {
                return Math.random() * (max - min) + min;
            }
            confetti({
                angle: randomInRange(55, 125),
                spread: randomInRange(50, 70),
                particleCount: randomInRange(50, 100),
                origin: { y: 0.6 },
            });
        }

        function allStagesConfetti() {
            const defaults = {
                spread: 360,
                ticks: 50,
                gravity: 0,
                decay: 0.94,
                startVelocity: 30,
                shapes: ["star"],
                colors: ["FFE400", "FFBD00", "E89400", "FFCA6C", "FDFFB8"],
            };
            function shoot() {
                confetti({
                    ...defaults,
                    particleCount: 40,
                    scalar: 1.2,
                    shapes: ["star"],
                });
                confetti({
                    ...defaults,
                    particleCount: 10,
                    scalar: 0.75,
                    shapes: ["circle"],
                });
            }
            setTimeout(shoot, 0);
            setTimeout(shoot, 100);
            setTimeout(shoot, 200);
        }

        let farmAnimals = [];

        function addAnimalsToFarm(count) {
            const animalFarm = document.getElementById('animalFarm');
            let availableAnimals = animals.filter(animal => !farmAnimals.includes(animal));

            console.log(`Adding ${count} animals to the farm. Current farm size: ${farmAnimals.length}`);

            for (let i = 0; i < count; i++) {
                if (availableAnimals.length === 0) {
                    console.log("No more unique animals available!");
                    break;
                }

                const randomIndex = Math.floor(Math.random() * availableAnimals.length);
                const chosenAnimal = availableAnimals[randomIndex];

                const animalElement = document.createElement('li');
                animalElement.textContent = chosenAnimal;
                animalFarm.appendChild(animalElement);

                farmAnimals.push(chosenAnimal);
                availableAnimals.splice(randomIndex, 1);
                console.log(`Added animal: ${chosenAnimal}`);
            }

            console.log(`Farm size after addition: ${farmAnimals.length}`);
            logAnimalFarmState();
        }

        function logAnimalFarmState() {
            console.log(`Current animal farm state: ${farmAnimals.length} animals`);
            console.log(farmAnimals);
        }

        const animals = [
            "ğŸ‰", "ğŸ»", "ğŸ¦—", "ğŸ¦", "ğŸ”", "ğŸ¦‚", "ğŸŸ", "ğŸ£", "ğŸ¯", "ğŸ¦¡",
            "ğŸ°", "ğŸ", "ğŸ¦…", "ğŸˆ", "ğŸ¦ˆ", "ğŸ¦œ", "ğŸ¦›", "ğŸ€", "ğŸ‘",
            "ğŸ®", "ğŸ¦‡", "ğŸ‡", "ğŸ¦–", "ğŸ¦€", "ğŸ¦", "ğŸƒ", "ğŸ¡", "ğŸ¤",
            "ğŸª", "ğŸ¦¥", "ğŸ›", "ğŸ…", "ğŸ¥", "ğŸ±", "ğŸº", "ğŸ•", "ğŸ¦©", "ğŸŠ",
            "ğŸ–", "ğŸ¢", "ğŸ•·", "ğŸ¦•", "ğŸ¦Œ", "ğŸ", "ğŸ¦¨", "ğŸ¦˜", "ğŸµ",
            "ğŸ¦‘", "ğŸ‹", "ğŸ¦“", "ğŸ¦’", "ğŸ²", "ğŸ¦†", "ğŸ¦‰", "ğŸ¶", "ğŸ„", "ğŸ¦Ÿ",
            "ğŸ¦ƒ", "ğŸ¦§", "ğŸ¦", "ğŸ™", "ğŸ¿", "ğŸ¦¢", "ğŸœ", "ğŸ¦", "ğŸ",
            "ğŸ¦", "ğŸ¦”", "ğŸ¼", "ğŸ¦„", "ğŸ¦", "ğŸ«", "ğŸ­", "ğŸ†", "ğŸ¦",
            "ğŸ ", "ğŸ¦š", "ğŸ´", "ğŸ", "ğŸ¦®", "ğŸ", "ğŸ¹", "ğŸ", "ğŸ¦‹", "ğŸ³",
            "ğŸ¨", "ğŸ‚", "ğŸ¦", "ğŸ¦™", "ğŸ¬", "ğŸ¦¦", "ğŸ¦Š", "ğŸŒ", "ğŸ“", "ğŸ§",
            "ğŸ·", "ğŸ©", "ğŸ˜", "ğŸ¸", "ğŸ"
        ];

        function showModal(message) {
            const modal = document.getElementById("quizModal");
            const modalMessage = document.getElementById("modalMessage");
            const modalButton = document.getElementById("modalButton");
            const modalClose = document.getElementsByClassName("modal-quiz-close")[0];

            modalMessage.textContent = message;
            modal.style.display = "block";

            modalButton.onclick = function() {
                modal.style.display = "none";
            }

            modalClose.onclick = function() {
                modal.style.display = "none";
            }

            window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }
        }

        function initializeQuiz() {
            console.log("Initializing quiz");
            currentStage = 0;
            attempts = 0;
            renderQuiz();
            updateProgressBar();
            const attemptsElement = document.getElementById("attempts");
            if (attemptsElement) {
                attemptsElement.textContent = `× ×™×¡×™×•× ×•×ª: ${attempts}`;
            } else {
                console.error("Attempts element not found");
            }
        }

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
			    scrollToTopBtn.style.display = "none";
        }

        window.addEventListener('load', () => {
            console.log("Window loaded");
            initializeSwitch();
            initializeQuiz();
            adjustLayout();
            showContent('×ª×¨×’×•×œ');
        });

        window.addEventListener('resize', adjustLayout);

        // Load the copyright content from the external URL and insert it into the div
        fetch('http://ez42.live/global/copyright.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('copyright-container').innerHTML = data;
            })
            .catch(error => console.error('Error loading copyright:', error));
			
let scrollToTopBtn = document.getElementById("scrollToTopBtn");

    window.onscroll = function() {
        // Check if the scroll distance is more than twice the height of the screen
        if (document.body.scrollTop > window.innerHeight * 1.5 || 
            document.documentElement.scrollTop > window.innerHeight * 1.5) {
            scrollToTopBtn.style.display = "block";
        } else {
            scrollToTopBtn.style.display = "none";
        }
    };

scrollToTopBtn.onclick = function() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
};		
    </script>
</body>
</html>