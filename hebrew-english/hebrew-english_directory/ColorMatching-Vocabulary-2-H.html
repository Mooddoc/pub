<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ez42.live/global/analytics.js"></script>
    <script src="https://ez42.live/global/ads.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
    <link rel="stylesheet" href="http://www.ez42.live/global/styles/styles-heb.css">
    <link rel="icon" type="image/svg+xml" href="http://www.ez42.live/global/styles/ez42-icon.svg">
    <title>✅ EZ42 - זה קל</title>
<style>

</style>

</head>
<body>
    <div class="page-container">
        <div class="content-wrapper">
            <!--  Side Panel 1  -->
            <div id="sidePanel1" class="side-panel">
                <div class="logo-container">
                    <a href="http://ez42.live" target="_blank" rel="noopener noreferrer">
                        <img src="http://www.ez42.live/global/logo/logo.svg" alt="EZ42 Logo" class="logo-image">
                    </a>
                </div>
                <h2>הוראות</h2>
                <ul>
																										<!--  PH1 - Instructions & Rules   -->    
					<li>יש 20 שלבים במשחק, כל שלב מכיל 10 זוגות של מילים בעברית ובאנגלית.</li>
					<li>יש לבחור מילה בעברית ולקרוא אותה בעיון.</li>
					<li>מצאו את התרגום האנגלי המתאים למילה העברית.</li>
					<li>לחצו על המילה באנגלית ועל התרגום העברי המתאים ליצירת התאמה.</li>
					<li>ניתן גם לגרור את המילים זו לזו ליצירת התאמה.</li>
					<li>יש ללחוץ על "בדיקת תשובות" כשסיימתם להתאים את כל 10 הזוגות.</li>
					<li>יש להשלים את כל 10 ההתאמות בשלב כדי לעבור לשלב הבא.</li>
					<li>לאחר 10 ניסיונות בשלב מסוים, התשובות הנכונות בשלב ייחשפו.</li>
					<li>השלימו את כל 20 השלבים כדי לסיים את המשחק.</li>
					<li>תהנו!</li>
                </ul>
            </div>
            <!--  Quiz Panel   -->
            <div id="quizContainer" class="quiz-container">
																			<!--  PH2 - Title  X  2 : A1 - 📗 Green, A2 - 📘 Blue, B1 - 📒 Yellow, 📙 Orange, 📔 Beige, 📓 Gray , 📕 Red-->				
                <h1>מילה במילה - מסע בין שתי שפות - 2</h1>
				
                <div id="switchContainer" class="switch-container">
                    <div id="multiStateSwitch" class="switch">
                        <div class="switch-labels"></div>
                        <div class="switch-handle"></div>
                    </div>
                </div>
                <div id="tabContent">
                </div>
            </div>
            <!--  Side Panel 2  -->
            <div id="sidePanel2" class="side-panel">
                <h2>חוות החיות</h2>
                <p>החווה שלך גדלה תוך כדי התקדמות! כל שלב מוסיף חיות חדשות לאוסף שלך.</p>
                <ul id="animalFarm" class="emoji-list">
                </ul>
            </div>
        </div>
    </div>
    <div id="copyright-container"></div>

    <!-- Modal -->
    <div id="quizModal" class="modal-quiz">
        <div class="modal-quiz-content">
            <span class="modal-quiz-close">&times;</span>
            <p id="modalMessage"></p>
            <button id="modalButton" class="modal-quiz-button">אישור</button>
        </div>
    </div>
	<button id="scrollToTopBtn" title="Go to top">↑</button>
    <script>
        // Template Elements
        let isQuizExpanded = false;
        let allowQuizExpansion = true;
        let attempts = 0;
        let currentStage = 0;
        let selectedQuestion = null;
        let selectedAnswer = null;

        const manuallySetDefaultTab = 0;

        const colors = ["#FF6B6B", "#4ECDC4", "#FFD93D", "#98FB98", "#87CEFA", "#FFA07A", "#DDA0DD", "#F0E68C", "#00CED1", "#FF69B4", "#AFE1AF", "#FFB347", "#40E0D0", "#DEA5A4", "#CCCCFF", "#F0DC82", "#FF6347", "#7FFFD4", "#FFE4E1", "#CFCFC4"];

		const quizData = [

							  {
								"stage": "Stage 1",
								"stageName": "House and Furniture - בית וריהוט",
								"direction": "rtl",
								"questions": [
								  { "question_id": 1, "question": "שולחן" },
								  { "question_id": 2, "question": "כיסא" },
								  { "question_id": 3, "question": "מיטה" },
								  { "question_id": 4, "question": "ארון" },
								  { "question_id": 5, "question": "ספה" },
								  { "question_id": 6, "question": "מקרר" },
								  { "question_id": 7, "question": "תנור" },
								  { "question_id": 8, "question": "מנורה" },
								  { "question_id": 9, "question": "שטיח" },
								  { "question_id": 10, "question": "וילון" }
								],
								"answers": [
								  { "answer_id": 1, "question_id": 1, "answer": "Table" },
								  { "answer_id": 2, "question_id": 2, "answer": "Chair" },
								  { "answer_id": 3, "question_id": 3, "answer": "Bed" },
								  { "answer_id": 4, "question_id": 4, "answer": "Closet" },
								  { "answer_id": 5, "question_id": 5, "answer": "Sofa" },
								  { "answer_id": 6, "question_id": 6, "answer": "Refrigerator" },
								  { "answer_id": 7, "question_id": 7, "answer": "Oven" },
								  { "answer_id": 8, "question_id": 8, "answer": "Lamp" },
								  { "answer_id": 9, "question_id": 9, "answer": "Carpet" },
								  { "answer_id": 10, "question_id": 10, "answer": "Curtain" }
								]
							  },
							  {
								"stage": "Stage 2",
								"stageName": "School and Classroom - בית ספר וכיתה",
								"direction": "rtl",
								"questions": [
								  { "question_id": 1, "question": "מורה" },
								  { "question_id": 2, "question": "תלמיד" },
								  { "question_id": 3, "question": "ספר" },
								  { "question_id": 4, "question": "מחברת" },
								  { "question_id": 5, "question": "עיפרון" },
								  { "question_id": 6, "question": "לוח" },
								  { "question_id": 7, "question": "כיתה" },
								  { "question_id": 8, "question": "שיעור" },
								  { "question_id": 9, "question": "תיק" },
								  { "question_id": 10, "question": "מבחן" }
								],
								"answers": [
								  { "answer_id": 1, "question_id": 1, "answer": "Teacher" },
								  { "answer_id": 2, "question_id": 2, "answer": "Student" },
								  { "answer_id": 3, "question_id": 3, "answer": "Book" },
								  { "answer_id": 4, "question_id": 4, "answer": "Notebook" },
								  { "answer_id": 5, "question_id": 5, "answer": "Pencil" },
								  { "answer_id": 6, "question_id": 6, "answer": "Board" },
								  { "answer_id": 7, "question_id": 7, "answer": "Classroom" },
								  { "answer_id": 8, "question_id": 8, "answer": "Lesson" },
								  { "answer_id": 9, "question_id": 9, "answer": "Bag" },
								  { "answer_id": 10, "question_id": 10, "answer": "Test" }
								]
							  },
							  {
								"stage": "Stage 3",
								"stageName": "Family Members - בני משפחה",
								"direction": "rtl",
								"questions": [
								  { "question_id": 1, "question": "אבא" },
								  { "question_id": 2, "question": "אמא" },
								  { "question_id": 3, "question": "אח" },
								  { "question_id": 4, "question": "אחות" },
								  { "question_id": 5, "question": "סבא" },
								  { "question_id": 6, "question": "סבתא" },
								  { "question_id": 7, "question": "דוד" },
								  { "question_id": 8, "question": "דודה" },
								  { "question_id": 9, "question": "בן" },
								  { "question_id": 10, "question": "בת" }
								],
								"answers": [
								  { "answer_id": 1, "question_id": 1, "answer": "Father" },
								  { "answer_id": 2, "question_id": 2, "answer": "Mother" },
								  { "answer_id": 3, "question_id": 3, "answer": "Brother" },
								  { "answer_id": 4, "question_id": 4, "answer": "Sister" },
								  { "answer_id": 5, "question_id": 5, "answer": "Grandfather" },
								  { "answer_id": 6, "question_id": 6, "answer": "Grandmother" },
								  { "answer_id": 7, "question_id": 7, "answer": "Uncle" },
								  { "answer_id": 8, "question_id": 8, "answer": "Aunt" },
								  { "answer_id": 9, "question_id": 9, "answer": "Son" },
								  { "answer_id": 10, "question_id": 10, "answer": "Daughter" }
								]
							  },
							  {
								"stage": "Stage 4",
								"stageName": "Clothing Items - פריטי לבוש",
								"direction": "rtl",
								"questions": [
								  { "question_id": 1, "question": "חולצה" },
								  { "question_id": 2, "question": "מכנסיים" },
								  { "question_id": 3, "question": "נעליים" },
								  { "question_id": 4, "question": "גרביים" },
								  { "question_id": 5, "question": "חצאית" },
								  { "question_id": 6, "question": "שמלה" },
								  { "question_id": 7, "question": "מעיל" },
								  { "question_id": 8, "question": "כובע" },
								  { "question_id": 9, "question": "צעיף" },
								  { "question_id": 10, "question": "כפפות" }
								],
								"answers": [
								  { "answer_id": 1, "question_id": 1, "answer": "Shirt" },
								  { "answer_id": 2, "question_id": 2, "answer": "Pants" },
								  { "answer_id": 3, "question_id": 3, "answer": "Shoes" },
								  { "answer_id": 4, "question_id": 4, "answer": "Socks" },
								  { "answer_id": 5, "question_id": 5, "answer": "Skirt" },
								  { "answer_id": 6, "question_id": 6, "answer": "Dress" },
								  { "answer_id": 7, "question_id": 7, "answer": "Coat" },
								  { "answer_id": 8, "question_id": 8, "answer": "Hat" },
								  { "answer_id": 9, "question_id": 9, "answer": "Scarf" },
								  { "answer_id": 10, "question_id": 10, "answer": "Gloves" }
								]
							  },
							  {
								"stage": "Stage 5",
								"stageName": "Food and Drinks - אוכל ומשקאות",
								"direction": "rtl",
								"questions": [
								  { "question_id": 1, "question": "לחם" },
								  { "question_id": 2, "question": "חלב" },
								  { "question_id": 3, "question": "ביצה" },
								  { "question_id": 4, "question": "גבינה" },
								  { "question_id": 5, "question": "עוף" },
								  { "question_id": 6, "question": "דג" },
								  { "question_id": 7, "question": "מים" },
								  { "question_id": 8, "question": "מיץ" },
								  { "question_id": 9, "question": "קפה" },
								  { "question_id": 10, "question": "תה" }
								],
								"answers": [
								  { "answer_id": 1, "question_id": 1, "answer": "Bread" },
								  { "answer_id": 2, "question_id": 2, "answer": "Milk" },
								  { "answer_id": 3, "question_id": 3, "answer": "Egg" },
								  { "answer_id": 4, "question_id": 4, "answer": "Cheese" },
								  { "answer_id": 5, "question_id": 5, "answer": "Chicken" },
								  { "answer_id": 6, "question_id": 6, "answer": "Fish" },
								  { "answer_id": 7, "question_id": 7, "answer": "Water" },
								  { "answer_id": 8, "question_id": 8, "answer": "Juice" },
								  { "answer_id": 9, "question_id": 9, "answer": "Coffee" },
								  { "answer_id": 10, "question_id": 10, "answer": "Tea" }
								]
							  },
							  {
								"stage": "Stage 6",
								"stageName": "Animals - חיות",
								"direction": "rtl",
								"questions": [
								  { "question_id": 1, "question": "כלב" },
								  { "question_id": 2, "question": "חתול" },
								  { "question_id": 3, "question": "סוס" },
								  { "question_id": 4, "question": "פרה" },
								  { "question_id": 5, "question": "כבשה" },
								  { "question_id": 6, "question": "תרנגול" },
								  { "question_id": 7, "question": "ארנב" },
								  { "question_id": 8, "question": "דג" },
								  { "question_id": 9, "question": "ציפור" },
								  { "question_id": 10, "question": "עכבר" }
								],
								"answers": [
								  { "answer_id": 1, "question_id": 1, "answer": "Dog" },
								  { "answer_id": 2, "question_id": 2, "answer": "Cat" },
								  { "answer_id": 3, "question_id": 3, "answer": "Horse" },
								  { "answer_id": 4, "question_id": 4, "answer": "Cow" },
								  { "answer_id": 5, "question_id": 5, "answer": "Sheep" },
								  { "answer_id": 6, "question_id": 6, "answer": "Rooster" },
								  { "answer_id": 7, "question_id": 7, "answer": "Rabbit" },
								  { "answer_id": 8, "question_id": 8, "answer": "Fish" },
								  { "answer_id": 9, "question_id": 9, "answer": "Bird" },
								  { "answer_id": 10, "question_id": 10, "answer": "Mouse" }
								]
							  },
							  {
								"stage": "Stage 7",
								"stageName": "Colors and Shapes - צבעים וצורות",
								"direction": "rtl",
								"questions": [
								  { "question_id": 1, "question": "אדום" },
								  { "question_id": 2, "question": "כחול" },
								  { "question_id": 3, "question": "צהוב" },
								  { "question_id": 4, "question": "ירוק" },
								  { "question_id": 5, "question": "עיגול" },
								  { "question_id": 6, "question": "ריבוע" },
								  { "question_id": 7, "question": "משולש" },
								  { "question_id": 8, "question": "כוכב" },
								  { "question_id": 9, "question": "לב" },
								  { "question_id": 10, "question": "מלבן" }
								],
								"answers": [
								  { "answer_id": 1, "question_id": 1, "answer": "Red" },
								  { "answer_id": 2, "question_id": 2, "answer": "Blue" },
								  { "answer_id": 3, "question_id": 3, "answer": "Yellow" },
								  { "answer_id": 4, "question_id": 4, "answer": "Green" },
								  { "answer_id": 5, "question_id": 5, "answer": "Circle" },
								  { "answer_id": 6, "question_id": 6, "answer": "Square" },
								  { "answer_id": 7, "question_id": 7, "answer": "Triangle" },
								  { "answer_id": 8, "question_id": 8, "answer": "Star" },
								  { "answer_id": 9, "question_id": 9, "answer": "Heart" },
								  { "answer_id": 10, "question_id": 10, "answer": "Rectangle" }
								]
							  },
							  {
								"stage": "Stage 8",
								"stageName": "Numbers 11-100 - מספרים 11-100",
								"direction": "rtl",
								"questions": [
								  { "question_id": 1, "question": "אחת עשרה" },
								  { "question_id": 2, "question": "עשרים" },
								  { "question_id": 3, "question": "שלושים" },
								  { "question_id": 4, "question": "ארבעים" },
								  { "question_id": 5, "question": "חמישים" },
								  { "question_id": 6, "question": "שישים" },
								  { "question_id": 7, "question": "שבעים" },
								  { "question_id": 8, "question": "שמונים" },
								  { "question_id": 9, "question": "תשעים" },
								  { "question_id": 10, "question": "מאה" }
								],
								"answers": [
								  { "answer_id": 1, "question_id": 1, "answer": "Eleven" },
								  { "answer_id": 2, "question_id": 2, "answer": "Twenty" },
								  { "answer_id": 3, "question_id": 3, "answer": "Thirty" },
								  { "answer_id": 4, "question_id": 4, "answer": "Forty" },
								  { "answer_id": 5, "question_id": 5, "answer": "Fifty" },
								  { "answer_id": 6, "question_id": 6, "answer": "Sixty" },
								  { "answer_id": 7, "question_id": 7, "answer": "Seventy" },
								  { "answer_id": 8, "question_id": 8, "answer": "Eighty" },
								  { "answer_id": 9, "question_id": 9, "answer": "Ninety" },
								  { "answer_id": 10, "question_id": 10, "answer": "One hundred" }
								]
							  },
							  {
								"stage": "Stage 9",
								"stageName": "Days of the Week - ימי השבוע",
								"direction": "rtl",
								"questions": [
								  { "question_id": 1, "question": "יום ראשון" },
								  { "question_id": 2, "question": "יום שני" },
								  { "question_id": 3, "question": "יום שלישי" },
								  { "question_id": 4, "question": "יום רביעי" },
								  { "question_id": 5, "question": "יום חמישי" },
								  { "question_id": 6, "question": "יום שישי" },
								  { "question_id": 7, "question": "יום שבת" },
								  { "question_id": 8, "question": "סוף שבוע" },
								  { "question_id": 9, "question": "אמצע השבוע" },
								  { "question_id": 10, "question": "שבוע" }
								],
								"answers": [
								  { "answer_id": 1, "question_id": 1, "answer": "Sunday" },
								  { "answer_id": 2, "question_id": 2, "answer": "Monday" },
								  { "answer_id": 3, "question_id": 3, "answer": "Tuesday" },
								  { "answer_id": 4, "question_id": 4, "answer": "Wednesday" },
								  { "answer_id": 5, "question_id": 5, "answer": "Thursday" },
								  { "answer_id": 6, "question_id": 6, "answer": "Friday" },
								  { "answer_id": 7, "question_id": 7, "answer": "Saturday" },
								  { "answer_id": 8, "question_id": 8, "answer": "Weekend" },
								  { "answer_id": 9, "question_id": 9, "answer": "Midweek" },
								  { "answer_id": 10, "question_id": 10, "answer": "Week" }
								]
							  },
							  {
								"stage": "Stage 10",
								"stageName": "Months and Seasons - חודשים ועונות",
								"direction": "rtl",
								"questions": [
								  { "question_id": 1, "question": "ינואר" },
								  { "question_id": 2, "question": "פברואר" },
								  { "question_id": 3, "question": "מרץ" },
								  { "question_id": 4, "question": "אפריל" },
								  { "question_id": 5, "question": "מאי" },
								  { "question_id": 6, "question": "יוני" },
								  { "question_id": 7, "question": "אביב" },
								  { "question_id": 8, "question": "קיץ" },
								  { "question_id": 9, "question": "סתיו" },
								  { "question_id": 10, "question": "חורף" }
								],
								"answers": [
								  { "answer_id": 1, "question_id": 1, "answer": "January" },
								  { "answer_id": 2, "question_id": 2, "answer": "February" },
								  { "answer_id": 3, "question_id": 3, "answer": "March" },
								  { "answer_id": 4, "question_id": 4, "answer": "April" },
								  { "answer_id": 5, "question_id": 5, "answer": "May" },
								  { "answer_id": 6, "question_id": 6, "answer": "June" },
								  { "answer_id": 7, "question_id": 7, "answer": "Spring" },
								  { "answer_id": 8, "question_id": 8, "answer": "Summer" },
								  { "answer_id": 9, "question_id": 9, "answer": "Autumn" },
								  { "answer_id": 10, "question_id": 10, "answer": "Winter" }
								]
							  },
							  {
								"stage": "Stage 11",
								"stageName": "Weather - מזג אוויר",
								"direction": "rtl",
								"questions": [
								  { "question_id": 1, "question": "שמש" },
								  { "question_id": 2, "question": "גשם" },
								  { "question_id": 3, "question": "שלג" },
								  { "question_id": 4, "question": "עננים" },
								  { "question_id": 5, "question": "רוח" },
								  { "question_id": 6, "question": "סערה" },
								  { "question_id": 7, "question": "חם" },
								  { "question_id": 8, "question": "קר" },
								  { "question_id": 9, "question": "נעים" },
								  { "question_id": 10, "question": "לח" }
								],
								"answers": [
								  { "answer_id": 1, "question_id": 1, "answer": "Sun" },
								  { "answer_id": 2, "question_id": 2, "answer": "Rain" },
								  { "answer_id": 3, "question_id": 3, "answer": "Snow" },
								  { "answer_id": 4, "question_id": 4, "answer": "Clouds" },
								  { "answer_id": 5, "question_id": 5, "answer": "Wind" },
								  { "answer_id": 6, "question_id": 6, "answer": "Storm" },
								  { "answer_id": 7, "question_id": 7, "answer": "Hot" },
								  { "answer_id": 8, "question_id": 8, "answer": "Cold" },
								  { "answer_id": 9, "question_id": 9, "answer": "Pleasant" },
								  { "answer_id": 10, "question_id": 10, "answer": "Humid" }
								]
							  },
							  {
								"stage": "Stage 12",
								"stageName": "Parts of the Body - חלקי גוף",
								"direction": "rtl",
								"questions": [
								  { "question_id": 1, "question": "ראש" },
								  { "question_id": 2, "question": "עין" },
								  { "question_id": 3, "question": "אוזן" },
								  { "question_id": 4, "question": "אף" },
								  { "question_id": 5, "question": "פה" },
								  { "question_id": 6, "question": "יד" },
								  { "question_id": 7, "question": "רגל" },
								  { "question_id": 8, "question": "בטן" },
								  { "question_id": 9, "question": "גב" },
								  { "question_id": 10, "question": "שיער" }
								],
								"answers": [
								  { "answer_id": 1, "question_id": 1, "answer": "Head" },
								  { "answer_id": 2, "question_id": 2, "answer": "Eye" },
								  { "answer_id": 3, "question_id": 3, "answer": "Ear" },
								  { "answer_id": 4, "question_id": 4, "answer": "Nose" },
								  { "answer_id": 5, "question_id": 5, "answer": "Mouth" },
								  { "answer_id": 6, "question_id": 6, "answer": "Hand" },
								  { "answer_id": 7, "question_id": 7, "answer": "Leg" },
								  { "answer_id": 8, "question_id": 8, "answer": "Stomach" },
								  { "answer_id": 9, "question_id": 9, "answer": "Back" },
								  { "answer_id": 10, "question_id": 10, "answer": "Hair" }
								]
							  },
							  {
								"stage": "Stage 13",
								"stageName": "Simple Adjectives - תארים פשוטים",
								"direction": "rtl",
								"questions": [
								  { "question_id": 1, "question": "גדול" },
								  { "question_id": 2, "question": "קטן" },
								  { "question_id": 3, "question": "חם" },
								  { "question_id": 4, "question": "קר" },
								  { "question_id": 5, "question": "טוב" },
								  { "question_id": 6, "question": "רע" },
								  { "question_id": 7, "question": "יפה" },
								  { "question_id": 8, "question": "מכוער" },
								  { "question_id": 9, "question": "חדש" },
								  { "question_id": 10, "question": "ישן" }
								],
								"answers": [
								  { "answer_id": 1, "question_id": 1, "answer": "Big" },
								  { "answer_id": 2, "question_id": 2, "answer": "Small" },
								  { "answer_id": 3, "question_id": 3, "answer": "Hot" },
								  { "answer_id": 4, "question_id": 4, "answer": "Cold" },
								  { "answer_id": 5, "question_id": 5, "answer": "Good" },
								  { "answer_id": 6, "question_id": 6, "answer": "Bad" },
								  { "answer_id": 7, "question_id": 7, "answer": "Beautiful" },
								  { "answer_id": 8, "question_id": 8, "answer": "Ugly" },
								  { "answer_id": 9, "question_id": 9, "answer": "New" },
								  { "answer_id": 10, "question_id": 10, "answer": "Old" }
								]
							  },
							  {
								"stage": "Stage 14",
								"stageName": "Common Verbs - פעלים נפוצים",
								"direction": "rtl",
								"questions": [
								  { "question_id": 1, "question": "ללכת" },
								  { "question_id": 2, "question": "לרוץ" },
								  { "question_id": 3, "question": "לאכול" },
								  { "question_id": 4, "question": "לשתות" },
								  { "question_id": 5, "question": "לישון" },
								  { "question_id": 6, "question": "לקרוא" },
								  { "question_id": 7, "question": "לכתוב" },
								  { "question_id": 8, "question": "לדבר" },
								  { "question_id": 9, "question": "לשמוע" },
								  { "question_id": 10, "question": "לראות" }
								],
								"answers": [
								  { "answer_id": 1, "question_id": 1, "answer": "To walk" },
								  { "answer_id": 2, "question_id": 2, "answer": "To run" },
								  { "answer_id": 3, "question_id": 3, "answer": "To eat" },
								  { "answer_id": 4, "question_id": 4, "answer": "To drink" },
								  { "answer_id": 5, "question_id": 5, "answer": "To sleep" },
								  { "answer_id": 6, "question_id": 6, "answer": "To read" },
								  { "answer_id": 7, "question_id": 7, "answer": "To write" },
								  { "answer_id": 8, "question_id": 8, "answer": "To speak" },
								  { "answer_id": 9, "question_id": 9, "answer": "To hear" },
								  { "answer_id": 10, "question_id": 10, "answer": "To see" }
								]
							  },
							  {
								"stage": "Stage 15",
								"stageName": "Basic Professions - מקצועות בסיסיים",
								"direction": "rtl",
								"questions": [
								  { "question_id": 1, "question": "מורה" },
								  { "question_id": 2, "question": "רופא" },
								  { "question_id": 3, "question": "שוטר" },
								  { "question_id": 4, "question": "טבח" },
								  { "question_id": 5, "question": "נהג" },
								  { "question_id": 6, "question": "מזכירה" },
								  { "question_id": 7, "question": "מוכר" },
								  { "question_id": 8, "question": "חקלאי" },
								  { "question_id": 9, "question": "מהנדס" },
								  { "question_id": 10, "question": "אחות" }
								],
								"answers": [
								  { "answer_id": 1, "question_id": 1, "answer": "Teacher" },
								  { "answer_id": 2, "question_id": 2, "answer": "Doctor" },
								  { "answer_id": 3, "question_id": 3, "answer": "Police officer" },
								  { "answer_id": 4, "question_id": 4, "answer": "Chef" },
								  { "answer_id": 5, "question_id": 5, "answer": "Driver" },
								  { "answer_id": 6, "question_id": 6, "answer": "Secretary" },
								  { "answer_id": 7, "question_id": 7, "answer": "Salesperson" },
								  { "answer_id": 8, "question_id": 8, "answer": "Farmer" },
								  { "answer_id": 9, "question_id": 9, "answer": "Engineer" },
								  { "answer_id": 10, "question_id": 10, "answer": "Nurse" }
								]
							  },
							  {
								"stage": "Stage 16",
								"stageName": "Fruits and Vegetables - פירות וירקות",
								"direction": "rtl",
								"questions": [
								  { "question_id": 1, "question": "תפוח" },
								  { "question_id": 2, "question": "בננה" },
								  { "question_id": 3, "question": "תפוז" },
								  { "question_id": 4, "question": "עגבנייה" },
								  { "question_id": 5, "question": "מלפפון" },
								  { "question_id": 6, "question": "גזר" },
								  { "question_id": 7, "question": "תות" },
								  { "question_id": 8, "question": "חסה" },
								  { "question_id": 9, "question": "אבטיח" },
								  { "question_id": 10, "question": "בצל" }
								],
								"answers": [
								  { "answer_id": 1, "question_id": 1, "answer": "Apple" },
								  { "answer_id": 2, "question_id": 2, "answer": "Banana" },
								  { "answer_id": 3, "question_id": 3, "answer": "Orange" },
								  { "answer_id": 4, "question_id": 4, "answer": "Tomato" },
								  { "answer_id": 5, "question_id": 5, "answer": "Cucumber" },
								  { "answer_id": 6, "question_id": 6, "answer": "Carrot" },
								  { "answer_id": 7, "question_id": 7, "answer": "Strawberry" },
								  { "answer_id": 8, "question_id": 8, "answer": "Lettuce" },
								  { "answer_id": 9, "question_id": 9, "answer": "Watermelon" },
								  { "answer_id": 10, "question_id": 10, "answer": "Onion" }
								]
							  },
							  {
								"stage": "Stage 17",
								"stageName": "Transportation - תחבורה",
								"direction": "rtl",
								"questions": [
								  { "question_id": 1, "question": "מכונית" },
								  { "question_id": 2, "question": "אוטובוס" },
								  { "question_id": 3, "question": "רכבת" },
								  { "question_id": 4, "question": "מטוס" },
								  { "question_id": 5, "question": "אופניים" },
								  { "question_id": 6, "question": "אופנוע" },
								  { "question_id": 7, "question": "מונית" },
								  { "question_id": 8, "question": "סירה" },
								  { "question_id": 9, "question": "רכבת תחתית" },
								  { "question_id": 10, "question": "הליכה" }
								],
								"answers": [
								  { "answer_id": 1, "question_id": 1, "answer": "Car" },
								  { "answer_id": 2, "question_id": 2, "answer": "Bus" },
								  { "answer_id": 3, "question_id": 3, "answer": "Train" },
								  { "answer_id": 4, "question_id": 4, "answer": "Airplane" },
								  { "answer_id": 5, "question_id": 5, "answer": "Bicycle" },
								  { "answer_id": 6, "question_id": 6, "answer": "Motorcycle" },
								  { "answer_id": 7, "question_id": 7, "answer": "Taxi" },
								  { "answer_id": 8, "question_id": 8, "answer": "Boat" },
								  { "answer_id": 9, "question_id": 9, "answer": "Subway" },
								  { "answer_id": 10, "question_id": 10, "answer": "Walking" }
								]
							  },
							  {
								"stage": "Stage 18",
								"stageName": "Time Expressions - ביטויי זמן",
								"direction": "rtl",
								"questions": [
								  { "question_id": 1, "question": "היום" },
								  { "question_id": 2, "question": "מחר" },
								  { "question_id": 3, "question": "אתמול" },
								  { "question_id": 4, "question": "עכשיו" },
								  { "question_id": 5, "question": "מאוחר" },
								  { "question_id": 6, "question": "מוקדם" },
								  { "question_id": 7, "question": "בבוקר" },
								  { "question_id": 8, "question": "בערב" },
								  { "question_id": 9, "question": "לפני" },
								  { "question_id": 10, "question": "אחרי" }
								],
								"answers": [
								  { "answer_id": 1, "question_id": 1, "answer": "Today" },
								  { "answer_id": 2, "question_id": 2, "answer": "Tomorrow" },
								  { "answer_id": 3, "question_id": 3, "answer": "Yesterday" },
								  { "answer_id": 4, "question_id": 4, "answer": "Now" },
								  { "answer_id": 5, "question_id": 5, "answer": "Late" },
								  { "answer_id": 6, "question_id": 6, "answer": "Early" },
								  { "answer_id": 7, "question_id": 7, "answer": "In the morning" },
								  { "answer_id": 8, "question_id": 8, "answer": "In the evening" },
								  { "answer_id": 9, "question_id": 9, "answer": "Before" },
								  { "answer_id": 10, "question_id": 10, "answer": "After" }
								]
							  },
							  {
								"stage": "Stage 19",
								"stageName": "Simple Prepositions - מילות יחס פשוטות",
								"direction": "rtl",
								"questions": [
								  { "question_id": 1, "question": "ב-" },
								  { "question_id": 2, "question": "על" },
								  { "question_id": 3, "question": "מתחת ל-" },
								  { "question_id": 4, "question": "ליד" },
								  { "question_id": 5, "question": "בתוך" },
								  { "question_id": 6, "question": "מאחורי" },
								  { "question_id": 7, "question": "לפני" },
								  { "question_id": 8, "question": "בין" },
								  { "question_id": 9, "question": "מעל" },
								  { "question_id": 10, "question": "מול" }
								],
								"answers": [
								  { "answer_id": 1, "question_id": 1, "answer": "In" },
								  { "answer_id": 2, "question_id": 2, "answer": "On" },
								  { "answer_id": 3, "question_id": 3, "answer": "Under" },
								  { "answer_id": 4, "question_id": 4, "answer": "Next to" },
								  { "answer_id": 5, "question_id": 5, "answer": "Inside" },
								  { "answer_id": 6, "question_id": 6, "answer": "Behind" },
								  { "answer_id": 7, "question_id": 7, "answer": "In front of" },
								  { "answer_id": 8, "question_id": 8, "answer": "Between" },
								  { "answer_id": 9, "question_id": 9, "answer": "Above" },
								  { "answer_id": 10, "question_id": 10, "answer": "Opposite" }
								]
							  },
							  {
								"stage": "Stage 20",
								"stageName": "Greetings and Farewells - ברכות ופרידות",
								"direction": "rtl",
								"questions": [
								  { "question_id": 1, "question": "שלום" },
								  { "question_id": 2, "question": "להתראות" },
								  { "question_id": 3, "question": "בוקר טוב" },
								  { "question_id": 4, "question": "לילה טוב" },
								  { "question_id": 5, "question": "מה שלומך" },
								  { "question_id": 6, "question": "נעים להכיר" },
								  { "question_id": 7, "question": "ביי" },
								  { "question_id": 8, "question": "תודה" },
								  { "question_id": 9, "question": "בבקשה" },
								  { "question_id": 10, "question": "סליחה" }
								],
								"answers": [
								  { "answer_id": 1, "question_id": 1, "answer": "Hello" },
								  { "answer_id": 2, "question_id": 2, "answer": "Goodbye" },
								  { "answer_id": 3, "question_id": 3, "answer": "Good morning" },
								  { "answer_id": 4, "question_id": 4, "answer": "Good night" },
								  { "answer_id": 5, "question_id": 5, "answer": "How are you" },
								  { "answer_id": 6, "question_id": 6, "answer": "Nice to meet you" },
								  { "answer_id": 7, "question_id": 7, "answer": "Bye" },
								  { "answer_id": 8, "question_id": 8, "answer": "Thank you" },
								  { "answer_id": 9, "question_id": 9, "answer": "Please" },
								  { "answer_id": 10, "question_id": 10, "answer": "Sorry" }
								]
							  }
						];


		const stateContents = {
			'תרגול': `
				<div id="stage-number" class="stage-number">שלב 1 מתוך ${quizData.length}</div>
				<div class="progress-bar-container"><div id="progress-bar" class="progress-bar"></div></div>
				<div id="attempts">ניסיונות: 0</div>
				<div id="quiz-content"></div>
				<div class="button-container">
					<button class="center-button" onclick="showAllAnswers()" style="background-color: #00CED1">הצג הכל</button>
					<button class="center-button" onclick="checkStage()">בדיקת תשובות</button>
					<button class="center-button" onclick="clearAllAnswers()" style="background-color: #00CED1">נקה הכל</button>
				</div>
			`,
			'אוצר המילים 🗝️':     `    <div class="page-container">         <div class="content-wrapper">             <table class="vocabulary-table">                 <thead>                     <tr>                         <th style="width: 50%;">English</th>                         <th class="hebrew" style="text-align: right;">עברית</th>                     </tr>                 </thead>                 <tbody> 					<tr><td>Above</td><td class="hebrew">מעל</td></tr> 					<tr><td>After</td><td class="hebrew">אחרי</td></tr> 					<tr><td>Airplane</td><td class="hebrew">מטוס</td></tr> 					<tr><td>Apple</td><td class="hebrew">תפוח</td></tr> 					<tr><td>April</td><td class="hebrew">אפריל</td></tr> 					<tr><td>Aunt</td><td class="hebrew">דודה</td></tr> 					<tr><td>Autumn</td><td class="hebrew">סתיו</td></tr> 					<tr><td>Back</td><td class="hebrew">גב</td></tr> 					<tr><td>Bad</td><td class="hebrew">רע</td></tr> 					<tr><td>Bag</td><td class="hebrew">תיק</td></tr> 					<tr><td>Banana</td><td class="hebrew">בננה</td></tr> 					<tr><td>Beautiful</td><td class="hebrew">יפה</td></tr> 					<tr><td>Bed</td><td class="hebrew">מיטה</td></tr> 					<tr><td>Before</td><td class="hebrew">לפני</td></tr> 					<tr><td>Behind</td><td class="hebrew">מאחורי</td></tr> 					<tr><td>Between</td><td class="hebrew">בין</td></tr> 					<tr><td>Bicycle</td><td class="hebrew">אופניים</td></tr> 					<tr><td>Big</td><td class="hebrew">גדול</td></tr> 					<tr><td>Bird</td><td class="hebrew">ציפור</td></tr> 					<tr><td>Blue</td><td class="hebrew">כחול</td></tr> 					<tr><td>Board</td><td class="hebrew">לוח</td></tr> 					<tr><td>Boat</td><td class="hebrew">סירה</td></tr> 					<tr><td>Book</td><td class="hebrew">ספר</td></tr> 					<tr><td>Bread</td><td class="hebrew">לחם</td></tr> 					<tr><td>Brother</td><td class="hebrew">אח</td></tr> 					<tr><td>Bus</td><td class="hebrew">אוטובוס</td></tr> 					<tr><td>Bye</td><td class="hebrew">ביי</td></tr> 					<tr><td>Car</td><td class="hebrew">מכונית</td></tr> 					<tr><td>Carpet</td><td class="hebrew">שטיח</td></tr> 					<tr><td>Carrot</td><td class="hebrew">גזר</td></tr> 					<tr><td>Cat</td><td class="hebrew">חתול</td></tr> 					<tr><td>Chair</td><td class="hebrew">כיסא</td></tr> 					<tr><td>Cheese</td><td class="hebrew">גבינה</td></tr> 					<tr><td>Chef</td><td class="hebrew">טבח</td></tr> 					<tr><td>Chicken</td><td class="hebrew">עוף</td></tr> 					<tr><td>Circle</td><td class="hebrew">עיגול</td></tr> 					<tr><td>Classroom</td><td class="hebrew">כיתה</td></tr> 					<tr><td>Closet</td><td class="hebrew">ארון</td></tr> 					<tr><td>Clouds</td><td class="hebrew">עננים</td></tr> 					<tr><td>Coat</td><td class="hebrew">מעיל</td></tr> 					<tr><td>Coffee</td><td class="hebrew">קפה</td></tr> 					<tr><td>Cold</td><td class="hebrew">קר</td></tr> 					<tr><td>Cow</td><td class="hebrew">פרה</td></tr> 					<tr><td>Cucumber</td><td class="hebrew">מלפפון</td></tr> 					<tr><td>Curtain</td><td class="hebrew">וילון</td></tr> 					<tr><td>Daughter</td><td class="hebrew">בת</td></tr> 					<tr><td>Doctor</td><td class="hebrew">רופא</td></tr> 					<tr><td>Dog</td><td class="hebrew">כלב</td></tr> 					<tr><td>Dress</td><td class="hebrew">שמלה</td></tr> 					<tr><td>Driver</td><td class="hebrew">נהג</td></tr> 					<tr><td>Ear</td><td class="hebrew">אוזן</td></tr> 					<tr><td>Early</td><td class="hebrew">מוקדם</td></tr> 					<tr><td>Egg</td><td class="hebrew">ביצה</td></tr> 					<tr><td>Eighty</td><td class="hebrew">שמונים</td></tr> 					<tr><td>Eleven</td><td class="hebrew">אחת עשרה</td></tr> 					<tr><td>Engineer</td><td class="hebrew">מהנדס</td></tr> 					<tr><td>Eye</td><td class="hebrew">עין</td></tr> 					<tr><td>Farmer</td><td class="hebrew">חקלאי</td></tr> 					<tr><td>Father</td><td class="hebrew">אבא</td></tr> 					<tr><td>February</td><td class="hebrew">פברואר</td></tr> 					<tr><td>Fifty</td><td class="hebrew">חמישים</td></tr> 					<tr><td>Fish</td><td class="hebrew">דג</td></tr> 					<tr><td>Forty</td><td class="hebrew">ארבעים</td></tr> 					<tr><td>Friday</td><td class="hebrew">יום שישי</td></tr> 					<tr><td>Gloves</td><td class="hebrew">כפפות</td></tr> 					<tr><td>Good</td><td class="hebrew">טוב</td></tr> 					<tr><td>Good morning</td><td class="hebrew">בוקר טוב</td></tr> 					<tr><td>Good night</td><td class="hebrew">לילה טוב</td></tr> 					<tr><td>Goodbye</td><td class="hebrew">להתראות</td></tr> 					<tr><td>Grandfather</td><td class="hebrew">סבא</td></tr> 					<tr><td>Grandmother</td><td class="hebrew">סבתא</td></tr> 					<tr><td>Green</td><td class="hebrew">ירוק</td></tr> 					<tr><td>Hair</td><td class="hebrew">שיער</td></tr> 					<tr><td>Hand</td><td class="hebrew">יד</td></tr> 					<tr><td>Hat</td><td class="hebrew">כובע</td></tr> 					<tr><td>Head</td><td class="hebrew">ראש</td></tr> 					<tr><td>Heart</td><td class="hebrew">לב</td></tr> 					<tr><td>Hello</td><td class="hebrew">שלום</td></tr> 					<tr><td>Horse</td><td class="hebrew">סוס</td></tr> 					<tr><td>Hot</td><td class="hebrew">חם</td></tr> 					<tr><td>How are you</td><td class="hebrew">מה שלומך</td></tr> 					<tr><td>Humid</td><td class="hebrew">לח</td></tr> 					<tr><td>Hundred</td><td class="hebrew">מאה</td></tr> 					<tr><td>In</td><td class="hebrew">ב-</td></tr> 					<tr><td>In front of</td><td class="hebrew">לפני</td></tr> 					<tr><td>In the evening</td><td class="hebrew">בערב</td></tr> 					<tr><td>In the morning</td><td class="hebrew">בבוקר</td></tr> 					<tr><td>Inside</td><td class="hebrew">בתוך</td></tr> 					<tr><td>January</td><td class="hebrew">ינואר</td></tr> 					<tr><td>Juice</td><td class="hebrew">מיץ</td></tr> 					<tr><td>June</td><td class="hebrew">יוני</td></tr> 					<tr><td>Lamp</td><td class="hebrew">מנורה</td></tr> 					<tr><td>Late</td><td class="hebrew">מאוחר</td></tr> 					<tr><td>Leg</td><td class="hebrew">רגל</td></tr> 					<tr><td>Lesson</td><td class="hebrew">שיעור</td></tr> 					<tr><td>Lettuce</td><td class="hebrew">חסה</td></tr> 					<tr><td>March</td><td class="hebrew">מרץ</td></tr> 					<tr><td>May</td><td class="hebrew">מאי</td></tr> 					<tr><td>Midweek</td><td class="hebrew">אמצע השבוע</td></tr> 					<tr><td>Milk</td><td class="hebrew">חלב</td></tr> 					<tr><td>Monday</td><td class="hebrew">יום שני</td></tr> 					<tr><td>Mother</td><td class="hebrew">אמא</td></tr> 					<tr><td>Motorcycle</td><td class="hebrew">אופנוע</td></tr> 					<tr><td>Mouse</td><td class="hebrew">עכבר</td></tr> 					<tr><td>Mouth</td><td class="hebrew">פה</td></tr> 					<tr><td>New</td><td class="hebrew">חדש</td></tr> 					<tr><td>Next to</td><td class="hebrew">ליד</td></tr> 					<tr><td>Nice to meet you</td><td class="hebrew">נעים להכיר</td></tr> 					<tr><td>Ninety</td><td class="hebrew">תשעים</td></tr> 					<tr><td>Nose</td><td class="hebrew">אף</td></tr> 					<tr><td>Notebook</td><td class="hebrew">מחברת</td></tr> 					<tr><td>Now</td><td class="hebrew">עכשיו</td></tr> 					<tr><td>Nurse</td><td class="hebrew">אחות</td></tr> 					<tr><td>Old</td><td class="hebrew">ישן</td></tr> 					<tr><td>On</td><td class="hebrew">על</td></tr> 					<tr><td>One hundred</td><td class="hebrew">מאה</td></tr> 					<tr><td>Onion</td><td class="hebrew">בצל</td></tr> 					<tr><td>Opposite</td><td class="hebrew">מול</td></tr> 					<tr><td>Orange</td><td class="hebrew">תפוז</td></tr> 					<tr><td>Oven</td><td class="hebrew">תנור</td></tr> 					<tr><td>Pants</td><td class="hebrew">מכנסיים</td></tr> 					<tr><td>Pencil</td><td class="hebrew">עיפרון</td></tr> 					<tr><td>Pleasant</td><td class="hebrew">נעים</td></tr> 					<tr><td>Please</td><td class="hebrew">בבקשה</td></tr> 					<tr><td>Police officer</td><td class="hebrew">שוטר</td></tr> 					<tr><td>Rabbit</td><td class="hebrew">ארנב</td></tr> 					<tr><td>Rain</td><td class="hebrew">גשם</td></tr> 					<tr><td>Rectangle</td><td class="hebrew">מלבן</td></tr> 					<tr><td>Red</td><td class="hebrew">אדום</td></tr> 					<tr><td>Refrigerator</td><td class="hebrew">מקרר</td></tr> 					<tr><td>Rooster</td><td class="hebrew">תרנגול</td></tr> 					<tr><td>Saturday</td><td class="hebrew">יום שבת</td></tr> 					<tr><td>Scarf</td><td class="hebrew">צעיף</td></tr> 					<tr><td>Secretary</td><td class="hebrew">מזכירה</td></tr> 					<tr><td>Seventy</td><td class="hebrew">שבעים</td></tr> 					<tr><td>Sheep</td><td class="hebrew">כבשה</td></tr> 					<tr><td>Shirt</td><td class="hebrew">חולצה</td></tr> 					<tr><td>Shoes</td><td class="hebrew">נעליים</td></tr> 					<tr><td>Sister</td><td class="hebrew">אחות</td></tr> 					<tr><td>Sixty</td><td class="hebrew">שישים</td></tr> 					<tr><td>Skirt</td><td class="hebrew">חצאית</td></tr> 					<tr><td>Small</td><td class="hebrew">קטן</td></tr> 					<tr><td>Snow</td><td class="hebrew">שלג</td></tr> 					<tr><td>Socks</td><td class="hebrew">גרביים</td></tr> 					<tr><td>Sofa</td><td class="hebrew">ספה</td></tr> 					<tr><td>Son</td><td class="hebrew">בן</td></tr> 					<tr><td>Sorry</td><td class="hebrew">סליחה</td></tr> 					<tr><td>Spring</td><td class="hebrew">אביב</td></tr> 					<tr><td>Square</td><td class="hebrew">ריבוע</td></tr> 					<tr><td>Star</td><td class="hebrew">כוכב</td></tr> 					<tr><td>Stomach</td><td class="hebrew">בטן</td></tr> 					<tr><td>Storm</td><td class="hebrew">סערה</td></tr> 					<tr><td>Strawberry</td><td class="hebrew">תות</td></tr> 					<tr><td>Student</td><td class="hebrew">תלמיד</td></tr> 					<tr><td>Subway</td><td class="hebrew">רכבת תחתית</td></tr> 					<tr><td>Summer</td><td class="hebrew">קיץ</td></tr> 					<tr><td>Sun</td><td class="hebrew">שמש</td></tr> 					<tr><td>Sunday</td><td class="hebrew">יום ראשון</td></tr> 					<tr><td>Table</td><td class="hebrew">שולחן</td></tr> 					<tr><td>Taxi</td><td class="hebrew">מונית</td></tr> 					<tr><td>Tea</td><td class="hebrew">תה</td></tr> 					<tr><td>Teacher</td><td class="hebrew">מורה</td></tr> 					<tr><td>Test</td><td class="hebrew">מבחן</td></tr> 					<tr><td>Thank you</td><td class="hebrew">תודה</td></tr> 					<tr><td>Thirty</td><td class="hebrew">שלושים</td></tr> 					<tr><td>Thursday</td><td class="hebrew">יום חמישי</td></tr> 					<tr><td>Today</td><td class="hebrew">היום</td></tr> 					<tr><td>Tomato</td><td class="hebrew">עגבנייה</td></tr> 					<tr><td>Tomorrow</td><td class="hebrew">מחר</td></tr> 					<tr><td>Train</td><td class="hebrew">רכבת</td></tr> 					<tr><td>Triangle</td><td class="hebrew">משולש</td></tr> 					<tr><td>Tuesday</td><td class="hebrew">יום שלישי</td></tr> 					<tr><td>Twenty</td><td class="hebrew">עשרים</td></tr> 					<tr><td>Ugly</td><td class="hebrew">מכוער</td></tr> 					<tr><td>Uncle</td><td class="hebrew">דוד</td></tr> 					<tr><td>Under</td><td class="hebrew">מתחת ל-</td></tr> 					<tr><td>Walking</td><td class="hebrew">הליכה</td></tr> 					<tr><td>Water</td><td class="hebrew">מים</td></tr> 					<tr><td>Watermelon</td><td class="hebrew">אבטיח</td></tr> 					<tr><td>Wednesday</td><td class="hebrew">יום רביעי</td></tr> 					<tr><td>Week</td><td class="hebrew">שבוע</td></tr> 					<tr><td>Weekend</td><td class="hebrew">סוף שבוע</td></tr> 					<tr><td>Wind</td><td class="hebrew">רוח</td></tr> 					<tr><td>Winter</td><td class="hebrew">חורף</td></tr> 					<tr><td>Yellow</td><td class="hebrew">צהוב</td></tr> 					<tr><td>Yesterday</td><td class="hebrew">אתמול</td></tr>                 </tbody>             </table>         </div>     </div>`
		};

        function setQuizExpansion(allow) {
            allowQuizExpansion = allow;
            adjustLayout();
        }

        function adjustLayout() {
            const wrapper = document.querySelector('.content-wrapper');
            const quizContainer = document.getElementById('quizContainer');
            const sidePanel1 = document.getElementById('sidePanel1');

            const isPanel1Visible = window.getComputedStyle(sidePanel1).display !== 'none';

            wrapper.style.justifyContent = 'space-between';

            if (isPanel1Visible) {
                sidePanel1.style.flex = '0 0 calc(20% - 0.5rem)';
                sidePanel1.style.maxWidth = 'calc(20% - 0.5rem)';
                quizContainer.style.flex = '1';
            } else {
                quizContainer.style.flex = '1';
                wrapper.style.justifyContent = 'center';
            }

            [sidePanel1, quizContainer].forEach(el => {
                el.style.display = 'block';
            });
        }

        function togglePanel(panelId) {
            const panel = document.getElementById(panelId);
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            adjustLayout();
        }

        function updateSwitcherLayout() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const handle = switchElement.querySelector('.switch-handle');

            labels.forEach(label => {
                label.style.flex = 'none';
                label.style.padding = '0 20px';
            });

            const activeLabel = switchElement.querySelector('.switch-label.active');
            if (activeLabel) {
                const switchRect = switchElement.getBoundingClientRect();
                const labelRect = activeLabel.getBoundingClientRect();

                handle.style.left = `${labelRect.left - switchRect.left}px`;
                handle.style.width = `${labelRect.width}px`;
            }

            switchElement.style.width = 'auto';
        }

        function switchTab(index) {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const activeStates = Array.from(labels).map(label => label.textContent);

            labels.forEach((label, i) => {
                label.classList.toggle('active', i === index);
            });

            updateSwitcherLayout();
            showContent(activeStates[index]);

            adjustLayout();
        }

		function showContent(state) {
			const tabContent = document.getElementById('tabContent');
			tabContent.innerHTML = stateContents[state] || '';

			if (state === 'תרגול') {
				const quizContent = document.getElementById('quiz-content');
				if (quizContent) {
					let columnsContainer = document.getElementById('columnsContainer');
					if (!columnsContainer) {
						columnsContainer = document.createElement('div');
						columnsContainer.id = 'columnsContainer';
						columnsContainer.className = 'columns-container';
						columnsContainer.innerHTML = `
							<div id="questionsColumn" class="questions-column"></div>
							<div id="answersColumn" class="answers-column"></div>	
						`;
						quizContent.appendChild(columnsContainer);
					}
				}
				renderQuiz();
				updateProgressBar();
			}
		}

        function initializeSwitch() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labelsContainer = switchElement.querySelector('.switch-labels');
            const switchContainer = document.getElementById('switchContainer');

            const activeStates = Object.keys(stateContents).filter(state => stateContents[state].trim() !== '');

            if (activeStates.length <= 1) {
                switchContainer.style.display = 'none';
                if (activeStates.length === 1) {
                    showContent(activeStates[0]);
                }
                return;
            }

            switchContainer.style.display = 'flex';

            activeStates.forEach((state, index) => {
                const label = document.createElement('div');
                label.className = 'switch-label';
                label.textContent = state;
                label.addEventListener('click', () => switchTab(index));
                labelsContainer.appendChild(label);
            });

            const defaultTab = manuallySetDefaultTab !== null && manuallySetDefaultTab < activeStates.length
                ? manuallySetDefaultTab
                : 0;

            switchTab(defaultTab);
        }

function renderQuiz() {
    console.log("Rendering quiz for Stage:", currentStage);
    const quizContent = document.getElementById("quiz-content");

    if (!quizContent) {
        console.error("Quiz content not found");
        return;
    }

    // Clear existing content to avoid retaining old columns
    quizContent.innerHTML = '';

    // Create a new columns container each time to avoid any conflicts
    const columnsContainer = document.createElement("div");
    columnsContainer.id = "columnsContainer";
    columnsContainer.className = "columns-container";
    columnsContainer.innerHTML = `
        <div id="questionsColumn" class="questions-column"></div>
        <div id="answersColumn" class="answers-column"></div>
    `;
    quizContent.appendChild(columnsContainer);

    // Get references to the new columns
    const questionsColumn = document.getElementById("questionsColumn");
    const answersColumn = document.getElementById("answersColumn");

    if (!questionsColumn || !answersColumn) {
        console.error("Questions or answers column not found");
        return;
    }

    const currentQuiz = quizData[currentStage];
    console.log("Current Quiz Data:", currentQuiz);

    // Apply the correct layout class
    columnsContainer.className = `columns-container ${currentQuiz.direction}-layout`;

    // Add stage name if it exists
    if (currentQuiz.stageName) {
        const stageNameElement = document.createElement("h2");
        stageNameElement.textContent = currentQuiz.stageName;
        stageNameElement.className = "stage-name";
        quizContent.insertBefore(stageNameElement, columnsContainer);
    }

    const shuffledQuestions = shuffleArray([...currentQuiz.questions]);
    const shuffledAnswers = shuffleArray([...currentQuiz.answers]);

    questionsColumn.innerHTML = '';
    answersColumn.innerHTML = '';

    shuffledQuestions.forEach((question, index) => {
        const questionWrapper = document.createElement("div");
        const answerWrapper = document.createElement("div");
        questionWrapper.className = "card-wrapper";
        answerWrapper.className = "card-wrapper";

        const questionElement = createQuestionElement(question);
        const answerElement = createAnswerElement(shuffledAnswers[index]);

        questionWrapper.appendChild(questionElement);
        answerWrapper.appendChild(answerElement);

        questionsColumn.appendChild(questionWrapper);
        answersColumn.appendChild(answerWrapper);
    });

    // Set all cards to the height of the tallest card
    const allCards = document.querySelectorAll('.question-item, .answer-item');
    let maxHeight = 0;

    // Find the tallest card
    allCards.forEach(card => {
        const height = card.offsetHeight;
        if (height > maxHeight) {
            maxHeight = height;
        }
    });

    // Set all cards to the max height
    allCards.forEach(card => {
        card.style.height = `${maxHeight}px`;
    });

    // Re-enable "Show All" and "Clear All" buttons
    document.querySelectorAll('.center-button').forEach(button => {
        if (button.textContent === 'Show All' || button.textContent === 'Clear All') {
            button.disabled = false;
        }
    });

    updateStageNumber();

    // Reset attempts for the new stage
    attempts = 0;
    document.getElementById("attempts").textContent = `נסיונות: ${attempts}`;

    // Update progress bar
    updateProgressBar();
}


		function createQuestionElement(question) {
			const questionElement = document.createElement("div");
			questionElement.classList.add("question-item");
			questionElement.textContent = question.question;
			questionElement.dataset.questionId = question.question_id;
			questionElement.onclick = () => handleQuestionSelect(questionElement);
			
			// Add drag and drop event listeners
			questionElement.ondragover = (e) => {
				e.preventDefault();
				questionElement.classList.add('drag-over');
			};
			questionElement.ondragleave = () => questionElement.classList.remove('drag-over');
			questionElement.ondrop = (e) => handleDrop(e, questionElement);
			
			return questionElement;
		}

		function createAnswerElement(answer) {
			const answerElement = document.createElement("div");
			answerElement.classList.add("answer-item");
			answerElement.style.backgroundColor = colors[answer.answer_id % colors.length];
			answerElement.textContent = answer.answer;
			answerElement.dataset.answerId = answer.answer_id;
			answerElement.onclick = () => handleAnswerSelect(answerElement);
			
			// Make answer draggable
			answerElement.draggable = true;
			answerElement.ondragstart = (e) => handleDragStart(e, answerElement);
			
			return answerElement;
		}

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

		function handleQuestionSelect(element) {
			if (element.dataset.matchedAnswerId) {
				// If the question is already matched, reset it
				const matchedAnswer = document.querySelector(`.answer-item[data-answer-id="${element.dataset.matchedAnswerId}"]`);
				if (matchedAnswer) {
					matchedAnswer.classList.remove('matched');
				}
				element.style.backgroundColor = '';
				delete element.dataset.matchedAnswerId;
				selectedQuestion = null;
			} else {
				// If it's not matched, select it
				if (selectedQuestion) selectedQuestion.classList.remove('selected');
				selectedQuestion = element;
				selectedQuestion.classList.add('selected');
				if (selectedAnswer) matchCards();
			}
		}

		function handleAnswerSelect(element) {
			if (selectedAnswer) selectedAnswer.classList.remove('selected');
			selectedAnswer = element;
			selectedAnswer.classList.add('selected');
			if (selectedQuestion) matchCards();
		}

		function matchCards() {
			if (!selectedQuestion || !selectedAnswer) return;

			// If the question was previously matched, reset the old match
			if (selectedQuestion.dataset.matchedAnswerId) {
				const oldMatchedAnswer = document.querySelector(`.answer-item[data-answer-id="${selectedQuestion.dataset.matchedAnswerId}"]`);
				if (oldMatchedAnswer) {
					oldMatchedAnswer.classList.remove('matched');
				}
			}

			// If the answer was previously matched, reset the old match
			const oldMatchedQuestion = document.querySelector(`.question-item[data-matched-answer-id="${selectedAnswer.dataset.answerId}"]`);
			if (oldMatchedQuestion) {
				oldMatchedQuestion.style.backgroundColor = '';
				delete oldMatchedQuestion.dataset.matchedAnswerId;
			}

			// Make the new match
			selectedQuestion.style.backgroundColor = selectedAnswer.style.backgroundColor;
			selectedQuestion.dataset.matchedAnswerId = selectedAnswer.dataset.answerId;
			selectedAnswer.classList.add('matched');

			selectedQuestion.classList.remove('selected');
			selectedAnswer.classList.remove('selected');
			selectedQuestion = null;
			selectedAnswer = null;
		}
				
		function handleDragStart(e, answerElement) {
			e.dataTransfer.setData('text/plain', answerElement.dataset.answerId);
			selectedAnswer = answerElement;
		}

		function handleDrop(e, questionElement) {
			e.preventDefault();
			questionElement.classList.remove('drag-over');
			const answerId = e.dataTransfer.getData('text');
			const answerElement = document.querySelector(`.answer-item[data-answer-id="${answerId}"]`);
			
			if (answerElement) {
				selectedQuestion = questionElement;
				matchCards();
			}
		}
		
function checkStage() {
    attempts++;
    document.getElementById("attempts").textContent = `Attempts: ${attempts}`;

    let correctCount = 0;
    const totalQuestions = quizData[currentStage].questions.length;

    document.querySelectorAll('.question-item').forEach(questionCard => {
        const questionId = questionCard.dataset.questionId;
        const matchedAnswerId = questionCard.dataset.matchedAnswerId;
        const correctAnswer = quizData[currentStage].answers.find(a => a.question_id == questionId);

        if (matchedAnswerId == correctAnswer.answer_id) {
            correctCount++;
        } else {
            // Clear the background color for incorrect answers
            questionCard.style.backgroundColor = '';
            // Remove the matched answer ID
            delete questionCard.dataset.matchedAnswerId;
        }
    });

    if (correctCount === totalQuestions) {
        addAnimalsToFarm(totalQuestions);

        // Disable "Show All" and "Clear All" buttons
        document.querySelectorAll('.center-button').forEach(button => {
            if (button.textContent === 'Show All' || button.textContent === 'Clear All') {
                button.disabled = true;
            }
        });

        singleStageConfetti();
        showEncouragingPopup(correctCount, totalQuestions, true);

        if (currentStage < quizData.length - 1) {
            // Increment currentStage and update progress bar
            currentStage++;
            updateProgressBar();
            
            // Render the new stage after a short delay for better UX
            setTimeout(() => {
                attempts = 0;
                // Remove the old stage name if it exists
                const oldStageName = document.querySelector('.stage-name');
                if (oldStageName) {
                    oldStageName.remove();
                }
                renderQuiz(); // Render the next stage
                document.getElementById("attempts").textContent = `Attempts: ${attempts}`;
            }, 1500);
        } else {
            // If all stages are complete
			currentStage++;
			updateProgressBar();
            allStagesConfetti();
            showModal("Congratulations! You've completed all stages.");
        }
    } else {
        showEncouragingPopup(correctCount, totalQuestions, false);
        if (attempts >= 10) {
            showModal("You've reached the maximum number of attempts. The correct answers have been revealed.");
            showAllAnswers(); // Reveal all correct answers

            // Disable the check answers button
            const checkAnswersButton = document.querySelector('.center-button.check-answers');
            if (checkAnswersButton) {
                checkAnswersButton.disabled = true;
            }
        }
    }

    scrollToTop();
}


		function showAllAnswers() {
			const currentQuiz = quizData[currentStage];
			document.querySelectorAll('.question-item').forEach(questionCard => {
				const questionId = questionCard.dataset.questionId;
				const correctAnswer = currentQuiz.answers.find(a => a.question_id == questionId);
				const correctAnswerElement = document.querySelector(`.answer-item[data-answer-id="${correctAnswer.answer_id}"]`);
				
				if (correctAnswerElement) {
					questionCard.style.backgroundColor = correctAnswerElement.style.backgroundColor;
					questionCard.dataset.matchedAnswerId = correctAnswer.answer_id;
				}
			});

			// Disable drag-and-drop and click events after revealing all answers
			document.querySelectorAll('.question-item, .answer-item').forEach(item => {
				item.onclick = null;
				item.ondragstart = null;
				item.ondragover = null;
				item.ondrop = null;
			});
		}

		function clearAllAnswers() {
			// Clear question cards
			document.querySelectorAll('.question-item').forEach(questionCard => {
				questionCard.style.backgroundColor = '';
				delete questionCard.dataset.matchedAnswerId;
			});

			// Clear answer cards
			document.querySelectorAll('.answer-item').forEach(answerCard => {
				answerCard.classList.remove('matched');
			});

			// Re-enable interactions
			document.querySelectorAll('.question-item, .answer-item').forEach(item => {
				item.onclick = item.classList.contains('question-item') ? 
					() => handleQuestionSelect(item) : 
					() => handleAnswerSelect(item);
				
				if (item.classList.contains('answer-item')) {
					item.draggable = true;
					item.ondragstart = (e) => handleDragStart(e, item);
				} else {
					item.ondragover = (e) => {
						e.preventDefault();
						item.classList.add('drag-over');
					};
					item.ondragleave = () => item.classList.remove('drag-over');
					item.ondrop = (e) => handleDrop(e, item);
				}
			});
		}

        function showEncouragingPopup(correctCount, totalQuestions, isStageComplete) {
            const incorrectCount = totalQuestions - correctCount;
            let message = `קיבלת ${correctCount} נכונות ו-${incorrectCount} שגויות.`;

            if (correctCount === totalQuestions) {
                message += " ציון מושלם!";
            } else if (correctCount >= Math.ceil(totalQuestions * 0.7)) {
                message += " עבודה מצוינת! רואים שהנושא מתחיל להיות מובן!";
            } else if (correctCount >= Math.ceil(totalQuestions * 0.5)) {
                message += " מאמץ טוב! נמשיך לתרגל כי השיפור קרוב!";
            } else {
                message += " לא לוותר! כל נסיון עוזר לך ללמוד. ננסה שוב!";
            }

            if (isStageComplete) {
                message += "\n\n השלב הזה הסתיים, עוברים לשלב הבא.";
            }

            showModal(message);
        }

        function updateProgressBar() {
            const progressBar = document.getElementById("progress-bar");
            const completedStages = currentStage;
            const progress = (completedStages / quizData.length) * 100;
            const roundedProgress = Math.min(100, Math.max(0, Math.round(progress)));
            progressBar.style.width = `${roundedProgress}%`;
            progressBar.textContent = roundedProgress > 0 ? `${roundedProgress}%` : '';
        }

        function updateStageNumber() {
            const stageElement = document.getElementById("stage-number");
            stageElement.textContent = `שלב ${currentStage + 1} מתוך ${quizData.length}`;
        }

        function singleStageConfetti() {
            function randomInRange(min, max) {
                return Math.random() * (max - min) + min;
            }
            confetti({
                angle: randomInRange(55, 125),
                spread: randomInRange(50, 70),
                particleCount: randomInRange(50, 100),
                origin: { y: 0.6 },
            });
        }

        function allStagesConfetti() {
            const defaults = {
                spread: 360,
                ticks: 50,
                gravity: 0,
                decay: 0.94,
                startVelocity: 30,
                shapes: ["star"],
                colors: ["FFE400", "FFBD00", "E89400", "FFCA6C", "FDFFB8"],
            };
            function shoot() {
                confetti({
                    ...defaults,
                    particleCount: 40,
                    scalar: 1.2,
                    shapes: ["star"],
                });
                confetti({
                    ...defaults,
                    particleCount: 10,
                    scalar: 0.75,
                    shapes: ["circle"],
                });
            }
            setTimeout(shoot, 0);
            setTimeout(shoot, 100);
            setTimeout(shoot, 200);
        }

        let farmAnimals = [];

        function addAnimalsToFarm(count) {
            const animalFarm = document.getElementById('animalFarm');
            let availableAnimals = animals.filter(animal => !farmAnimals.includes(animal));

            console.log(`Adding ${count} animals to the farm. Current farm size: ${farmAnimals.length}`);

            for (let i = 0; i < count; i++) {
                if (availableAnimals.length === 0) {
                    console.log("No more unique animals available!");
                    break;
                }

                const randomIndex = Math.floor(Math.random() * availableAnimals.length);
                const chosenAnimal = availableAnimals[randomIndex];

                const animalElement = document.createElement('li');
                animalElement.textContent = chosenAnimal;
                animalFarm.appendChild(animalElement);

                farmAnimals.push(chosenAnimal);
                availableAnimals.splice(randomIndex, 1);
                console.log(`Added animal: ${chosenAnimal}`);
            }

            console.log(`Farm size after addition: ${farmAnimals.length}`);
            logAnimalFarmState();
        }

        function logAnimalFarmState() {
            console.log(`Current animal farm state: ${farmAnimals.length} animals`);
            console.log(farmAnimals);
        }

        const animals = [
            "🐉", "🐻", "🦗", "🦁", "🐔", "🦂", "🐟", "🐣", "🐯", "🦡",
            "🐰", "🐍", "🦅", "🐈", "🦈", "🦜", "🦛", "🐀", "🐑",
            "🐮", "🦇", "🐇", "🦖", "🦀", "🦎", "🐃", "🐡", "🐤",
            "🐪", "🦥", "🐛", "🐅", "🐥", "🐱", "🐺", "🐕", "🦩", "🐊",
            "🐖", "🐢", "🕷", "🦕", "🦌", "🐁", "🦨", "🦘", "🐵",
            "🦑", "🐋", "🦓", "🦒", "🐲", "🦆", "🦉", "🐶", "🐄", "🦟",
            "🦃", "🦧", "🦏", "🐙", "🐿", "🦢", "🐜", "🐦", "🐞",
            "🦐", "🦔", "🐼", "🦄", "🦞", "🐫", "🐭", "🐆", "🦝",
            "🐠", "🦚", "🐴", "🐏", "🦮", "🐐", "🐹", "🐎", "🦋", "🐳",
            "🐨", "🐂", "🦍", "🦙", "🐬", "🦦", "🦊", "🐌", "🐓", "🐧",
            "🐷", "🐩", "🐘", "🐸", "🐝"
        ];

        function showModal(message) {
            const modal = document.getElementById("quizModal");
            const modalMessage = document.getElementById("modalMessage");
            const modalButton = document.getElementById("modalButton");
            const modalClose = document.getElementsByClassName("modal-quiz-close")[0];

            modalMessage.textContent = message;
            modal.style.display = "block";

            modalButton.onclick = function() {
                modal.style.display = "none";
            }

            modalClose.onclick = function() {
                modal.style.display = "none";
            }

            window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }
        }

        function initializeQuiz() {
            console.log("Initializing quiz");
            currentStage = 0;
            attempts = 0;
            renderQuiz();
            updateProgressBar();
            const attemptsElement = document.getElementById("attempts");
            if (attemptsElement) {
                attemptsElement.textContent = `ניסיונות: ${attempts}`;
            } else {
                console.error("Attempts element not found");
            }
        }

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
			    scrollToTopBtn.style.display = "none";
        }

        window.addEventListener('load', () => {
            console.log("Window loaded");
            initializeSwitch();
            initializeQuiz();
            adjustLayout();
            showContent('תרגול');
        });

        window.addEventListener('resize', adjustLayout);

        // Load the copyright content from the external URL and insert it into the div
        fetch('http://ez42.live/global/copyright.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('copyright-container').innerHTML = data;
            })
            .catch(error => console.error('Error loading copyright:', error));
			
let scrollToTopBtn = document.getElementById("scrollToTopBtn");

    window.onscroll = function() {
        // Check if the scroll distance is more than twice the height of the screen
        if (document.body.scrollTop > window.innerHeight * 1.5 || 
            document.documentElement.scrollTop > window.innerHeight * 1.5) {
            scrollToTopBtn.style.display = "block";
        } else {
            scrollToTopBtn.style.display = "none";
        }
    };

scrollToTopBtn.onclick = function() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
};		
    </script>
</body>
</html>