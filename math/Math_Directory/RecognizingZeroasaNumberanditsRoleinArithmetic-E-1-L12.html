<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ez42.live/global/analytics.js"></script>
    <script src="https://ez42.live/global/ads.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
 	<link rel="stylesheet" href="http://www.ez42.live/global/styles/styles-eng.css"> <!-- Link to external CSS file -->
    <link rel="icon" type="image/svg+xml" href="http://www.ez42.live/global/styles/ez42-icon.svg">
    <title>✅ EZ42 LIVE - It's EZ</title>

<style>

</style>

</head> 
<body>
    <div class="page-container">
        <div class="content-wrapper">
		
		<!--  Side Panel 1  -->
            <div id="sidePanel1" class="side-panel">
				<div class="logo-container">
					<a href="http://ez42.live" target="_blank" rel="noopener noreferrer">
						<img src="http://ez42.live/global/logo/logo.svg" alt="EZ42 Logo" class="logo-image">
					</a>
				</div>
			<h2>Instructions & Rules</h2>
			<ul>
																		<!--  PH1 - Instructions & Rules   -->	
                <li>Read the text and questions carefully.</li>
                <li>Select the best answer.</li>
                <li>Click "Check Answers" when you're ready to see how you did!</li>
                <li>You can check your answers multiple times to improve your score.</li>
                <li>Correct answers are revealed after 10 attempts.</li>
                <li>You must answer all questions correctly to proceed to the next stage.</li>
				<li>Have fun!</li>
			</ul>
            </div>
			
		<!--  Quiz Panel   -->
            <div id="quizContainer" class="quiz-container">
																			<!--  PH2 - Title  X  2 : A1 - 📗 Green, A2 - 📘 Blue, B1 - 📒 Yellow, 📙 Orange, 📔 Beige, 📓 Gray , 📕 Red-->	
                <h1>Recognizing zero as a number and its role in arithmetic</h1>
                
                <div id="switchContainer" class="switch-container">
                    <div id="multiStateSwitch" class="switch">
                        <div class="switch-labels"></div>
                        <div class="switch-handle"></div>
                    </div>
                </div>
                <div id="tabContent"></div>
            </div>
			
		<!--  Side Panel 2  -->
			<div id="sidePanel2" class="side-panel">
				<h2>Animal Farm</h2>
				<p>Watch your farm grow as you progress! Each completed stage adds new animal friends to your collection.</p>
				<ul id="animalFarm" class="emoji-list">
				</ul>
			</div>
        </div>
    </div>
    <div id="copyright-container"></div>
 
	<!-- Modal -->
	<div id="quizModal" class="modal-quiz">
		<div class="modal-quiz-content">
			<span class="modal-quiz-close">&times;</span>
			<p id="modalMessage"></p>  
			<button id="modalExplanationsButton" class="modal-quiz-button" style="display: none; background-color: #ff7f50;">View Explanations</button>
			<button id="modalNextButton" class="modal-quiz-button">Next Stage</button>
		</div>
	</div>
	<button id="scrollToTopBtn" title="Go to top">↑</button>
    <script>
        let isQuizExpanded = false;
        let allowQuizExpansion = true;

        let attempts = 0;
        let currentStage = 0;

        const manuallySetDefaultTab = 0;

																		//  PH3 - Quiz Data 
        const quizData = [ 												   	
				{
				  "stages": [
//-------------------------------------------------------------------------------------------------------------------				  
// Stage 1
{
  "text": "Liam is learning about the number zero. His teacher told him that zero means nothing, but it's still a very important number. Liam wants to understand how zero works in counting.",
  "questions": [
    // Question 1.1
    {
      "question": "If Liam has zero pencils, how many pencils does he have?",
      "options": ["0", "1", "5", "10", "A truckload"],
      "answer": "0",
      "explanation": "Zero means he has no pencils."
    },
    // Question 1.2
    {
      "question": "Which number represents nothing?",
      "options": ["0", "1", "2", "3", "A billion"],
      "answer": "0",
      "explanation": "Zero represents nothing."
    },
    // Question 1.3
    {
      "question": "What number comes before one when counting down?",
      "options": ["0", "1", "2", "10", "Infinity"],
      "answer": "0",
      "explanation": "Zero comes before one when counting down."
    },
    // Question 1.4
    {
      "question": "Liam had 2 cookies but ate them all. How many cookies does he have now?",
      "options": ["0", "2", "1", "3", "All the cookies"],
      "answer": "0",
      "explanation": "Eating all the cookies leaves zero cookies."
    },
    // Question 1.5
    {
      "question": "If you start with zero and add nothing, what number do you have?",
      "options": ["0", "1", "10", "100", "A magical number"],
      "answer": "0",
      "explanation": "Zero plus nothing is still zero."
    }
  ]
},
// Stage 2
{
  "text": "Sophia is practicing adding zero to numbers. She learns that adding zero doesn't change the number. She wants to solve some problems to test this idea.",
  "questions": [
    // Question 2.1
    {
      "question": "What is 5 + 0?",
      "options": ["5", "0", "10", "50", "A mystery number"],
      "answer": "5",
      "explanation": "Adding zero to 5 gives 5."
    },
    // Question 2.2
    {
      "question": "If Sophia has 7 marbles and gets zero more, how many marbles does she have?",
      "options": ["7", "0", "10", "14", "An endless supply"],
      "answer": "7",
      "explanation": "7 + 0 = 7."
    },
    // Question 2.3
    {
      "question": "What is 0 + 3?",
      "options": ["3", "0", "6", "30", "Zero plus infinity"],
      "answer": "3",
      "explanation": "Zero plus 3 equals 3."
    },
    // Question 2.4
    {
      "question": "Adding zero to a number makes it:",
      "options": ["Stay the same", "Become zero", "Double", "Triple", "Turn into a banana"],
      "answer": "Stay the same",
      "explanation": "Adding zero doesn't change the number."
    },
    // Question 2.5
    {
      "question": "What is 0 + 0?",
      "options": ["0", "1", "10", "100", "A zillion"],
      "answer": "0",
      "explanation": "Zero plus zero equals zero."
    }
  ]
},
// Stage 3
{
  "text": "Noah is learning about subtracting zero from numbers. His teacher says that subtracting zero doesn't change the number. Noah decides to try some subtraction problems.",
  "questions": [
    // Question 3.1
    {
      "question": "What is 8 - 0?",
      "options": ["8", "0", "7", "80", "An alien number"],
      "answer": "8",
      "explanation": "Subtracting zero from 8 leaves it unchanged."
    },
    // Question 3.2
    {
      "question": "If Noah has 5 toys and gives away zero toys, how many toys does he have?",
      "options": ["5", "0", "10", "1", "All the toys in the world"],
      "answer": "5",
      "explanation": "5 - 0 = 5."
    },
    // Question 3.3
    {
      "question": "Subtracting zero from a number makes it:",
      "options": ["Stay the same", "Become zero", "Increase by one", "Double", "Turn into chocolate"],
      "answer": "Stay the same",
      "explanation": "Subtracting zero doesn't change the number."
    },
    // Question 3.4
    {
      "question": "What is 0 - 0?",
      "options": ["0", "1", "-1", "10", "An endless loop"],
      "answer": "0",
      "explanation": "Zero minus zero equals zero."
    },
    // Question 3.5
    {
      "question": "Noah has zero stickers. If he doesn't lose any stickers, how many does he have?",
      "options": ["0", "1", "5", "-1", "A gazillion"],
      "answer": "0",
      "explanation": "He still has zero stickers."
    }
  ]
},
// Stage 4
{
  "text": "Mia is learning how zero can be used in counting backwards. She wants to understand what happens when we count down to zero.",
  "questions": [
    // Question 4.1
    {
      "question": "If you have 3 apples and eat one, then another one, and then another one, how many apples do you have now?",
      "options": ["0", "1", "2", "3", "A magic apple"],
      "answer": "0",
      "explanation": "3 - 3 = 0 apples."
    },
    // Question 4.2
    {
      "question": "What number do you reach when you count down from 5 and subtract one each time until you can't subtract anymore?",
      "options": ["0", "1", "5", "10", "Infinity"],
      "answer": "0",
      "explanation": "Counting down from 5, you reach zero."
    },
    // Question 4.3
    {
      "question": "Mia had zero stickers. Her friend gave her zero more. How many stickers does she have now?",
      "options": ["0", "1", "2", "10", "A thousand"],
      "answer": "0",
      "explanation": "0 + 0 = 0."
    },
    // Question 4.4
    {
      "question": "Is zero less than one?",
      "options": ["Yes", "No", "They are equal", "Sometimes", "Only on Tuesdays"],
      "answer": "Yes",
      "explanation": "Zero is less than one."
    },
    // Question 4.5
    {
      "question": "Which is the smallest number?",
      "options": ["0", "1", "5", "10", "A million"],
      "answer": "0",
      "explanation": "Zero is the smallest among these numbers."
    }
  ]
},
// Stage 5
{
  "text": "Oliver is exploring the number zero in place value. He learns that zero can hold a place in numbers like 10 or 20. He wants to understand how zero changes the value of numbers.",
  "questions": [
    // Question 5.1
    {
      "question": "In the number 10, what does the zero represent?",
      "options": ["No ones", "No tens", "Ten ones", "Ten tens", "A secret code"],
      "answer": "No ones",
      "explanation": "The zero in 10 means there are zero ones."
    },
    // Question 5.2
    {
      "question": "Which number has a zero in the tens place?",
      "options": ["5", "50", "10", "100", "A telephone number"],
      "answer": "5",
      "explanation": "In 5, there are zero tens."
    },
    // Question 5.3
    {
      "question": "How many tens are in the number 20?",
      "options": ["2", "0", "20", "10", "As many as you like"],
      "answer": "2",
      "explanation": "There are two tens in 20."
    },
    // Question 5.4
    {
      "question": "In the number 102, how many zeros are there?",
      "options": ["1", "0", "2", "3", "An infinite number"],
      "answer": "1",
      "explanation": "There is one zero in 102."
    },
    // Question 5.5
    {
      "question": "What is the value of the zero in the number 30?",
      "options": ["Zero ones", "Zero tens", "Three tens", "Thirty ones", "A magical value"],
      "answer": "Zero ones",
      "explanation": "The zero indicates there are zero ones in 30."
    }
  ]
},
// Stage 6
{
  "text": "Emma is exploring how zero works in multiplication. Her teacher explains that any number multiplied by zero equals zero. Emma decides to test this with some problems.",
  "questions": [
    // Question 6.1
    {
      "question": "What is 0 x 4?",
      "options": ["0", "4", "1", "40", "A giant number"],
      "answer": "0",
      "explanation": "Any number multiplied by zero equals zero."
    },
    // Question 6.2
    {
      "question": "If Emma has 5 bags with zero apples in each, how many apples does she have in total?",
      "options": ["0", "5", "10", "25", "A basket full"],
      "answer": "0",
      "explanation": "5 x 0 = 0 apples."
    },
    // Question 6.3
    {
      "question": "What is 7 x 0?",
      "options": ["0", "7", "1", "70", "An endless number"],
      "answer": "0",
      "explanation": "Any number multiplied by zero equals zero."
    },
    // Question 6.4
    {
      "question": "Multiplying zero by any number gives:",
      "options": ["Zero", "The same number", "One", "Ten", "A surprise"],
      "answer": "Zero",
      "explanation": "Zero times any number is zero."
    },
    // Question 6.5
    {
      "question": "What is 0 x 0?",
      "options": ["0", "1", "10", "100", "Zero times infinity"],
      "answer": "0",
      "explanation": "Zero times zero equals zero."
    }
  ]
},
// Stage 7
{
  "text": "Lucas is learning about dividing zero by numbers. His teacher tells him that zero divided by any number is zero. Lucas wants to practice this concept.",
  "questions": [
    // Question 7.1
    {
      "question": "What is 0 ÷ 5?",
      "options": ["0", "5", "1", "Undefined", "A magical mystery"],
      "answer": "0",
      "explanation": "Zero divided by any non-zero number is zero."
    },
    // Question 7.2
    {
      "question": "If Lucas has zero candies to share among 3 friends, how many candies does each friend get?",
      "options": ["0", "1", "3", "Cannot share zero", "An endless supply"],
      "answer": "0",
      "explanation": "0 ÷ 3 = 0 candies per friend."
    },
    // Question 7.3
    {
      "question": "What is 0 ÷ 7?",
      "options": ["0", "7", "1", "Undefined", "A secret number"],
      "answer": "0",
      "explanation": "Zero divided by any non-zero number is zero."
    },
    // Question 7.4
    {
      "question": "Dividing zero by any number gives:",
      "options": ["Zero", "The same number", "One", "Undefined", "A surprise gift"],
      "answer": "Zero",
      "explanation": "Zero divided by any non-zero number equals zero."
    },
    // Question 7.5
    {
      "question": "What is 0 ÷ 1?",
      "options": ["0", "1", "Undefined", "10", "Infinity"],
      "answer": "0",
      "explanation": "Zero divided by 1 equals zero."
    }
  ]
},
// Stage 8
{
  "text": "Grace is curious about what happens when zero is divided by zero. Her teacher explains that this is a special case and cannot be solved. Grace wants to understand why.",
  "questions": [
    // Question 8.1
    {
      "question": "What is 0 ÷ 0?",
      "options": ["Undefined", "0", "1", "Infinity", "Zero times zero"],
      "answer": "Undefined",
      "explanation": "0 ÷ 0 is undefined in mathematics."
    },
    // Question 8.2
    {
      "question": "Why can't we divide zero by zero?",
      "options": ["Because it's undefined", "Because zero is too small", "Because zero is too big", "Because it's illegal", "Because zero is shy"],
      "answer": "Because it's undefined",
      "explanation": "Dividing zero by zero doesn't have a defined value."
    },
    // Question 8.3
    {
      "question": "Is 0 ÷ 0 equal to zero?",
      "options": ["No, it's undefined", "Yes, it equals zero", "Yes, it equals one", "Yes, it equals infinity", "Only on weekends"],
      "answer": "No, it's undefined",
      "explanation": "0 ÷ 0 is undefined."
    },
    // Question 8.4
    {
      "question": "Can we find a number that multiplied by zero gives zero?",
      "options": ["Yes, any number", "No, none", "Only zero", "Only one", "Only superheroes can"],
      "answer": "Yes, any number",
      "explanation": "Any number multiplied by zero equals zero."
    },
    // Question 8.5
    {
      "question": "Is dividing by zero allowed in math?",
      "options": ["No, it's undefined", "Yes, always", "Only sometimes", "Yes, if no one is looking", "Only in dreams"],
      "answer": "No, it's undefined",
      "explanation": "Division by zero is undefined."
    }
  ]
},
// Stage 9
{
  "text": "Ethan is learning about zero's role in place value for larger numbers. He discovers that zeros can make numbers like 100 or 1000. He wants to explore how zeros change a number's value.",
  "questions": [
    // Question 9.1
    {
      "question": "How many zeros are in the number one hundred (100)?",
      "options": ["2", "1", "0", "3", "A million zeros"],
      "answer": "2",
      "explanation": "The number 100 has two zeros."
    },
    // Question 9.2
    {
      "question": "In the number 1,000, what does the zero represent?",
      "options": ["Placeholders for hundreds, tens, and ones", "Nothing", "The number is zero", "It makes the number smaller", "An alien code"],
      "answer": "Placeholders for hundreds, tens, and ones",
      "explanation": "Zeros hold the place for hundreds, tens, and ones in 1,000."
    },
    // Question 9.3
    {
      "question": "What is the value of the zero in the tens place in 205?",
      "options": ["0 tens", "0 ones", "2 tens", "5 tens", "A magical number"],
      "answer": "0 tens",
      "explanation": "The zero indicates there are zero tens in 205."
    },
    // Question 9.4
    {
      "question": "If you remove the zero from 10, what number do you get?",
      "options": ["1", "0", "100", "110", "Banana"],
      "answer": "1",
      "explanation": "Removing the zero from 10 leaves 1."
    },
    // Question 9.5
    {
      "question": "How does adding a zero to the end of 50 change its value?",
      "options": ["It becomes 500", "It stays the same", "It becomes 5", "It decreases", "It turns into a superhero"],
      "answer": "It becomes 500",
      "explanation": "Adding a zero to 50 makes it 500."
    }
  ]
},
// Stage 10
{
  "text": "Ava is exploring patterns with zero in sequences. She notices that adding zero doesn't change numbers, but multiplying by zero always results in zero. She wants to test these patterns.",
  "questions": [
    // Question 10.1
    {
      "question": "What is the next number in the sequence: 0, 0, 0, ...?",
      "options": ["0", "1", "2", "10", "A rainbow"],
      "answer": "0",
      "explanation": "The pattern repeats zero."
    },
    // Question 10.2
    {
      "question": "If you multiply any number by zero, the result is always:",
      "options": ["Zero", "One", "The same number", "Ten", "A unicorn"],
      "answer": "Zero",
      "explanation": "Multiplying by zero always gives zero."
    },
    // Question 10.3
    {
      "question": "Which operation will not change the number: adding zero or multiplying by zero?",
      "options": ["Adding zero", "Multiplying by zero", "Both change the number", "Neither changes the number", "Dancing"],
      "answer": "Adding zero",
      "explanation": "Adding zero doesn't change the number."
    },
    // Question 10.4
    {
      "question": "Ava notices that 0 + 7 = 7. What does this tell us about zero?",
      "options": ["Adding zero doesn't change the number", "Zero makes numbers bigger", "Zero makes numbers smaller", "Zero is magic", "Zero ate the number"],
      "answer": "Adding zero doesn't change the number",
      "explanation": "Zero added to a number leaves it the same."
    },
    // Question 10.5
    {
      "question": "What is the pattern in the sequence: 5, 0, 5, 0, ...? What comes next?",
      "options": ["5", "0", "10", "5 and 0 together", "A dragon"],
      "answer": "5",
      "explanation": "The pattern alternates between 5 and 0, so 5 comes next."
    }
  ]
},
    // Stage 11
    {
      "text": "Lily is exploring how zero affects equations when it's a missing number. She wants to find out what number can be added to or subtracted from zero to get a certain result.",
      "questions": [
        // Question 11.1
        {
          "question": "What number do you add to 0 to get 6?",
          "options": ["6", "0", "1", "60", "A million"],
          "answer": "6",
          "explanation": "0 + 6 = 6."
        },
        // Question 11.2
        {
          "question": "If 0 + ___ = 0, what number goes in the blank?",
          "options": ["0", "1", "10", "Any number", "An elephant"],
          "answer": "0",
          "explanation": "Only zero added to zero equals zero."
        },
        // Question 11.3
        {
          "question": "What number subtracted from 0 gives 0?",
          "options": ["0", "1", "-1", "Any number", "A unicorn"],
          "answer": "0",
          "explanation": "0 - 0 = 0."
        },
        // Question 11.4
        {
          "question": "If ___ - 0 = 9, what number goes in the blank?",
          "options": ["9", "0", "1", "10", "999"],
          "answer": "9",
          "explanation": "Subtracting zero from 9 leaves it unchanged."
        },
        // Question 11.5
        {
          "question": "Which number makes this true: ___ + 0 = 0",
          "options": ["0", "1", "-1", "10", "A billion"],
          "answer": "0",
          "explanation": "Only zero added to zero equals zero."
        }
      ]
    },
    // Stage 12
    {
      "text": "Sam is curious about zero as an even number. His teacher explains that zero is considered even because it can be divided by 2 without a remainder. Sam wants to test this idea.",
      "questions": [
        // Question 12.1
        {
          "question": "Is zero an even number?",
          "options": ["Yes, because it's divisible by 2", "No, it's odd", "No, it's neither even nor odd", "Yes, because it's zero", "Only on holidays"],
          "answer": "Yes, because it's divisible by 2",
          "explanation": "Zero divided by 2 equals zero."
        },
        // Question 12.2
        {
          "question": "Which of these numbers is even?",
          "options": ["0", "1", "3", "5", "Seven"],
          "answer": "0",
          "explanation": "Zero is an even number."
        },
        // Question 12.3
        {
          "question": "What is 0 divided by 2?",
          "options": ["0", "2", "Undefined", "1", "A secret"],
          "answer": "0",
          "explanation": "0 ÷ 2 = 0."
        },
        // Question 12.4
        {
          "question": "If you have zero candies and share them equally with one friend, how many candies does each person get?",
          "options": ["0", "1", "2", "Zero candies for everyone!", "Infinite candies"],
          "answer": "0",
          "explanation": "0 ÷ 2 = 0 candies each."
        },
        // Question 12.5
        {
          "question": "Which number is both even and zero?",
          "options": ["0", "2", "4", "6", "An imaginary number"],
          "answer": "0",
          "explanation": "Zero is an even number."
        }
      ]
    },
    // Stage 13
    {
      "text": "Ben is learning about how zero affects addition and subtraction equations. He notices that sometimes zero can be the missing number in an equation.",
      "questions": [
        // Question 13.1
        {
          "question": "Find the missing number: ___ + 5 = 5",
          "options": ["0", "5", "1", "10", "100"],
          "answer": "0",
          "explanation": "0 + 5 = 5."
        },
        // Question 13.2
        {
          "question": "What number can you subtract from 7 to get 7?",
          "options": ["0", "7", "1", "14", "A zillion"],
          "answer": "0",
          "explanation": "7 - 0 = 7."
        },
        // Question 13.3
        {
          "question": "Complete the equation: 9 + ___ = 9",
          "options": ["0", "1", "9", "18", "Eleventy"],
          "answer": "0",
          "explanation": "9 + 0 = 9."
        },
        // Question 13.4
        {
          "question": "If 0 + ___ = 8, what number goes in the blank?",
          "options": ["8", "0", "1", "80", "88"],
          "answer": "8",
          "explanation": "0 + 8 = 8."
        },
        // Question 13.5
        {
          "question": "Which number makes this true: 12 - ___ = 12",
          "options": ["0", "1", "12", "24", "A thousand"],
          "answer": "0",
          "explanation": "Subtracting zero doesn't change the number."
        }
      ]
    },
    // Stage 14
    {
      "text": "Ella is working with zero in multiplication and division. She learns that dividing a number by itself gives one, but wonders what happens when zero is involved.",
      "questions": [
        // Question 14.1
        {
          "question": "What is 0 ÷ 5?",
          "options": ["0", "5", "1", "Undefined", "Zero times five"],
          "answer": "0",
          "explanation": "Zero divided by any non-zero number is zero."
        },
        // Question 14.2
        {
          "question": "Is 5 ÷ 0 defined?",
          "options": ["No, division by zero is undefined", "Yes, it's zero", "Yes, it's five", "Yes, it's infinity", "Only on Sundays"],
          "answer": "No, division by zero is undefined",
          "explanation": "Division by zero is undefined."
        },
        // Question 14.3
        {
          "question": "What is 0 ÷ 0?",
          "options": ["Undefined", "0", "1", "Infinity", "Zero divided by zero"],
          "answer": "Undefined",
          "explanation": "0 ÷ 0 is undefined."
        },
        // Question 14.4
        {
          "question": "What is 0 x 0?",
          "options": ["0", "1", "Undefined", "Zero times zero", "A million"],
          "answer": "0",
          "explanation": "Zero times zero equals zero."
        },
        // Question 14.5
        {
          "question": "Which statement is true?",
          "options": ["Any number divided by zero is undefined", "Any number divided by zero is zero", "Zero divided by any number is undefined", "Zero times any number is undefined", "Math is only for robots"],
          "answer": "Any number divided by zero is undefined",
          "explanation": "Division by zero is undefined."
        }
      ]
    },
    // Stage 15
    {
      "text": "Isabella is investigating zero in patterns and sequences. She wants to find out how zero affects number patterns when added, subtracted, multiplied, or divided.",
      "questions": [
        // Question 15.1
        {
          "question": "What is the next number in the pattern: 0, 2, 4, 6, ...?",
          "options": ["8", "0", "10", "6", "A hundred"],
          "answer": "8",
          "explanation": "The pattern increases by 2 each time."
        },
        // Question 15.2
        {
          "question": "If you start at 10 and subtract 2 each time, what number comes after 2?",
          "options": ["0", "2", "-2", "4", "Banana"],
          "answer": "0",
          "explanation": "10, 8, 6, 4, 2, 0."
        },
        // Question 15.3
        {
          "question": "In the sequence: 5, 0, 5, 0, ..., what number comes next?",
          "options": ["5", "0", "10", "5 and 0 together", "A dinosaur"],
          "answer": "5",
          "explanation": "The pattern alternates between 5 and 0."
        },
        // Question 15.4
        {
          "question": "What happens when you multiply any number in the sequence 1, 2, 3 by zero?",
          "options": ["You get zero", "The number stays the same", "You get one", "The number doubles", "It turns into ice cream"],
          "answer": "You get zero",
          "explanation": "Multiplying by zero always results in zero."
        },
        // Question 15.5
        {
          "question": "If you start at zero and add 5 each time, what is the third number in the sequence?",
          "options": ["10", "0", "5", "15", "100"],
          "answer": "10",
          "explanation": "Sequence is 0, 5, 10."
        }
      ]
    },
    // Stage 16
    {
      "text": "Henry is exploring how zero affects comparisons between numbers. He wants to understand how zero fits when ordering numbers from smallest to largest.",
      "questions": [
        // Question 16.1
        {
          "question": "Which number is smaller than 1?",
          "options": ["0", "1", "2", "5", "100"],
          "answer": "0",
          "explanation": "Zero is less than one."
        },
        // Question 16.2
        {
          "question": "Which number is greater than zero?",
          "options": ["1", "0", "-1", "-5", "A snowman"],
          "answer": "1",
          "explanation": "One is greater than zero."
        },
        // Question 16.3
        {
          "question": "Arrange the numbers from smallest to largest: 3, 0, 2",
          "options": ["0, 2, 3", "3, 2, 0", "2, 3, 0", "0, 3, 2", "They are all the same"],
          "answer": "0, 2, 3",
          "explanation": "Zero is the smallest, then 2, then 3."
        },
        // Question 16.4
        {
          "question": "Which symbol makes this statement true: 0 ___ 5",
          "options": ["<", ">", "=", "+", "A smiley face"],
          "answer": "<",
          "explanation": "Zero is less than five."
        },
        // Question 16.5
        {
          "question": "Is zero greater than negative one (-1)?",
          "options": ["Yes", "No", "They are equal", "Sometimes", "Only if it's sunny"],
          "answer": "Yes",
          "explanation": "Zero is greater than any negative number."
        }
      ]
    },
    // Stage 17
    {
      "text": "Amelia is studying how zero works on a number line. She wants to see where zero is placed and how numbers change around it.",
      "questions": [
        // Question 17.1
        {
          "question": "On a number line, what number is directly to the right of zero?",
          "options": ["1", "-1", "0", "10", "A rabbit"],
          "answer": "1",
          "explanation": "Numbers increase to the right; 1 is directly after 0."
        },
        // Question 17.2
        {
          "question": "Which number is directly to the left of zero on a number line?",
          "options": ["-1", "1", "0", "-10", "An elephant"],
          "answer": "-1",
          "explanation": "Negative one is directly before zero."
        },
        // Question 17.3
        {
          "question": "If you move two steps left from zero on the number line, where are you?",
          "options": ["-2", "2", "0", "-1", "Lost in space"],
          "answer": "-2",
          "explanation": "Moving left from zero goes into negative numbers."
        },
        // Question 17.4
        {
          "question": "Zero is considered the __________ point on a number line.",
          "options": ["Starting", "Ending", "Middle", "Highest", "Invisible"],
          "answer": "Starting",
          "explanation": "Zero is often the starting point for counting."
        },
        // Question 17.5
        {
          "question": "Which of these numbers is furthest from zero on a number line?",
          "options": ["10", "0", "-5", "5", "A million"],
          "answer": "10",
          "explanation": "10 is further from zero than the other options."
        }
      ]
    },
    // Stage 18
    {
      "text": "Daniel is learning about zero in temperature. He wants to understand how zero degrees can represent freezing point and how temperatures can go below zero.",
      "questions": [
        // Question 18.1
        {
          "question": "At zero degrees Celsius, water __________.",
          "options": ["Freezes", "Boils", "Evaporates", "Turns into chocolate", "Glows"],
          "answer": "Freezes",
          "explanation": "Zero degrees Celsius is the freezing point of water."
        },
        // Question 18.2
        {
          "question": "Which temperature is colder than zero degrees Celsius?",
          "options": ["-5°C", "5°C", "0°C", "10°C", "Sun temperature"],
          "answer": "-5°C",
          "explanation": "Negative temperatures are colder than zero."
        },
        // Question 18.3
        {
          "question": "If the temperature is zero degrees, and it drops by 3 degrees, what is the new temperature?",
          "options": ["-3°C", "3°C", "0°C", "-6°C", "As cold as ice cream"],
          "answer": "-3°C",
          "explanation": "0°C - 3°C = -3°C."
        },
        // Question 18.4
        {
          "question": "Is -2 degrees Celsius warmer than zero degrees Celsius?",
          "options": ["No", "Yes", "They are the same", "Only in summer", "Depends on the thermometer"],
          "answer": "No",
          "explanation": "-2°C is colder than 0°C."
        },
        // Question 18.5
        {
          "question": "Which is the freezing point of water?",
          "options": ["0°C", "100°C", "-10°C", "50°C", "The North Pole"],
          "answer": "0°C",
          "explanation": "Water freezes at zero degrees Celsius."
        }
      ]
    },
    // Stage 19
    {
      "text": "Chloe is discovering how zero affects fractions and decimals. She wants to learn what happens when zero is used in these forms.",
      "questions": [
        // Question 19.1
        {
          "question": "What is 0 divided by 2?",
          "options": ["0", "2", "Undefined", "1", "Half of zero"],
          "answer": "0",
          "explanation": "Zero divided by any non-zero number is zero."
        },
        // Question 19.2
        {
          "question": "What is 0.0 + 1.0?",
          "options": ["1.0", "0.0", "0.1", "10.0", "Infinity"],
          "answer": "1.0",
          "explanation": "Zero plus one equals one."
        },
        // Question 19.3
        {
          "question": "Which fraction is equal to zero?",
          "options": ["0/5", "5/0", "5/5", "1/5", "A pizza slice"],
          "answer": "0/5",
          "explanation": "Zero divided by any number is zero."
        },
        // Question 19.4
        {
          "question": "Is 0.5 greater than zero?",
          "options": ["Yes", "No", "They are equal", "Only on weekends", "Depends on the weather"],
          "answer": "Yes",
          "explanation": "0.5 is greater than zero."
        },
        // Question 19.5
        {
          "question": "What is zero as a decimal?",
          "options": ["0.0", "1.0", "0.1", "10.0", "An endless number"],
          "answer": "0.0",
          "explanation": "Zero in decimal form is 0.0."
        }
      ]
    },
    // Stage 20
    {
      "text": "Jack is exploring zero in more complex equations. He wants to see how zero can be used in equations with multiple steps.",
      "questions": [
        // Question 20.1
        {
          "question": "Solve for x: x + 0 = 10",
          "options": ["10", "0", "1", "-10", "42"],
          "answer": "10",
          "explanation": "Adding zero doesn't change the number, so x = 10."
        },
        // Question 20.2
        {
          "question": "If y - y = 0, what can y be?",
          "options": ["Any number", "0", "1", "Only zero", "A mystery number"],
          "answer": "Any number",
          "explanation": "Any number minus itself equals zero."
        },
        // Question 20.3
        {
          "question": "What is (0 x 5) + (2 x 3)?",
          "options": ["6", "0", "5", "10", "Banana"],
          "answer": "6",
          "explanation": "0 x 5 = 0, 2 x 3 = 6, so 0 + 6 = 6."
        },
        // Question 20.4
        {
          "question": "If 5 x n = 0, what is n?",
          "options": ["0", "5", "1", "-5", "An alien"],
          "answer": "0",
          "explanation": "Only zero multiplied by 5 equals zero."
        },
        // Question 20.5
        {
          "question": "Solve: (10 ÷ 2) - 5 =",
          "options": ["0", "5", "1", "10", "A magic trick"],
          "answer": "0",
          "explanation": "10 ÷ 2 = 5, then 5 - 5 = 0."
        }
      ]
    },

//-------------------------------------------------------------------------------------------------------------------							
				  ]
				}
        ];

		const stageCount = quizData[0].stages.length; // This is the correct way to get the number of stages


		const stateContents = {
			'Practice': `<div id="stage-number" class="stage-number">Stage 1 of ${stageCount}</div><div class="progress-bar-container"><div id="progress-bar" class="progress-bar"></div></div><div id="attempts">Attempts: 0</div><div id="quiz-content"></div><button class="center-button" onclick="checkStage()">Check Answers</button>`
			,'Subject Overview 🗝️': `<div class="subject-overview-content">     <h1>Recognizing Zero as a Number and Its Role in Arithmetic</h1>     <p>Zero is a special number that represents nothing. Even though it might seem like there is nothing, zero plays an important role in math. Understanding zero helps us do addition, subtraction, multiplication, and division correctly. This guide will help you learn what zero is and how it works in different math problems.</p>     <hr>     <h2>Table of Contents</h2>     <ol>         <li><a href="#what-is-zero">What is Zero?</a></li>         <li><a href="#importance-of-zero">Importance of Zero in Numbers</a></li>         <li><a href="#zero-in-addition">Zero in Addition</a></li>         <li><a href="#zero-in-subtraction">Zero in Subtraction</a></li>         <li><a href="#zero-in-multiplication-division">Zero in Multiplication and Division</a></li>         <li><a href="#conclusion">Conclusion</a></li>     </ol>     <hr>     <h2 id="what-is-zero">What is Zero?</h2>     <p>Zero is a number that means there is nothing. It is the number that comes before one. When we write numbers, zero helps us show that there are no units in that place.</p>     <p>For example:</p>     <ul>         <li><em>0 apples</em> means you have no apples.</li>         <li><em>10</em> means there is one ten and zero ones.</li>     </ul>     <hr>     <h2 id="importance-of-zero">Importance of Zero in Numbers</h2>     <p>Zero is important because it helps us understand the value of other numbers. It shows the place of each digit in a number.</p>     <p>For example:</p>     <ul>         <li><em>10</em> has a zero in the ones place, showing there are no ones.</li>         <li><em>20</em> has a zero in the ones place, showing there are no ones.</li>         <li><em>100</em> has zeros in the tens and ones places, showing there are no tens or ones.</li>     </ul>     <hr>     <h2 id="zero-in-addition">Zero in Addition</h2>     <p>When you add zero to a number, the number stays the same. Zero does not change the value of the other number.</p>     <p><strong>Examples:</strong></p>     <ul>         <li><em>5 + 0 = 5</em></li>         <li><em>0 + 8 = 8</em></li>     </ul>     <p><strong>Explanation:</strong> Adding zero does not add anything to the number.</p>     <hr>     <h2 id="zero-in-subtraction">Zero in Subtraction</h2>     <p>When you subtract zero from a number, the number stays the same. Just like addition, zero does not change the value of the number.</p>     <p><strong>Examples:</strong></p>     <ul>         <li><em>7 - 0 = 7</em></li>         <li><em>10 - 0 = 10</em></li>     </ul>     <p><strong>Explanation:</strong> Subtracting zero does not take anything away from the number.</p>     <hr>     <h2 id="zero-in-multiplication-division">Zero in Multiplication and Division</h2>     <p>Zero has a special role in multiplication and division.</p>     <p><strong>Multiplication:</strong></p>     <ul>         <li><em>4 × 0 = 0</em></li>         <li><em>0 × 9 = 0</em></li>     </ul>     <p><strong>Explanation:</strong> Multiplying any number by zero always gives zero.</p>     <p><strong>Division:</strong></p>     <ul>         <li><em>0 ÷ 5 = 0</em></li>     </ul>     <p><strong>Explanation:</strong> Dividing zero by any number gives zero. However, you cannot divide by zero.</p>     <hr>     <h2 id="conclusion">Conclusion</h2>     <p>Zero is a very important number in math. It helps us understand the value of other numbers and plays a key role in addition, subtraction, multiplication, and division. By recognizing zero and knowing how to use it, you can solve math problems more easily and accurately.</p>     <p><strong>Remember</strong>: Zero means nothing, but it helps show the place of other numbers and keeps math working correctly!</p>     <hr>     <p>Keep practicing with zero in your math problems, and you'll become even better at understanding numbers!</p> </div>`		
			};


		function showExplanations() {
			// Hide the modal
			document.getElementById('quizModal').style.display = 'none';
			
			// Show all explanation panels
			document.querySelectorAll('.explanation-panel').forEach(exp => {
				exp.style.display = 'block';
			});
		}
		
        function setQuizExpansion(allow) {
            allowQuizExpansion = allow;
            adjustLayout();
        }

        function adjustLayout() {
            const wrapper = document.querySelector('.content-wrapper');
            const quizContainer = document.getElementById('quizContainer');
            const sidePanel1 = document.getElementById('sidePanel1');
            
            const isPanel1Visible = window.getComputedStyle(sidePanel1).display !== 'none';

            wrapper.style.justifyContent = 'space-between';

            if (isPanel1Visible) {
                sidePanel1.style.flex = '0 0 calc(20% - 0.5rem)';
                sidePanel1.style.maxWidth = 'calc(20% - 0.5rem)';
                quizContainer.style.flex = '1';
            } else {
                quizContainer.style.flex = '1';
                wrapper.style.justifyContent = 'center';
            }

            [sidePanel1, quizContainer].forEach(el => {
                el.style.display = 'block';
            });
        }

        function togglePanel(panelId) {
            const panel = document.getElementById(panelId);
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            adjustLayout();
        }

        function updateSwitcherLayout() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const handle = switchElement.querySelector('.switch-handle');

            labels.forEach(label => {
                label.style.flex = 'none';
                label.style.padding = '0 20px';
            });

            const activeLabel = switchElement.querySelector('.switch-label.active');
            if (activeLabel) {
                const switchRect = switchElement.getBoundingClientRect();
                const labelRect = activeLabel.getBoundingClientRect();

                handle.style.left = `${labelRect.left - switchRect.left}px`;
                handle.style.width = `${labelRect.width}px`;
            }

            switchElement.style.width = 'auto';
        }
        
        function switchTab(index) {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const activeStates = Array.from(labels).map(label => label.textContent);

            labels.forEach((label, i) => {
                label.classList.toggle('active', i === index);
            });

            updateSwitcherLayout();
            showContent(activeStates[index]);

            adjustLayout();
        }

        function showContent(state) {
            const tabContent = document.getElementById('tabContent');
            tabContent.innerHTML = stateContents[state] || '';

            if (state === 'Practice') {
                renderQuiz();
                updateProgressBar();
            }
        }

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

function isTextEmpty(text) {
    return !text || text.trim() === "";
}

function renderQuiz() {
    const quizContainer = document.getElementById("quiz-content");
    quizContainer.innerHTML = '';

    // Only add stage text if it's not empty
    const stageText = quizData[0].stages[currentStage].text;
    if (!isTextEmpty(stageText)) {
        const stageTextElement = document.createElement("div");
        stageTextElement.className = "stage-text";
        stageTextElement.textContent = stageText;
        quizContainer.appendChild(stageTextElement);
    }

    // Render questions
    quizData[0].stages[currentStage].questions.forEach((questionData, index) => {
        // Create main question container
        const questionContainer = document.createElement("div");
        questionContainer.className = "question";
        questionContainer.style.padding = "0px"; 
		
        // Create question line
        const questionLine = document.createElement("div");
        questionLine.className = "question-one-line";

        const label = document.createElement("label");
        label.htmlFor = `q${index}`;
        label.textContent = `${index + 1}. ${questionData.question}`;

        const resultDiv = document.createElement("div");
        resultDiv.className = "result result-ltr";
        resultDiv.id = `result${index}`;

        const select = document.createElement("select");
        select.id = `q${index}`;
        select.name = `q${index}`;

        // Add default option
        const defaultOption = document.createElement("option");
        defaultOption.value = "";
        defaultOption.textContent = "Select";
		
        select.appendChild(defaultOption);

        // Add shuffled options
        const shuffledOptions = shuffleArray([...questionData.options]);
        shuffledOptions.forEach(option => {
            const optionElement = document.createElement("option");
            optionElement.value = option;
            optionElement.textContent = option;
            select.appendChild(optionElement);
        });

        // Assemble question line
        questionLine.appendChild(label);
        questionLine.appendChild(resultDiv);
        questionLine.appendChild(select);

        // Create explanation panel
        const explanationPanel = document.createElement("div");
        explanationPanel.className = "explanation-panel";
        explanationPanel.style.display = "none"; 

        const explanationText = document.createElement("div");
        explanationText.className = "explanation-panel-text";
        explanationText.textContent = questionData.explanation;

        explanationPanel.appendChild(explanationText);

        // Assemble full question container
        questionContainer.appendChild(questionLine);
        questionContainer.appendChild(explanationPanel);

        quizContainer.appendChild(questionContainer);
    });

    updateStageNumber();
}


function checkStage() {
    attempts++;
    document.getElementById("attempts").textContent = `Attempts: ${attempts}`;

    let correctCount = 0;
    const totalQuestions = quizData[0].stages[currentStage].questions.length;

    quizData[0].stages[currentStage].questions.forEach((questionData, index) => {
        const resultElement = document.getElementById(`result${index}`);
        const selectElement = document.getElementById(`q${index}`);
        const selectedAnswer = selectElement.value;

        // Check if the selected answer is correct or incorrect
        if (selectedAnswer === questionData.answer) {
            resultElement.textContent = "Correct!";
            resultElement.style.color = "green";
            correctCount++;
        } else {
            resultElement.textContent = "Incorrect.";
            resultElement.style.color = "red";
        }

        // Reveal explanations if the user reaches 10 attempts
        if (attempts >= 10) {
            // Reveal the explanation panel
            const explanationElement = selectElement.closest('.question').querySelector('.explanation-panel');
            explanationElement.style.display = "block"; // Make the explanation panel visible

            // Modify the explanation text to include the correct answer
            const explanationText = explanationElement.querySelector('.explanation-panel-text');
            explanationText.innerHTML = `The correct answer is: <strong>${questionData.answer}</strong>.<br>${questionData.explanation}`;
        }
    });

    if (correctCount === totalQuestions) {
        console.log(`Stage ${currentStage + 1}: ${correctCount} correct out of ${totalQuestions}`);
        addAnimalsToFarm(totalQuestions);

        if (currentStage < quizData[0].stages.length - 1) {
            singleStageConfetti();
            showEncouragingPopup(correctCount, totalQuestions, true);
            // Show both buttons in modal to allow moving to the next stage
            document.getElementById('modalNextButton').style.display = 'inline-block';
            document.getElementById('modalExplanationsButton').style.display = 'inline-block';
        } else {
            // Last stage completion
            currentStage++;
            updateProgressBar();
            allStagesConfetti();
            showModal("Congratulations! You've completed all stages!");
        }
    } else {
        // Show the encouraging popup if the stage is not complete
        showEncouragingPopup(correctCount, totalQuestions, false);

        if (attempts >= 10) {
            // If the user has reached 10 attempts, notify them about revealing the answers
            const modalMessage = document.getElementById('modalMessage');
            modalMessage.textContent = "You've reached the maximum number of attempts. The correct answers have been revealed.";
            showModal(modalMessage.textContent);
        }
    }

    scrollToTop();
}


	
		function showEncouragingPopup(correctCount, totalQuestions, isStageComplete) {
			const incorrectCount = totalQuestions - correctCount;
			let message = `You got ${correctCount} correct and ${incorrectCount} incorrect.`;
			
			// Add encouraging message based on performance
			if (correctCount === totalQuestions) {
				message += " Perfect score!";
			} else if (correctCount >= Math.ceil(totalQuestions * 0.7)) {
				message += " Great job! You're really getting the hang of this!";
			} else if (correctCount >= Math.ceil(totalQuestions * 0.5)) {
				message += " Good effort! Keep practicing and you'll improve in no time!";
			} else {
				message += " Don't give up! Every attempt helps you learn. Try again!";
			}

			// Add stage completion message if applicable
			if (isStageComplete) {
				message += "\n\n You've completed this stage. Moving to the next stage.";
			}

			showModal(message);
		}

		function initializeQuiz() {
			currentStage = 0;
			attempts = 0;
			updateProgressBar(); // This should now set the progress to 0%
			renderQuiz();
			document.getElementById("attempts").textContent = `Attempts: ${attempts}`;
			updateStageNumber();
		}

		function updateProgressBar() {
			const progressBar = document.getElementById("progress-bar");
			const completedStages = currentStage;
			const progress = (completedStages / stageCount) * 100;
			const roundedProgress = Math.min(100, Math.max(0, Math.round(progress)));
			progressBar.style.width = `${roundedProgress}%`;
			progressBar.textContent = roundedProgress > 0 ? `${roundedProgress}%` : '';
			console.log(`Progress updated: ${roundedProgress}% (Stage ${currentStage + 1} of ${stageCount})`);
		}

		function updateStageNumber() {
			const stageElement = document.getElementById("stage-number");
			stageElement.textContent = `Stage ${currentStage + 1} of ${stageCount}`;
		}

		function singleStageConfetti() {
			function randomInRange(min, max) {
				return Math.random() * (max - min) + min;
			}
			confetti({
				angle: randomInRange(55, 125),
				spread: randomInRange(50, 70),
				particleCount: randomInRange(50, 100),
				origin: { y: 0.6 },
			});
		}

		function allStagesConfetti() {
			const defaults = {
				spread: 360,
				ticks: 50,
				gravity: 0,
				decay: 0.94,
				startVelocity: 30,
				shapes: ["star"],
				colors: ["FFE400", "FFBD00", "E89400", "FFCA6C", "FDFFB8"],
			};
			function shoot() {
				confetti({
					...defaults,
					particleCount: 40,
					scalar: 1.2,
					shapes: ["star"],
				});
				confetti({
					...defaults,
					particleCount: 10,
					scalar: 0.75,
					shapes: ["circle"],
				});
			}
			setTimeout(shoot, 0);
			setTimeout(shoot, 100);
			setTimeout(shoot, 200);
		}

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
			    scrollToTopBtn.style.display = "none";
        }

        function initializeSwitch() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labelsContainer = switchElement.querySelector('.switch-labels');
            const switchContainer = document.getElementById('switchContainer');
            
            const activeStates = Object.keys(stateContents).filter(state => stateContents[state].trim() !== '');
            
            if (activeStates.length <= 1) {
                switchContainer.style.display = 'none';
                if (activeStates.length === 1) {
                    showContent(activeStates[0]);
                }
                return;
            }
            
            switchContainer.style.display = 'flex';
            
            activeStates.forEach((state, index) => {
                const label = document.createElement('div');
                label.className = 'switch-label';
                label.textContent = state;
                label.addEventListener('click', () => switchTab(index));
                labelsContainer.appendChild(label);
            });
   
            const defaultTab = manuallySetDefaultTab !== null && manuallySetDefaultTab < activeStates.length
                ? manuallySetDefaultTab
                : 0;

            switchTab(defaultTab);
        }

		let farmAnimals = [];

		function addAnimalsToFarm(count) {
			const animalFarm = document.getElementById('animalFarm');
			let availableAnimals = animals.filter(animal => !farmAnimals.includes(animal));

			console.log(`Adding ${count} animals to the farm. Current farm size: ${farmAnimals.length}`);

			for (let i = 0; i < count; i++) {
				if (availableAnimals.length === 0) {
					console.log("No more unique animals available!");
					break;
				}

				const randomIndex = Math.floor(Math.random() * availableAnimals.length);
				const chosenAnimal = availableAnimals[randomIndex];

				const animalElement = document.createElement('li');
				animalElement.textContent = chosenAnimal;
				animalFarm.appendChild(animalElement);

				farmAnimals.push(chosenAnimal);
				availableAnimals.splice(randomIndex, 1);
				console.log(`Added animal: ${chosenAnimal}`);
			}

			console.log(`Farm size after addition: ${farmAnimals.length}`);
			logAnimalFarmState();
		}

		function logAnimalFarmState() {
			console.log(`Current animal farm state: ${farmAnimals.length} animals`);
			console.log(farmAnimals);
		}

		const animals = [
			"🐉", "🐻", "🦗", "🦁", "🐔", "🦂", "🐟", "🐣", "🐯", "🦡",
			"🐰", "🐍", "🦅", "🐈", "🦈", "🦜", "🦛", "🐀", "🐑",
			"🐮", "🦇", "🐇", "🦖", "🦀", "🦎", "🐃", "🐡", "🐤",
			"🐪", "🦥", "🐛", "🐅", "🐥", "🐱", "🐺", "🐕", "🦩", "🐊",
			"🐖", "🐢", "🕷", "🦕", "🦌", "🐁", "🦨", "🦘", "🐵",
			"🦑", "🐋", "🦓", "🦒", "🐲", "🦆", "🦉", "🐶", "🐄", "🦟",
			"🦃", "🦧", "🦏", "🐙", "🐿", "🦢", "🐜", "🐦", "🐞",
			"🦐", "🦔", "🐼", "🦄", "🦞", "🐫", "🐭", "🐆", "🦝",
			"🐠", "🦚", "🐴", "🐏", "🦮", "🐐", "🐹", "🐎", "🦋", "🐳",
			"🐨", "🐂", "🦍", "🦙", "🐬", "🦦", "🦊", "🐌", "🐓", "🐧",
			"🐷", "🐩", "🐘", "🐸", "🐝"
		];

		function showModal(message) {
			const modal = document.getElementById("quizModal");
			const modalMessage = document.getElementById("modalMessage");
			const modalClose = document.getElementsByClassName("modal-quiz-close")[0];
			const nextButton = document.getElementById("modalNextButton");
			const explanationsButton = document.getElementById("modalExplanationsButton");

			// Set message
			modalMessage.textContent = message;
			
			// Show modal
			modal.style.display = "block";

			// By default, hide both buttons
			nextButton.style.display = "none";
			explanationsButton.style.display = "none";

			// Close handlers
			modalClose.onclick = function() {
				modal.style.display = "none";
			}

			window.onclick = function(event) {
				if (event.target == modal) {
					modal.style.display = "none";
				}
			}
		}

		window.addEventListener('load', () => {
			initializeSwitch();
			initializeQuiz();
			adjustLayout();
			
			 document.getElementById('modalNextButton').addEventListener('click', () => {
				document.getElementById('quizModal').style.display = 'none';
				currentStage++;
				attempts = 0;
				renderQuiz();
				document.getElementById("attempts").textContent = `Attempts: ${attempts}`;
				updateProgressBar();
			});
			
			document.getElementById('modalExplanationsButton').addEventListener('click', showExplanations);
        });

        window.addEventListener('resize', adjustLayout);

        fetch('http://ez42.live/global/copyright.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('copyright-container').innerHTML = data;
            })
            .catch(error => console.error('Error loading copyright:', error));
			
		let scrollToTopBtn = document.getElementById("scrollToTopBtn");

			window.onscroll = function() {
				// Check if the scroll distance is more than twice the height of the screen
				if (document.body.scrollTop > window.innerHeight * 1.5 || 
					document.documentElement.scrollTop > window.innerHeight * 1.5) {
					scrollToTopBtn.style.display = "block";
				} else {
					scrollToTopBtn.style.display = "none";
				}
			};

		scrollToTopBtn.onclick = function() {
		  document.body.scrollTop = 0;
		  document.documentElement.scrollTop = 0;
		};	
    </script>
</body>
</html>