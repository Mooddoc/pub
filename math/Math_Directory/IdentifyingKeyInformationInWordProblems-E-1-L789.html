<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ez42.live/global/analytics.js"></script>
    <script src="https://ez42.live/global/ads.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
 	<link rel="stylesheet" href="http://www.ez42.live/global/styles/styles-eng.css"> <!-- Link to external CSS file -->
    <link rel="icon" type="image/svg+xml" href="http://www.ez42.live/global/styles/ez42-icon.svg">
    <title>✅ EZ42 LIVE - It's EZ</title>
	<style>
  
	</style>
</head>
<body>
    <div class="page-container">
        <div class="content-wrapper">
		
		<!--  Side Panel 1  -->
            <div id="sidePanel1" class="side-panel">
				<div class="logo-container">
					<a href="http://ez42.live" target="_blank" rel="noopener noreferrer">
						<img src="http://ez42.live/global/logo/logo.svg" alt="EZ42 Logo" class="logo-image">
					</a>
				</div>
			<h2>Instructions & Rules</h2>
			<ul>
																		<!--  PH1 - Instructions & Rules   -->	
                <li>Read the text and questions carefully.</li>
                <li>Select the best answer.</li>
                <li>Click "Check Answers" when you're ready to see how you did!</li>
                <li>You can check your answers multiple times to improve your score.</li>
                <li>Correct answers are revealed after 10 attempts.</li>
                <li>You must answer all questions correctly to proceed to the next stage.</li>
				<li>Have fun!</li>
			</ul>
            </div>
			
		<!--  Quiz Panel   -->
            <div id="quizContainer" class="quiz-container">
																			<!--  PH2 - Title  X  2 : A1 - 📗 Green, A2 - 📘 Blue, B1 - 📒 Yellow, 📙 Orange, 📔 Beige, 📓 Gray , 📕 Red-->	
                <h1>Identifying key information in word problems 📒</h1>
                
                <div id="switchContainer" class="switch-container">
                    <div id="multiStateSwitch" class="switch">
                        <div class="switch-labels"></div>
                        <div class="switch-handle"></div>
                    </div>
                </div>
                <div id="tabContent"></div>
            </div>
			
		<!--  Side Panel 2  -->
			<div id="sidePanel2" class="side-panel">
				<h2>Animal Farm</h2>
				<p>Watch your farm grow as you progress! Each completed stage adds new animal friends to your collection.</p>
				<ul id="animalFarm" class="emoji-list">
				</ul>
			</div>
        </div>
    </div>
    <div id="copyright-container"></div>
 
    <!-- Modal -->
    <div id="quizModal" class="modal-quiz">
        <div class="modal-quiz-content">
            <span class="modal-quiz-close">&times;</span>
            <p id="modalMessage"></p>
            <button id="modalButton" class="modal-quiz-button">OK</button>
        </div>
    </div>
	<button id="scrollToTopBtn" title="Go to top">↑</button>
    <script>
        let isQuizExpanded = false;
        let allowQuizExpansion = true;

        let attempts = 0;
        let currentStage = 0;

        const manuallySetDefaultTab = 0;

																		//  PH3 - Quiz Data 
        const quizData = [ 												   	
				{
				  "stages": [
//-------------------------------------------------------------------------------------------------------------------				  
    // Stage 1 - Basic single-step word problems with simple numbers
    {
      "text": "John has 5 apples. His friend gives him 3 more apples. Later, he eats 2 apples.",
      "questions": [
        // Question 1.1
        {
          "question": "What is the key operation needed first?",
          "options": ["Addition of 5 and 3", "Subtraction of 2", "Multiplication by 2", "Division of apples", "Counting backwards"],
          "answer": "Addition of 5 and 3"
        },
        // Question 1.2
        {
          "question": "What is the final operation in this problem?",
          "options": ["Adding more apples", "Subtracting eaten apples", "Multiplying apples", "Sharing apples", "Juggling apples"],
          "answer": "Subtracting eaten apples"
        },
        // Question 1.3
        {
          "question": "What information is NOT needed to solve this problem?",
          "options": ["The color of the apples", "The initial number of apples", "The number of apples given", "The number eaten", "The time of day"],
          "answer": "The color of the apples"
        },
        // Question 1.4
        {
          "question": "What is the sequence of events in this problem?",
          "options": ["Has apples → Gets more → Eats some", "Eats apples → Gets more → Has some", "Buys apples → Sells some → Counts rest", "Plants tree → Grows apples → Makes pie", "Dreams of apples → Wakes up → Goes shopping"],
          "answer": "Has apples → Gets more → Eats some"
        },
        // Question 1.5
        {
          "question": "Which number represents the initial state?",
          "options": ["5", "3", "2", "8", "10"],
          "answer": "5"
        }
      ]
    },
    // Stage 2 - Word problems with money and simple decimals
    {
      "text": "Sarah goes to a store with $20.00. She buys a notebook for $4.50 and colored pencils for $3.25.",
      "questions": [
        // Question 2.1
        {
          "question": "What is the important initial value?",
          "options": ["$20.00", "$4.50", "$3.25", "$7.75", "$100.00"],
          "answer": "$20.00"
        },
        // Question 2.2
        {
          "question": "Which values need to be added together first?",
          "options": ["$4.50 and $3.25", "$20.00 and $4.50", "$3.25 and $20.00", "$4.50 and $4.50", "$0.00 and $20.00"],
          "answer": "$4.50 and $3.25"
        },
        // Question 2.3
        {
          "question": "What operation follows after finding total purchases?",
          "options": ["Subtract from $20.00", "Add to $20.00", "Multiply by $20.00", "Divide by $20.00", "Turn money into chocolate"],
          "answer": "Subtract from $20.00"
        },
        // Question 2.4
        {
          "question": "Which information is irrelevant to calculating remaining money?",
          "options": ["The store's opening hours", "The initial amount", "The notebook price", "The pencils price", "The number of items"],
          "answer": "The store's opening hours"
        },
        // Question 2.5
        {
          "question": "What type of numbers are we working with?",
          "options": ["Money decimals", "Whole numbers only", "Fractions", "Negative numbers", "Imaginary numbers"],
          "answer": "Money decimals"
        }
      ]
    },
    // Stage 3 - Multi-step problems with time
    {
      "text": "A train leaves Station A at 9:15 AM and travels for 2 hours and 30 minutes. It stops for 45 minutes for maintenance, then continues for another 1 hour and 15 minutes.",
      "questions": [
        // Question 3.1
        {
          "question": "What is the first time value to consider?",
          "options": ["9:15 AM", "2:30", "45 minutes", "1:15", "Tomorrow"],
          "answer": "9:15 AM"
        },
        // Question 3.2
        {
          "question": "Which time intervals need to be added first?",
          "options": ["2:30 and 1:15", "9:15 and 2:30", "45 min and 1:15", "All times together", "Lunch break times"],
          "answer": "2:30 and 1:15"
        },
        // Question 3.3
        {
          "question": "What is the role of the 45-minute period?",
          "options": ["Maintenance stop", "Travel time", "Departure time", "Arrival time", "Nap time"],
          "answer": "Maintenance stop"
        },
        // Question 3.4
        {
          "question": "What type of calculation is needed for this problem?",
          "options": ["Time addition", "Money counting", "Distance measuring", "Speed calculating", "Weather forecasting"],
          "answer": "Time addition"
        },
        // Question 3.5
        {
          "question": "Which information would be irrelevant for finding the final time?",
          "options": ["The train's color", "The starting time", "The travel duration", "The maintenance duration", "The final leg duration"],
          "answer": "The train's color"
        }
      ]
    },
    // Stage 4 - Rate and proportions
    {
      "text": "A car travels 240 miles using 8 gallons of gas. The driver needs to travel 360 miles in total and gas costs $3.50 per gallon.",
      "questions": [
        // Question 4.1
        {
          "question": "What values are needed to find miles per gallon?",
          "options": ["240 miles and 8 gallons", "360 miles and $3.50", "8 gallons and $3.50", "240 miles and 360 miles", "The car's favorite color"],
          "answer": "240 miles and 8 gallons"
        },
        // Question 4.2
        {
          "question": "Which information is needed to find total gas needed?",
          "options": ["Miles per gallon and 360 miles", "Gas price and 8 gallons", "240 miles and $3.50", "360 miles and $3.50", "Driver's shoe size"],
          "answer": "Miles per gallon and 360 miles"
        },
        // Question 4.3
        {
          "question": "What operation should be done first?",
          "options": ["Divide 240 by 8", "Multiply 360 by 3.50", "Add 240 and 360", "Subtract 8 from 240", "Take a coffee break"],
          "answer": "Divide 240 by 8"
        },
        // Question 4.4
        {
          "question": "What information is NOT needed for finding total gas needed?",
          "options": ["Gas price per gallon", "Distance already traveled", "Total distance needed", "Initial gas used", "Radio station frequency"],
          "answer": "Gas price per gallon"
        },
        // Question 4.5
        {
          "question": "What type of relationship is being calculated?",
          "options": ["Rate (miles per gallon)", "Time", "Temperature", "Weight", "Social media likes"],
          "answer": "Rate (miles per gallon)"
        }
      ]
    },
    // Stage 5 - Percentages and discounts
    {
      "text": "A store is having a 25% off sale. A jacket originally priced at $80 has an additional 10% discount for loyalty card members. Sales tax is 8%.",
      "questions": [
        // Question 5.1
        {
          "question": "What should be calculated first?",
          "options": ["25% of $80", "10% of $80", "8% of $80", "All percentages together", "Number of buttons on jacket"],
          "answer": "25% of $80"
        },
        // Question 5.2
        {
          "question": "After the 25% discount, what's the next step?",
          "options": ["Calculate 10% off new price", "Add sales tax", "Add both remaining percentages", "Subtract from original price", "Try on the jacket"],
          "answer": "Calculate 10% off new price"
        },
        // Question 5.3
        {
          "question": "When should sales tax be applied?",
          "options": ["After both discounts", "Before any discounts", "Between discounts", "Instead of discounts", "During lunch break"],
          "answer": "After both discounts"
        },
        // Question 5.4
        {
          "question": "What information is irrelevant to the final price?",
          "options": ["Store opening hours", "Original price", "First discount percent", "Second discount percent", "Tax rate"],
          "answer": "Store opening hours"
        },
        // Question 5.5
        {
          "question": "What type of numbers will be in the solution?",
          "options": ["Decimals and dollars", "Whole numbers only", "Fractions only", "Negative numbers", "Phone numbers"],
          "answer": "Decimals and dollars"
        }
      ]
    },
    // Stage 6 - Mixed unit conversion with multi-step problem
    {
      "text": "A recipe needs 2.5 cups of flour, 3 tablespoons of sugar, and 1.5 teaspoons of salt. You want to make 2.5 times the recipe. (1 cup = 16 tablespoons, 1 tablespoon = 3 teaspoons)",
      "questions": [
        // Question 6.1
        {
          "question": "What conversion is needed first?",
          "options": ["Cups to tablespoons", "Tablespoons to teaspoons", "Teaspoons to cups", "All to same unit", "Recipes to jokes"],
          "answer": "All to same unit"
        },
        // Question 6.2
        {
          "question": "Which measurements can be multiplied directly by 2.5?",
          "options": ["All original amounts", "Only cup measurements", "Only tablespoon measurements", "Only after conversion", "Chef's hat size"],
          "answer": "All original amounts"
        },
        // Question 6.3
        {
          "question": "What information is essential for conversion?",
          "options": ["Unit equivalences", "Original amounts", "Multiplication factor", "Recipe name", "Cook's birthday"],
          "answer": "Unit equivalences"
        },
        // Question 6.4
        {
          "question": "What type of math operation is NOT needed?",
          "options": ["Division", "Multiplication", "Addition", "Conversion", "Teleportation"],
          "answer": "Division"
        },
        // Question 6.5
        {
          "question": "What makes this a complex problem?",
          "options": ["Multiple units and scaling", "Large numbers", "Difficult fractions", "Complex decimals", "Quantum physics"],
          "answer": "Multiple units and scaling"
        }
      ]
    },
    // Stage 7 - Geometric word problems
    {
      "text": "A rectangular garden is 15 feet long and 12 feet wide. The owner wants to put a fence around it and plant flowers in a 2-foot wide border inside the rectangle. A fence costs $8 per foot.",
      "questions": [
        // Question 7.1
        {
          "question": "What should be calculated first?",
          "options": ["Perimeter of garden", "Area of garden", "Cost of fence", "Border area", "Garden's favorite color"],
          "answer": "Perimeter of garden"
        },
        // Question 7.2
        {
          "question": "What values are needed for the fence cost?",
          "options": ["Perimeter and price per foot", "Area and price per foot", "Length and width only", "Border width and length", "Flower preferences"],
          "answer": "Perimeter and price per foot"
        },
        // Question 7.3
        {
          "question": "What formula is needed for the border area?",
          "options": ["Length × width - (length-4) × (width-4)", "Length × width", "2 × (length + width)", "Length + width", "Number of garden gnomes"],
          "answer": "Length × width - (length-4) × (width-4)"
        },
        // Question 7.4
        {
          "question": "What information is irrelevant for fence cost?",
          "options": ["Border width", "Garden length", "Garden width", "Price per foot", "Weather forecast"],
          "answer": "Border width"
        },
        // Question 7.5
        {
          "question": "What makes this a complex geometric problem?",
          "options": ["Multiple calculations with same dimensions", "Large numbers", "Difficult fractions", "Complex decimals", "Underground treasure"],
          "answer": "Multiple calculations with same dimensions"
        }
      ]
    },
    // Stage 8 - Multi-variable ratio problem
    {
      "text": "In a bag of marbles, there are 3 red marbles for every 4 blue ones, and 2 green marbles for every 3 red ones. If there are 36 blue marbles in total, how many marbles are there altogether?",
      "questions": [
        // Question 8.1
        {
          "question": "What should be found first?",
          "options": ["Number of red marbles", "Number of green marbles", "Total of all colors", "Ratio between colors", "Marble juggling skills"],
          "answer": "Number of red marbles"
        },
        // Question 8.2
        {
          "question": "What ratio relationship should be used first?",
          "options": ["3 red : 4 blue", "2 green : 3 red", "Red : total", "Green : blue", "Marble : universe"],
          "answer": "3 red : 4 blue"
        },
        // Question 8.3
        {
          "question": "What operation follows finding red marbles?",
          "options": ["Use red to find green", "Add all colors", "Multiply by blue", "Divide by total", "Paint all marbles pink"],
          "answer": "Use red to find green"
        },
        // Question 8.4
        {
          "question": "What information is NOT needed for the solution?",
          "options": ["Size of marbles", "Number of blue marbles", "Ratio of red to blue", "Ratio of green to red", "Marble's birthday"],
          "answer": "Size of marbles"
        },
        // Question 8.5
        {
          "question": "Why is this a complex ratio problem?",
          "options": ["Connected ratio relationships", "Large numbers", "Decimal values", "Percentage calculations", "Marble psychology"],
          "answer": "Connected ratio relationships"
        }
      ]
    },
    // Stage 9 - Algebraic thinking with age problem
    {
      "text": "Today, Maria is twice as old as her brother was 3 years ago. In 5 years, she will be 3 times as old as her brother was 2 years ago. Her brother is currently 12 years old.",
      "questions": [
        // Question 9.1
        {
          "question": "What should be identified first?",
          "options": ["Brother's current age", "Brother's past age", "Maria's current age", "Future ages", "Time machine settings"],
          "answer": "Brother's current age"
        },
        // Question 9.2
        {
          "question": "What needs to be calculated second?",
          "options": ["Brother's age 3 years ago", "Maria's current age", "Brother's future age", "Maria's past age", "Birthday cake flavors"],
          "answer": "Brother's age 3 years ago"
        },
        // Question 9.3
        {
          "question": "Which relationship should be used to verify the answer?",
          "options": ["Future age relationship", "Current age only", "Past age only", "Average age", "Cake to candle ratio"],
          "answer": "Future age relationship"
        },
        // Question 9.4
        {
          "question": "What makes this problem algebraic?",
          "options": ["Unknown current age relationship", "Simple addition", "Basic multiplication", "Date calculation", "Party planning"],
          "answer": "Unknown current age relationship"
        },
        // Question 9.5
        {
          "question": "What type of thinking is required?",
          "options": ["Sequential time relationships", "Basic arithmetic", "Simple counting", "Date reading", "Crystal ball gazing"],
          "answer": "Sequential time relationships"
        }
      ]
    },
    // Stage 10 - Optimization problem
    {
      "text": "A factory can produce shirts for $8 each or outsource them for $6 each. Factory production has a fixed setup cost of $1000 per month. The factory can sell each shirt for $15. Monthly demand is 500 shirts.",
      "questions": [
        // Question 10.1
        {
          "question": "What costs need to be compared?",
          "options": ["Total in-house vs outsource", "Just production costs", "Only fixed costs", "Only selling price", "Shirt color preferences"],
          "answer": "Total in-house vs outsource"
        },
        // Question 10.2
        {
          "question": "What needs to be calculated first for in-house production?",
          "options": ["Fixed cost + (units × cost per unit)", "Only variable costs", "Only fixed costs", "Just selling price", "Factory lunch menu"],
          "answer": "Fixed cost + (units × cost per unit)"
        },
        // Question 10.3
        {
          "question": "Which information is essential for profit calculation?",
          "options": ["All costs and selling price", "Only fixed costs", "Only variable costs", "Only demand", "Worker's favorite music"],
          "answer": "All costs and selling price"
        },
        // Question 10.4
        {
          "question": "What makes this an optimization problem?",
          "options": ["Comparing two production methods", "Simple addition", "Basic multiplication", "Time calculation", "Fashion trends"],
          "answer": "Comparing two production methods"
        },
        // Question 10.5
        {
          "question": "What's the final comparison needed?",
          "options": ["Total costs vs total revenue", "Just production costs", "Only shipping costs", "Setup costs only", "Factory paint color"],
          "answer": "Total costs vs total revenue"
        }
      ]
    },
    // Stage 11 - Complex rate comparison with multiple conditions
    {
      "text": "Three delivery services offer different rates. Service A charges $2 per mile plus $5 base fee. Service B charges $1.50 per mile plus $8 base fee. Service C charges $2.50 per mile with no base fee. All services add a 10% fuel surcharge to the total.",
      "questions": [
        // Question 11.1
        {
          "question": "What should be compared first?",
          "options": ["Base rates before surcharge", "Only base fees", "Only per-mile rates", "Final totals only", "Driver's hat sizes"],
          "answer": "Base rates before surcharge"
        },
        // Question 11.2
        {
          "question": "When should the fuel surcharge be applied?",
          "options": ["After calculating total base cost", "Before base fee", "Middle of calculation", "To mileage only", "During coffee break"],
          "answer": "After calculating total base cost"
        },
        // Question 11.3
        {
          "question": "What makes this comparison complex?",
          "options": ["Different rate structures", "Simple addition", "Basic multiplication", "Time factors", "Vehicle colors"],
          "answer": "Different rate structures"
        },
        // Question 11.4
        {
          "question": "What formula is needed for each service?",
          "options": ["(Base + (rate × miles)) × 1.1", "Base + miles", "Rate × 1.1", "Miles × base", "Delivery jokes"],
          "answer": "(Base + (rate × miles)) × 1.1"
        },
        // Question 11.5
        {
          "question": "What determines the best service?",
          "options": ["Distance being traveled", "Base fee only", "Per-mile rate only", "Fuel surcharge only", "Company logos"],
          "answer": "Distance being traveled"
        }
      ]
    },
    // Stage 12 - Probability with conditions
    {
      "text": "A bag contains 5 red, 4 blue, and 3 green marbles. If two marbles are drawn without replacement, and the first one is red, what is the probability the second is blue? If it's not blue, what's the probability the third draw is green?",
      "questions": [
        // Question 12.1
        {
          "question": "What condition affects the first calculation?",
          "options": ["First marble is red", "Total marbles", "Color distribution", "Number of draws", "Marble temperature"],
          "answer": "First marble is red"
        },
        // Question 12.2
        {
          "question": "What changes for the second draw?",
          "options": ["Total marbles and red count", "Only total marbles", "Only red marbles", "Nothing changes", "Marble mood"],
          "answer": "Total marbles and red count"
        },
        // Question 12.3
        {
          "question": "What information is needed for the third draw probability?",
          "options": ["Previous draw results", "Initial probabilities", "Only first draw", "Total marbles", "Marble horoscope"],
          "answer": "Previous draw results"
        },
        // Question 12.4
        {
          "question": "Why is this a conditional probability?",
          "options": ["Each draw affects next probability", "Simple fractions", "Basic counting", "Color mixing", "Marble magic"],
          "answer": "Each draw affects next probability"
        },
        // Question 12.5
        {
          "question": "What makes this problem complex?",
          "options": ["Multiple dependent events", "Large numbers", "Simple addition", "Basic fractions", "Marble juggling"],
          "answer": "Multiple dependent events"
        }
      ]
    },
    // Stage 13 - Pattern Recognition and Sequences
    {
      "text": "A theater's seating increases each row from front to back. Row 1 has 8 seats, row 2 has 10 seats, row 3 has 12 seats. Each row costs $2 more than the row in front. Front row seats cost $20. What are the patterns for row number 5?",
      "questions": [
        // Question 13.1
        {
          "question": "What is the first pattern to identify?",
          "options": ["Seat increase between rows", "Price increase only", "Row numbering", "Total seats", "Popcorn flavors"],
          "answer": "Seat increase between rows"
        },
        // Question 13.2
        {
          "question": "How should the seat pattern be calculated?",
          "options": ["Add 2 seats each row", "Multiply by 2", "Subtract 2 seats", "Random increase", "Flip a coin"],
          "answer": "Add 2 seats each row"
        },
        // Question 13.3
        {
          "question": "What's the relationship between rows and pricing?",
          "options": ["$2 increase per row", "Random prices", "Same price all rows", "Decreasing price", "Mood-based pricing"],
          "answer": "$2 increase per row"
        },
        // Question 13.4
        {
          "question": "What makes this a complex pattern?",
          "options": ["Multiple changing variables", "Simple addition", "Basic counting", "One pattern only", "Theater ghosts"],
          "answer": "Multiple changing variables"
        },
        // Question 13.5
        {
          "question": "What information is NOT needed?",
          "options": ["Theater capacity", "Initial seats", "Seat increase rate", "Starting price", "Price increase rate"],
          "answer": "Theater capacity"
        }
      ]
    },
    // Stage 14 - Investment with Compound Interest
    {
      "text": "An investment of $1000 earns 6% annual interest, compounded quarterly. After 2 years, half the money is withdrawn and reinvested at 4% simple interest for 1 year. The rest remains at 6% compound interest.",
      "questions": [
        // Question 14.1
        {
          "question": "What should be calculated first?",
          "options": ["2-year compound interest", "Simple interest", "Final total", "Initial amount", "Banker's birthday"],
          "answer": "2-year compound interest"
        },
        // Question 14.2
        {
          "question": "What affects the compound interest calculation?",
          "options": ["Compounding frequency", "Simple interest rate", "Withdrawal amount", "Final year only", "Stock market mood"],
          "answer": "Compounding frequency"
        },
        // Question 14.3
        {
          "question": "What's needed for the split calculation?",
          "options": ["Amount after 2 years", "Initial amount", "Interest rates only", "Time periods only", "Investment horoscope"],
          "answer": "Amount after 2 years"
        },
        // Question 14.4
        {
          "question": "Why is this a complex problem?",
          "options": ["Multiple interest types and periods", "Simple addition", "Basic multiplication", "One interest type", "Money dreams"],
          "answer": "Multiple interest types and periods"
        },
        // Question 14.5
        {
          "question": "What formula is needed for compound interest?",
          "options": ["P(1 + r/n)^(nt)", "P + rt", "P × r × t", "P + P", "Magic money formula"],
          "answer": "P(1 + r/n)^(nt)"
        }
      ]
    },
    // Stage 15 - Complex Geometric Optimization
    {
      "text": "A cylindrical can must hold 500 cubic centimeters. The material for the sides costs $0.02 per square cm, and the material for the base and top costs $0.03 per square cm. Find the dimensions that minimize cost.",
      "questions": [
        // Question 15.1
        {
          "question": "What relationship must be considered first?",
          "options": ["Volume formula", "Surface area", "Cost only", "Height only", "Can's favorite color"],
          "answer": "Volume formula"
        },
        // Question 15.2
        {
          "question": "What affects the total cost?",
          "options": ["Surface area and material rates", "Volume only", "Height only", "Radius only", "Can decoration"],
          "answer": "Surface area and material rates"
        },
        // Question 15.3
        {
          "question": "What makes this an optimization problem?",
          "options": ["Finding minimum cost dimensions", "Simple calculation", "Basic addition", "One variable", "Can psychology"],
          "answer": "Finding minimum cost dimensions"
        },
        // Question 15.4
        {
          "question": "What formulas are needed?",
          "options": ["Volume and surface area", "Volume only", "Area only", "Perimeter only", "Can happiness index"],
          "answer": "Volume and surface area"
        },
        // Question 15.5
        {
          "question": "Why is this considered complex?",
          "options": ["Multiple variables and constraints", "Simple shapes", "Basic math", "One formula", "Can aesthetics"],
          "answer": "Multiple variables and constraints"
        }
      ]
    },
    // Stage 16 - Network and Path Problems
    {
      "text": "A delivery truck must visit 4 stores. From the warehouse (W) to store A is 5 miles, to B is 7 miles, to C is 4 miles, and to D is 6 miles. Between stores: A to B = 3 miles, A to C = 6 miles, A to D = 4 miles, B to C = 5 miles, B to D = 4 miles, C to D = 3 miles.",
      "questions": [
        // Question 16.1
        {
          "question": "What information should be organized first?",
          "options": ["All possible distances", "Only store locations", "Only return routes", "Random paths", "Truck's favorite music"],
          "answer": "All possible distances"
        },
        // Question 16.2
        {
          "question": "What makes this a network problem?",
          "options": ["Multiple connected paths", "Single route only", "Direct paths only", "Time only", "Truck color scheme"],
          "answer": "Multiple connected paths"
        },
        // Question 16.3
        {
          "question": "What needs to be considered for each route?",
          "options": ["Total distance and connections", "Time only", "Fuel only", "Weather only", "Driver's lunch break"],
          "answer": "Total distance and connections"
        },
        // Question 16.4
        {
          "question": "What strategy helps solve this?",
          "options": ["Compare all possible paths", "Random selection", "First choice only", "Shortest first leg", "Rock-paper-scissors"],
          "answer": "Compare all possible paths"
        },
        // Question 16.5
        {
          "question": "Why is this a complex routing problem?",
          "options": ["Multiple possible sequences", "Single path only", "Direct routes only", "One-way streets", "GPS meditation"],
          "answer": "Multiple possible sequences"
        }
      ]
    },
    // Stage 17 - Mixed Rate Problems
    {
      "text": "Two pipes can fill a pool. Pipe A fills at 20 gallons per minute, Pipe B at 30 gallons per minute. A drain empties at 15 gallons per minute. The pool holds 1800 gallons. The automatic system turns off Pipe B when the pool is 2/3 full.",
      "questions": [
        // Question 17.1
        {
          "question": "What should be calculated first?",
          "options": ["Net filling rate", "Pool capacity", "Drain rate only", "Time to 2/3", "Pool party plans"],
          "answer": "Net filling rate"
        },
        // Question 17.2
        {
          "question": "What changes at 2/3 capacity?",
          "options": ["Total input rate", "Drain rate", "Pool size", "Water color", "Fish happiness"],
          "answer": "Total input rate"
        },
        // Question 17.3
        {
          "question": "Why is this a complex rate problem?",
          "options": ["Changing rates over time", "Constant flow", "Single pipe", "No drain", "Water temperature"],
          "answer": "Changing rates over time"
        },
        // Question 17.4
        {
          "question": "What information is NOT needed?",
          "options": ["Water pressure", "Fill rates", "Drain rate", "Pool capacity", "2/3 threshold"],
          "answer": "Water pressure"
        },
        // Question 17.5
        {
          "question": "How should the final time be calculated?",
          "options": ["Sum of two different rate periods", "Single rate calculation", "Average time", "Random guess", "Pool party timing"],
          "answer": "Sum of two different rate periods"
        }
      ]
    },
    // Stage 18 - Complex Probability Chains
    {
      "text": "A game has three levels. To advance, players need to score above 70%. Level 1 has 60% success rate, Level 2 has 50% success rate for those who passed Level 1, Level 3 has 40% success rate for those who passed Level 2. Players can retry failed levels once.",
      "questions": [
        // Question 18.1
        {
          "question": "What should be calculated first?",
          "options": ["Probability of passing Level 1", "Overall success rate", "Final level odds", "Retry chances", "Player's lucky number"],
          "answer": "Probability of passing Level 1"
        },
        // Question 18.2
        {
          "question": "How do retries affect probability?",
          "options": ["Increases chance for each level", "Decreases chance", "No effect", "Random effect", "Mood influence"],
          "answer": "Increases chance for each level"
        },
        // Question 18.3
        {
          "question": "What makes this probability complex?",
          "options": ["Conditional and compound events", "Single event", "Independent events", "Simple odds", "Game graphics"],
          "answer": "Conditional and compound events"
        },
        // Question 18.4
        {
          "question": "How should final probability be calculated?",
          "options": ["Product of all conditional probabilities", "Sum of probabilities", "Average of rates", "Highest probability", "Controller settings"],
          "answer": "Product of all conditional probabilities"
        },
        // Question 18.5
        {
          "question": "What information is relevant for retries?",
          "options": ["Original success rates", "Game graphics", "Player names", "Time of day", "Background music"],
          "answer": "Original success rates"
        }
      ]
    },
    // Stage 19 - Complex Logic with Variables
    {
      "text": "In a coding competition, Team A solves problems 20% faster than average. Team B solves problems 15% slower than Team A. Team C solves problems twice as fast as Team B. If Team B takes 46 minutes to solve a problem, how do the others compare?",
      "questions": [
        // Question 19.1
        {
          "question": "What should be calculated first?",
          "options": ["Average solving time", "Team A's time", "Team C's time", "Total time", "Coffee break duration"],
          "answer": "Average solving time"
        },
        // Question 19.2
        {
          "question": "What relationship is most important?",
          "options": ["Team B to average time", "Team C to Team A", "Team A to Team C", "Total times", "Team nicknames"],
          "answer": "Team B to average time"
        },
        // Question 19.3
        {
          "question": "Why is this a complex comparison?",
          "options": ["Multiple relative relationships", "Simple timing", "Direct comparison", "Single variable", "Team colors"],
          "answer": "Multiple relative relationships"
        },
        // Question 19.4
        {
          "question": "What makes this a logic problem?",
          "options": ["Deducing unknown values", "Simple addition", "Direct timing", "Random guessing", "Typing speed"],
          "answer": "Deducing unknown values"
        },
        // Question 19.5
        {
          "question": "What's the correct sequence of calculations?",
          "options": ["B→Average→A→C", "A→B→C→Average", "C→B→A→Average", "Random order", "Alphabetical order"],
          "answer": "B→Average→A→C"
        }
      ]
    },
    // Stage 20 - Advanced Mixed Applications
    {
      "text": "A factory produces widgets at a rate of 100 per hour. Quality control removes 5% as defective. Packaging requires 3 minutes per dozen. Each package costs $0.50, and each widget costs $2 to produce. Labor is $30 per hour. What's the total cost for 1000 good widgets?",
      "questions": [
        // Question 20.1
        {
          "question": "What should be calculated first?",
          "options": ["Total widgets needed with defects", "Packaging time", "Labor cost", "Material cost", "Widget color scheme"],
          "answer": "Total widgets needed with defects"
        },
        // Question 20.2
        {
          "question": "What affects total production time?",
          "options": ["Production rate and packaging time", "Only production", "Only packaging", "Break time", "Widget dreams"],
          "answer": "Production rate and packaging time"
        },
        // Question 20.3
        {
          "question": "Which costs need to be combined?",
          "options": ["Materials, labor, and packaging", "Only materials", "Only labor", "Only packaging", "Widget happiness"],
          "answer": "Materials, labor, and packaging"
        },
        // Question 20.4
        {
          "question": "Why is this a complex application?",
          "options": ["Multiple rates and costs", "Single cost", "One rate only", "Direct calculation", "Factory decoration"],
          "answer": "Multiple rates and costs"
        },
        // Question 20.5
        {
          "question": "What makes time calculation complex?",
          "options": ["Different units and rates", "Single timeframe", "One process", "Direct timing", "Widget meditation"],
          "answer": "Different units and rates"
        }
      ]
    },
   // Stage 21 - Advanced Optimization with Multiple Constraints
    {
      "text": "A company produces two types of products: A and B. Product A requires 2 hours of machine time and 3 hours of labor. Product B requires 3 hours of machine time and 2 hours of labor. Available resources are 100 machine hours and 120 labor hours per week. Profit is $40 for A and $50 for B.",
      "questions": [
        // Question 21.1
        {
          "question": "What constraints need to be identified first?",
          "options": ["Machine and labor hours", "Only profits", "Only production time", "Break times", "Factory playlist"],
          "answer": "Machine and labor hours"
        },
        // Question 21.2
        {
          "question": "What relationship determines maximum profit?",
          "options": ["Balance of both products", "Only product A", "Only product B", "Random production", "Product mood"],
          "answer": "Balance of both products"
        },
        // Question 21.3
        {
          "question": "Why is this an optimization problem?",
          "options": ["Multiple constraints with profit goal", "Simple production", "Single product", "One resource", "Factory decoration"],
          "answer": "Multiple constraints with profit goal"
        },
        // Question 21.4
        {
          "question": "What method helps solve this?",
          "options": ["Linear programming", "Random guessing", "Single variable", "One equation", "Crystal ball"],
          "answer": "Linear programming"
        },
        // Question 21.5
        {
          "question": "What makes this complex?",
          "options": ["Multiple variables and constraints", "Single goal", "One product", "Simple math", "Product dreams"],
          "answer": "Multiple variables and constraints"
        }
      ]
    },
    // Stage 22 - Complex Financial Planning
    {
      "text": "A person plans to retire in 30 years. They invest $500 monthly with 7% annual return compounded monthly. At retirement, they plan to withdraw 4% annually, adjusted for 3% inflation. They need $5000 monthly in today's dollars.",
      "questions": [
        // Question 22.1
        {
          "question": "What should be calculated first?",
          "options": ["Future value needed", "Monthly investment", "Withdrawal rate", "Current savings", "Retirement hobbies"],
          "answer": "Future value needed"
        },
        // Question 22.2
        {
          "question": "How does inflation affect the calculation?",
          "options": ["Increases future need", "Decreases need", "No effect", "Random effect", "Weather impact"],
          "answer": "Increases future need"
        },
        // Question 22.3
        {
          "question": "What makes this calculation complex?",
          "options": ["Multiple rates and time periods", "Single rate", "One time period", "Simple interest", "Retirement party plans"],
          "answer": "Multiple rates and time periods"
        },
        // Question 22.4
        {
          "question": "What's needed for monthly investment calculation?",
          "options": ["Future value and interest rate", "Only interest", "Only time", "Current value", "Investment mood"],
          "answer": "Future value and interest rate"
        },
        // Question 22.5
        {
          "question": "Why consider withdrawal rate?",
          "options": ["Sustainability of savings", "Initial investment", "Monthly deposits", "Interest only", "Retirement location"],
          "answer": "Sustainability of savings"
        }
      ]
    },
    // Stage 23 - Advanced Geometric Problem
    {
      "text": "A cone-shaped water tank has height 12m and base radius 4m. Water flows in at 2 cubic meters per minute. At what height will the water reach half the volume? Water flows out at 1 cubic meter per minute from a point 3m from the bottom.",
      "questions": [
        // Question 23.1
        {
          "question": "What formula is needed first?",
          "options": ["Volume of cone", "Surface area", "Circumference", "Linear height", "Tank color scheme"],
          "answer": "Volume of cone"
        },
        // Question 23.2
        {
          "question": "How does outflow affect the problem?",
          "options": ["Changes net fill rate", "No effect", "Doubles time", "Affects shape", "Water temperature"],
          "answer": "Changes net fill rate"
        },
        // Question 23.3
        {
          "question": "Why is this geometrically complex?",
          "options": ["Volume varies non-linearly with height", "Simple shape", "Regular rate", "Direct ratio", "Tank decoration"],
          "answer": "Volume varies non-linearly with height"
        },
        // Question 23.4
        {
          "question": "What relationship is key?",
          "options": ["Height to volume ratio", "Time only", "Flow only", "Temperature", "Water color"],
          "answer": "Height to volume ratio"
        },
        // Question 23.5
        {
          "question": "What makes this a complex rate problem?",
          "options": ["Changing volume per height unit", "Constant flow", "Simple shape", "Linear fill", "Tank mood"],
          "answer": "Changing volume per height unit"
        }
      ]
    },
    // Stage 24 - Pattern Recognition with Functions
    {
      "text": "A sequence starts with 2. Each next term is found by: if even, divide by 2; if odd, multiply by 3 and add 1. The pattern continues until reaching 1. The length of the sequence and each term need to be found.",
      "questions": [
        // Question 24.1
        {
          "question": "What should be identified first?",
          "options": ["Next term rule", "Final number", "Sequence length", "Pattern type", "Number's favorite color"],
          "answer": "Next term rule"
        },
        // Question 24.2
        {
          "question": "Why is this pattern complex?",
          "options": ["Conditional next terms", "Simple addition", "Regular pattern", "Fixed sequence", "Mathematical magic"],
          "answer": "Conditional next terms"
        },
        // Question 24.3
        {
          "question": "What makes this sequence unique?",
          "options": ["Variable length", "Fixed length", "Constant increase", "Regular pattern", "Number personality"],
          "answer": "Variable length"
        },
        // Question 24.4
        {
          "question": "What information is needed each step?",
          "options": ["Previous term value", "Initial value only", "Final value only", "Random values", "Number dreams"],
          "answer": "Previous term value"
        },
        // Question 24.5
        {
          "question": "How is the sequence tracked?",
          "options": ["Record each term", "Final only", "First only", "Random check", "Mathematical meditation"],
          "answer": "Record each term"
        }
      ]
    },
    // Stage 25 - Complex Work Rate Problem
    {
      "text": "Three machines work at different rates. Machine A completes a job in 3 hours, B in 4 hours, and C in 6 hours. Machine B breaks down every 2 hours and needs 30 minutes repair. Machine C improves efficiency 10% every hour. How long for all to complete 100 units?",
      "questions": [
        // Question 25.1
        {
          "question": "What rates need to be calculated first?",
          "options": ["Individual machine rates", "Total rate only", "Repair time only", "Efficiency only", "Machine names"],
          "answer": "Individual machine rates"
        },
        // Question 25.2
        {
          "question": "How does B's breakdown affect calculation?",
          "options": ["Reduces effective rate", "Increases rate", "No effect", "Random effect", "Machine mood"],
          "answer": "Reduces effective rate"
        },
        // Question 25.3
        {
          "question": "What makes C's rate complex?",
          "options": ["Changing efficiency", "Constant rate", "Fixed speed", "Random changes", "Machine dreams"],
          "answer": "Changing efficiency"
        },
        // Question 25.4
        {
          "question": "Why is this a complex rate problem?",
          "options": ["Multiple varying rates", "Single rate", "Fixed rates", "Simple addition", "Machine poetry"],
          "answer": "Multiple varying rates"
        },
        // Question 25.5
        {
          "question": "What calculation method is needed?",
          "options": ["Integration of varying rates", "Simple addition", "Basic multiplication", "Random guess", "Machine meditation"],
          "answer": "Integration of varying rates"
        }
      ]
    },
    // Stage 26 - Advanced Probability with Conditions
    {
      "text": "A game show has three rounds. Round 1: contestant picks 1 of 3 doors (1/3 chance). Round 2: must answer 2 of 3 questions correctly (80% chance per question). Round 3: choose between sure prize or double-or-nothing coin flip. Previous winners had 60% choose sure prize.",
      "questions": [
        // Question 26.1
        {
          "question": "What should be calculated first?",
          "options": ["Probability of passing Round 1", "Final probability", "Sure prize odds", "Coin flip odds", "Contestant's lucky number"],
          "answer": "Probability of passing Round 1"
        },
        // Question 26.2
        {
          "question": "What makes Round 2 complex?",
          "options": ["Multiple correct answers needed", "Single question", "One chance", "Fixed odds", "Question color"],
          "answer": "Multiple correct answers needed"
        },
        // Question 26.3
        {
          "question": "How does final choice affect probability?",
          "options": ["Creates two possible outcomes", "Single outcome", "Fixed result", "Random result", "Prize dreams"],
          "answer": "Creates two possible outcomes"
        },
        // Question 26.4
        {
          "question": "Why is this probability complex?",
          "options": ["Multiple conditional events", "Single event", "Independent events", "Simple odds", "Show aesthetics"],
          "answer": "Multiple conditional events"
        },
        // Question 26.5
        {
          "question": "What calculation approach is needed?",
          "options": ["Tree diagram with branches", "Simple multiply", "Single divide", "Random guess", "Show magic"],
          "answer": "Tree diagram with branches"
        }
      ]
    },
    // Stage 27 - Complex Investment Strategy
    {
      "text": "An investor splits $10,000 between stocks (60% average return, 20% risk of losing 50%), bonds (20% return, 5% risk of losing 10%), and savings (5% guaranteed). Market analysts predict stocks will correlate 80% with next year's economic growth.",
      "questions": [
        // Question 27.1
        {
          "question": "What should be calculated first?",
          "options": ["Expected return per investment", "Total return", "Risk only", "Correlation only", "Investment mood"],
          "answer": "Expected return per investment"
        },
        // Question 27.2
        {
          "question": "How does risk affect calculation?",
          "options": ["Modifies expected return", "No effect", "Increases return", "Removes options", "Investment dreams"],
          "answer": "Modifies expected return"
        },
        // Question 27.3
        {
          "question": "What makes this complex?",
          "options": ["Multiple variables with risk", "Single return", "Fixed rate", "Simple math", "Market magic"],
          "answer": "Multiple variables with risk"
        },
        // Question 27.4
        {
          "question": "How does correlation affect decision?",
          "options": ["Influences risk assessment", "No effect", "Removes risk", "Guarantees return", "Economic fortune telling"],
          "answer": "Influences risk assessment"
        },
        // Question 27.5
        {
          "question": "What calculation type is needed?",
          "options": ["Weighted probability", "Simple addition", "Basic multiply", "Random guess", "Crystal ball gazing"],
          "answer": "Weighted probability"
        }
      ]
    },
    // Stage 28 - Advanced Logic Sequence
    {
      "text": "Five tasks must be completed. Task A must finish before B and C can start. Task D can't start until C is done. Task E needs both B and D complete. Task A takes 3 days, B takes 2 days, C takes 4 days, D takes 3 days, and E takes 1 day.",
      "questions": [
        // Question 28.1
        {
          "question": "What should be determined first?",
          "options": ["Task dependencies", "Total time", "Individual times", "Random order", "Task colors"],
          "answer": "Task dependencies"
        },
        // Question 28.2
        {
          "question": "Why is this sequence complex?",
          "options": ["Multiple dependencies", "Single path", "No dependencies", "Fixed order", "Task personalities"],
          "answer": "Multiple dependencies"
        },
        // Question 28.3
        {
          "question": "What affects total completion time?",
          "options": ["Critical path length", "Shortest task", "Longest task", "Average time", "Task horoscopes"],
          "answer": "Critical path length"
        },
        // Question 28.4
        {
          "question": "What method helps solve this?",
          "options": ["Network diagram", "Simple list", "Random guess", "Task lottery", "Task meditation"],
          "answer": "Network diagram"
        },
        // Question 28.5
        {
          "question": "What makes timing complex?",
          "options": ["Parallel possible paths", "Single timeline", "Fixed sequence", "Random timing", "Task dreams"],
          "answer": "Parallel possible paths"
        }
      ]
    },
    // Stage 29 - Complex Rate Comparison
    {
      "text": "Three cars travel between cities. Car A averages 60 mph but stops 10 minutes every 2 hours for fuel. Car B averages 55 mph with no stops. Car C averages 65 mph but hits traffic reducing speed by 20% for 1/3 of the journey. Distance is 400 miles.",
      "questions": [
        // Question 29.1
        {
          "question": "What needs to be calculated first?",
          "options": ["Effective average speeds", "Total time", "Distance only", "Traffic time", "Car colors"],
          "answer": "Effective average speeds"
        },
        // Question 29.2
        {
          "question": "How do stops affect calculation?",
          "options": ["Reduce effective speed", "Increase speed", "No effect", "Random effect", "Car mood"],
          "answer": "Reduce effective speed"
        },
        // Question 29.3
        {
          "question": "What makes the traffic calculation complex?",
          "options": ["Partial journey effect", "Whole journey", "No effect", "Random timing", "Traffic psychology"],
          "answer": "Partial journey effect"
        },
        // Question 29.4
        {
          "question": "Why is this a complex comparison?",
          "options": ["Different factors affecting time", "Single speed", "Fixed rate", "Simple math", "Car dreams"],
          "answer": "Different factors affecting time"
        },
        // Question 29.5
        {
          "question": "What calculation approach works best?",
          "options": ["Break into segments", "Single formula", "Simple average", "Random guess", "Traffic meditation"],
          "answer": "Break into segments"
        }
      ]
    },
    // Stage 30 - Final Complex Integration
    {
      "text": "A factory produces custom widgets. Material cost starts at $10 per unit and decreases 5% for every 100 units. Labor cost is $20 per unit for the first 50 units, then decreases 2% for each additional 50 units. Fixed costs are $1000. Market price starts at $50 and decreases $0.50 for every 25 units sold.",
      "questions": [
        // Question 30.1
        {
          "question": "What should be analyzed first?",
          "options": ["Cost structure breakdown", "Revenue only", "Profit only", "Production time", "Widget dreams"],
          "answer": "Cost structure breakdown"
        },
        // Question 30.2
        {
          "question": "What makes the material cost complex?",
          "options": ["Stepped percentage decrease", "Fixed rate", "Single cost", "No change", "Material mood"],
          "answer": "Stepped percentage decrease"
        },
        // Question 30.3
        {
          "question": "How should labor cost be calculated?",
          "options": ["In 50-unit segments", "As one unit", "Fixed rate", "Random calculation", "Worker happiness index"],
          "answer": "In 50-unit segments"
        },
        // Question 30.4
        {
          "question": "What determines optimal production?",
          "options": ["Break-even and profit margins", "Costs only", "Revenue only", "Random amount", "Factory zodiac"],
          "answer": "Break-even and profit margins"
        },
        // Question 30.5
        {
          "question": "Why is this the most complex integration?",
          "options": ["Multiple varying rates and thresholds", "Single variable", "Fixed costs", "Simple math", "Widget philosophy"],
          "answer": "Multiple varying rates and thresholds"
        }
      ]
    }

//-------------------------------------------------------------------------------------------------------------------							
				  ]
				}
        ];

		const stageCount = quizData[0].stages.length; // This is the correct way to get the number of stages


		const stateContents = {
			'Practice': `<div id="stage-number" class="stage-number">Stage 1 of ${stageCount}</div><div class="progress-bar-container"><div id="progress-bar" class="progress-bar"></div></div><div id="attempts">Attempts: 0</div><div id="quiz-content"></div><button class="center-button" onclick="checkStage()">Check Answers</button>`
			,'Subject Overview 🗝️': `<div class="subject-overview-content">   <h1>Identifying Key Information in Word Problems: A Comprehensive Guide</h1>   <p>Identifying key information in word problems is a fundamental skill in mathematics and problem-solving. It involves discerning the essential details that are necessary to formulate and solve the problem effectively. Mastering this skill enhances comprehension, accuracy, and efficiency in tackling various mathematical challenges. This guide will explore the strategies for identifying key information, common pitfalls to avoid, and provide numerous examples to illustrate these concepts.</p>   <hr>   <h2>Table of Contents</h2>   <ol>     <li><a href="#what-is-key-information">What is Key Information in Word Problems?</a></li>     <li><a href="#strategies-for-identifying-key-information">Strategies for Identifying Key Information</a></li>     <li><a href="#common-pitfalls">Common Pitfalls to Avoid</a></li>     <li><a href="#detailed-explanation">Detailed Explanation with Examples</a>       <ul>         <li><a href="#understanding-the-problem">Understanding the Problem</a></li>         <li><a href="#identifying-relevant-information">Identifying Relevant Information</a></li>         <li><a href="#recognizing-what-to-find">Recognizing What to Find</a></li>         <li><a href="#eliminating-irrelevant-information">Eliminating Irrelevant Information</a></li>       </ul>     </li>     <li><a href="#conclusion">Conclusion</a></li>   </ol>   <hr>     <h2 id="what-is-key-information">What is Key Information in Word Problems?</h2>   <p>Key information in word problems refers to the specific data and details that are essential for formulating and solving the problem. This includes numerical values, relationships between quantities, and any constraints or conditions that apply. Identifying these elements is crucial as it allows the problem-solver to set up the correct equations or logical steps needed to find the solution.</p>   <p>In any word problem, not all information provided is necessary for finding the solution. Distinguishing between relevant and irrelevant details is a critical step in effective problem-solving.</p>   <hr>     <h2 id="strategies-for-identifying-key-information">Strategies for Identifying Key Information</h2>   <p>Several strategies can aid in pinpointing the key information within word problems:</p>   <ol>     <li><strong>Read Carefully:</strong> Thoroughly read the problem multiple times to understand the context and details.</li>     <li><strong>Highlight or Underline:</strong> Mark important numbers, units, and keywords that indicate mathematical operations.</li>     <li><strong>Identify What is Asked:</strong> Determine the specific question or objective of the problem.</li>     <li><strong>Break Down the Problem:</strong> Divide the problem into smaller, manageable parts to better understand the relationships between different pieces of information.</li>     <li><strong>Look for Keywords:</strong> Words like "total," "difference," "product," and "ratio" often hint at the operations needed.</li>   </ol>   <hr>     <h2 id="common-pitfalls">Common Pitfalls to Avoid</h2>   <p>When solving word problems, certain common mistakes can hinder the identification of key information:</p>   <ul>     <li><strong>Ignoring Units:</strong> Overlooking the units of measurement can lead to incorrect calculations.</li>     <li><strong>Overcomplicating the Problem:</strong> Introducing unnecessary steps or information can confuse the solving process.</li>     <li><strong>Misinterpreting Keywords:</strong> Misunderstanding the meaning of keywords can result in selecting the wrong mathematical operation.</li>     <li><strong>Skipping Steps:</strong> Rushing through the problem without systematically identifying key information can lead to errors.</li>   </ul>   <hr>     <h2 id="detailed-explanation">Detailed Explanation with Examples</h2>     <h3 id="understanding-the-problem">Understanding the Problem</h3>   <p>Before attempting to solve a word problem, it is essential to comprehend the scenario fully.</p>   <ol>     <li><strong>Read Thoroughly:</strong> Go through the problem statement carefully to grasp the context.</li>     <li><strong>Summarize:</strong> Paraphrase the problem in your own words to ensure understanding.</li>     <li><strong>Identify the Goal:</strong> Determine what the problem is asking you to find.</li>   </ol>   <p><strong>Example:</strong></p>   <ul>     <li><em>A farmer has 150 apples. He sells some and is left with 90 apples. How many apples did he sell?</em></li>   </ul>     <h3 id="identifying-relevant-information">Identifying Relevant Information</h3>   <p>Extract the data that directly relates to the question being asked.</p>   <ol>     <li><strong>Highlight Numbers:</strong> Look for numerical values and units.</li>     <li><strong>Determine Relationships:</strong> Understand how different pieces of information are connected.</li>     <li><strong>Discard Irrelevant Details:</strong> Remove information that does not contribute to solving the problem.</li>   </ol>   <p><strong>Example:</strong></p>   <ul>     <li><em>From the previous example, the relevant information is:</em>       <ul>         <li>Total apples initially: 150</li>         <li>Apples remaining: 90</li>       </ul>     </li>   </ul>     <h3 id="recognizing-what-to-find">Recognizing What to Find</h3>   <p>Clearly identify the unknowns that need to be determined to solve the problem.</p>   <ol>     <li><strong>Define Variables:</strong> Assign symbols to the unknown quantities.</li>     <li><strong>Establish Equations:</strong> Use the relationships between known and unknown information to form equations.</li>     <li><strong>Solve Systematically:</strong> Proceed step-by-step to find the solution.</li>   </ol>   <p><strong>Example:</strong></p>   <ul>     <li><em>Let the number of apples sold be x.</em></li>     <li><em>Equation: 150 - x = 90</em></li>     <li><em>Solving for x: x = 150 - 90 = 60</em></li>     <li><em>Answer: The farmer sold 60 apples.</em></li>   </ul>     <h3 id="eliminating-irrelevant-information">Eliminating Irrelevant Information</h3>   <p>Focus on information that directly impacts the solution, and set aside the rest.</p>   <ol>     <li><strong>Identify Distractions:</strong> Notice details that do not affect the outcome.</li>     <li><strong>Streamline Data:</strong> Simplify the problem by removing unnecessary information.</li>     <li><strong>Maintain Clarity:</strong> Keeping only relevant information helps in maintaining a clear path to the solution.</li>   </ol>   <p><strong>Example:</strong></p>   <ul>     <li><em>If the problem included additional details like the type of apples or the weather, these might be irrelevant unless specified otherwise.</em></li>   </ul>     <hr>   <h2 id="conclusion">Conclusion</h2>   <p>Identifying key information in word problems is a critical step in effective problem-solving. By employing strategies such as careful reading, highlighting relevant details, and recognizing what needs to be found, you can approach word problems with confidence and precision. Avoiding common pitfalls like ignoring units or overcomplicating the problem further enhances your ability to find accurate solutions.</p>   <ul>     <li><strong>Read Thoroughly:</strong> Ensure complete understanding of the problem.</li>     <li><strong>Highlight Key Details:</strong> Focus on numbers and relationships that are essential.</li>     <li><strong>Define What to Find:</strong> Clearly identify the unknowns to solve for.</li>     <li><strong>Eliminate Irrelevant Information:</strong> Streamline the problem to include only necessary data.</li>   </ul>   <p><strong>Remember</strong>: Practicing these strategies will improve your ability to dissect and solve word problems efficiently. Continuously apply these techniques to various problems to build and reinforce your problem-solving skills.</p>   <hr>   <p>By mastering the identification of key information in word problems, you'll enhance your mathematical reasoning and ability to tackle complex challenges with ease. Keep practicing these strategies, and revisit this guide whenever you need a refresher to maintain your proficiency!</p> </div>`		
			};


        function setQuizExpansion(allow) {
            allowQuizExpansion = allow;
            adjustLayout();
        }

        function adjustLayout() {
            const wrapper = document.querySelector('.content-wrapper');
            const quizContainer = document.getElementById('quizContainer');
            const sidePanel1 = document.getElementById('sidePanel1');
            
            const isPanel1Visible = window.getComputedStyle(sidePanel1).display !== 'none';

            wrapper.style.justifyContent = 'space-between';

            if (isPanel1Visible) {
                sidePanel1.style.flex = '0 0 calc(20% - 0.5rem)';
                sidePanel1.style.maxWidth = 'calc(20% - 0.5rem)';
                quizContainer.style.flex = '1';
            } else {
                quizContainer.style.flex = '1';
                wrapper.style.justifyContent = 'center';
            }

            [sidePanel1, quizContainer].forEach(el => {
                el.style.display = 'block';
            });
        }

        function togglePanel(panelId) {
            const panel = document.getElementById(panelId);
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            adjustLayout();
        }

        function updateSwitcherLayout() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const handle = switchElement.querySelector('.switch-handle');

            labels.forEach(label => {
                label.style.flex = 'none';
                label.style.padding = '0 20px';
            });

            const activeLabel = switchElement.querySelector('.switch-label.active');
            if (activeLabel) {
                const switchRect = switchElement.getBoundingClientRect();
                const labelRect = activeLabel.getBoundingClientRect();

                handle.style.left = `${labelRect.left - switchRect.left}px`;
                handle.style.width = `${labelRect.width}px`;
            }

            switchElement.style.width = 'auto';
        }
        
        function switchTab(index) {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const activeStates = Array.from(labels).map(label => label.textContent);

            labels.forEach((label, i) => {
                label.classList.toggle('active', i === index);
            });

            updateSwitcherLayout();
            showContent(activeStates[index]);

            adjustLayout();
        }

        function showContent(state) {
            const tabContent = document.getElementById('tabContent');
            tabContent.innerHTML = stateContents[state] || '';

            if (state === 'Practice') {
                renderQuiz();
                updateProgressBar();
            }
        }

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

function isTextEmpty(text) {
    return !text || text.trim() === "";
}

function renderQuiz() {
    const quizContainer = document.getElementById("quiz-content");
    quizContainer.innerHTML = '';
    
    // Only add stage text if it's not empty
    const stageText = quizData[0].stages[currentStage].text;
    if (!isTextEmpty(stageText)) {
        const stageTextElement = document.createElement("div");
        stageTextElement.className = "stage-text";
        stageTextElement.style.marginBottom = "20px";
        stageTextElement.style.padding = "15px";
        stageTextElement.style.backgroundColor = "#f5f5f5";
        stageTextElement.style.borderRadius = "5px";
        stageTextElement.textContent = stageText;
        quizContainer.appendChild(stageTextElement);
    }
    
    // Render questions
    quizData[0].stages[currentStage].questions.forEach((questionData, index) => {
        const questionElement = document.createElement("div");
        questionElement.className = "question-one-line";
        
        const label = document.createElement("label");
        label.htmlFor = `q${index}`;
        label.textContent = `${index + 1}. ${questionData.question}`;
        
        const resultDiv = document.createElement("div");
        resultDiv.className = "result result-ltr";
        resultDiv.id = `result${index}`;
        
        const select = document.createElement("select");
        select.id = `q${index}`;
        select.name = `q${index}`;
        
        const defaultOption = document.createElement("option");
        defaultOption.value = "";
        defaultOption.textContent = "Select";
        select.appendChild(defaultOption);
        
        const shuffledOptions = shuffleArray([...questionData.options]);
        shuffledOptions.forEach(option => {
            const optionElement = document.createElement("option");
            optionElement.value = option;
            optionElement.textContent = option;
            select.appendChild(optionElement);
        });
        
        questionElement.appendChild(label);
        questionElement.appendChild(resultDiv);
        questionElement.appendChild(select);
        
        quizContainer.appendChild(questionElement);
    });

    updateStageNumber();
}

function checkStage() {
    attempts++;
    document.getElementById("attempts").textContent = `Attempts: ${attempts}`;

    let correctCount = 0;
    const totalQuestions = quizData[0].stages[currentStage].questions.length;

    quizData[0].stages[currentStage].questions.forEach((questionData, index) => {
        const resultElement = document.getElementById(`result${index}`);
        const selectElement = document.getElementById(`q${index}`);
        const selectedAnswer = selectElement.value;

        if (selectedAnswer === questionData.answer) {
            resultElement.textContent = "Correct!";
            resultElement.style.color = "green";
            correctCount++;
        } else {
            resultElement.textContent = "Incorrect answer.";
            resultElement.style.color = "red";
        }

        if (attempts >= 10) {
            selectElement.value = questionData.answer;
            selectElement.disabled = true;
            resultElement.textContent += ` The correct answer is: ${questionData.answer}`;
        }
    });

    if (correctCount === totalQuestions) {
        console.log(`Stage ${currentStage + 1}: ${correctCount} correct out of ${totalQuestions}`);
        addAnimalsToFarm(totalQuestions);

        if (currentStage < quizData[0].stages.length - 1) {
            singleStageConfetti();
            showEncouragingPopup(correctCount, totalQuestions, true);
            currentStage++;
            updateProgressBar();
            setTimeout(() => {
                attempts = 0;
                renderQuiz();
                document.getElementById("attempts").textContent = `Attempts: ${attempts}`;
            }, 1500);
        } else {
            currentStage++;
            updateProgressBar();
            allStagesConfetti();
            showModal("Congratulations! You've completed all stages!");
        }
    } else {
        showEncouragingPopup(correctCount, totalQuestions, false);
        if (attempts >= 10) {
            showModal("You've reached the maximum number of attempts. The correct answers have been revealed.");
        }
    }

    scrollToTop();
}

// 4. Update stageCount calculation to work with new structure

		
		function showEncouragingPopup(correctCount, totalQuestions, isStageComplete) {
			const incorrectCount = totalQuestions - correctCount;
			let message = `You got ${correctCount} correct and ${incorrectCount} incorrect.`;
			
			// Add encouraging message based on performance
			if (correctCount === totalQuestions) {
				message += " Perfect score!";
			} else if (correctCount >= Math.ceil(totalQuestions * 0.7)) {
				message += " Great job! You're really getting the hang of this!";
			} else if (correctCount >= Math.ceil(totalQuestions * 0.5)) {
				message += " Good effort! Keep practicing and you'll improve in no time!";
			} else {
				message += " Don't give up! Every attempt helps you learn. Try again!";
			}

			// Add stage completion message if applicable
			if (isStageComplete) {
				message += "\n\n You've completed this stage. Moving to the next stage.";
			}

			showModal(message);
		}

		function initializeQuiz() {
			currentStage = 0;
			attempts = 0;
			updateProgressBar(); // This should now set the progress to 0%
			renderQuiz();
			document.getElementById("attempts").textContent = `Attempts: ${attempts}`;
			updateStageNumber();
		}

function updateProgressBar() {
    const progressBar = document.getElementById("progress-bar");
    const completedStages = currentStage;
    const progress = (completedStages / stageCount) * 100;
    const roundedProgress = Math.min(100, Math.max(0, Math.round(progress)));
    progressBar.style.width = `${roundedProgress}%`;
    progressBar.textContent = roundedProgress > 0 ? `${roundedProgress}%` : '';
    console.log(`Progress updated: ${roundedProgress}% (Stage ${currentStage + 1} of ${stageCount})`);
}

function updateStageNumber() {
    const stageElement = document.getElementById("stage-number");
    stageElement.textContent = `Stage ${currentStage + 1} of ${stageCount}`;
}

		function singleStageConfetti() {
			function randomInRange(min, max) {
				return Math.random() * (max - min) + min;
			}
			confetti({
				angle: randomInRange(55, 125),
				spread: randomInRange(50, 70),
				particleCount: randomInRange(50, 100),
				origin: { y: 0.6 },
			});
		}

		function allStagesConfetti() {
			const defaults = {
				spread: 360,
				ticks: 50,
				gravity: 0,
				decay: 0.94,
				startVelocity: 30,
				shapes: ["star"],
				colors: ["FFE400", "FFBD00", "E89400", "FFCA6C", "FDFFB8"],
			};
			function shoot() {
				confetti({
					...defaults,
					particleCount: 40,
					scalar: 1.2,
					shapes: ["star"],
				});
				confetti({
					...defaults,
					particleCount: 10,
					scalar: 0.75,
					shapes: ["circle"],
				});
			}
			setTimeout(shoot, 0);
			setTimeout(shoot, 100);
			setTimeout(shoot, 200);
		}

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
			    scrollToTopBtn.style.display = "none";
        }

        function initializeSwitch() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labelsContainer = switchElement.querySelector('.switch-labels');
            const switchContainer = document.getElementById('switchContainer');
            
            const activeStates = Object.keys(stateContents).filter(state => stateContents[state].trim() !== '');
            
            if (activeStates.length <= 1) {
                switchContainer.style.display = 'none';
                if (activeStates.length === 1) {
                    showContent(activeStates[0]);
                }
                return;
            }
            
            switchContainer.style.display = 'flex';
            
            activeStates.forEach((state, index) => {
                const label = document.createElement('div');
                label.className = 'switch-label';
                label.textContent = state;
                label.addEventListener('click', () => switchTab(index));
                labelsContainer.appendChild(label);
            });
   
            const defaultTab = manuallySetDefaultTab !== null && manuallySetDefaultTab < activeStates.length
                ? manuallySetDefaultTab
                : 0;

            switchTab(defaultTab);
        }

		let farmAnimals = [];

		function addAnimalsToFarm(count) {
			const animalFarm = document.getElementById('animalFarm');
			let availableAnimals = animals.filter(animal => !farmAnimals.includes(animal));

			console.log(`Adding ${count} animals to the farm. Current farm size: ${farmAnimals.length}`);

			for (let i = 0; i < count; i++) {
				if (availableAnimals.length === 0) {
					console.log("No more unique animals available!");
					break;
				}

				const randomIndex = Math.floor(Math.random() * availableAnimals.length);
				const chosenAnimal = availableAnimals[randomIndex];

				const animalElement = document.createElement('li');
				animalElement.textContent = chosenAnimal;
				animalFarm.appendChild(animalElement);

				farmAnimals.push(chosenAnimal);
				availableAnimals.splice(randomIndex, 1);
				console.log(`Added animal: ${chosenAnimal}`);
			}

			console.log(`Farm size after addition: ${farmAnimals.length}`);
			logAnimalFarmState();
		}

		function logAnimalFarmState() {
			console.log(`Current animal farm state: ${farmAnimals.length} animals`);
			console.log(farmAnimals);
		}

		const animals = [
			"🐉", "🐻", "🦗", "🦁", "🐔", "🦂", "🐟", "🐣", "🐯", "🦡",
			"🐰", "🐍", "🦅", "🐈", "🦈", "🦜", "🦛", "🐀", "🐑",
			"🐮", "🦇", "🐇", "🦖", "🦀", "🦎", "🐃", "🐡", "🐤",
			"🐪", "🦥", "🐛", "🐅", "🐥", "🐱", "🐺", "🐕", "🦩", "🐊",
			"🐖", "🐢", "🕷", "🦕", "🦌", "🐁", "🦨", "🦘", "🐵",
			"🦑", "🐋", "🦓", "🦒", "🐲", "🦆", "🦉", "🐶", "🐄", "🦟",
			"🦃", "🦧", "🦏", "🐙", "🐿", "🦢", "🐜", "🐦", "🐞",
			"🦐", "🦔", "🐼", "🦄", "🦞", "🐫", "🐭", "🐆", "🦝",
			"🐠", "🦚", "🐴", "🐏", "🦮", "🐐", "🐹", "🐎", "🦋", "🐳",
			"🐨", "🐂", "🦍", "🦙", "🐬", "🦦", "🦊", "🐌", "🐓", "🐧",
			"🐷", "🐩", "🐘", "🐸", "🐝"
		];

        function showModal(message) {
            const modal = document.getElementById("quizModal");
            const modalMessage = document.getElementById("modalMessage");
            const modalButton = document.getElementById("modalButton");
            const modalClose = document.getElementsByClassName("modal-quiz-close")[0];

            modalMessage.textContent = message;
            modal.style.display = "block";

            modalButton.onclick = function() {
                modal.style.display = "none";
            }

            modalClose.onclick = function() {
                modal.style.display = "none";
            }

            window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }
        }

		window.addEventListener('load', () => {
			initializeSwitch();
			initializeQuiz();
			adjustLayout();
        });

        window.addEventListener('resize', adjustLayout);

        // Load the copyright content from the external URL and insert it into the div
        fetch('http://ez42.live/global/copyright.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('copyright-container').innerHTML = data;
            })
            .catch(error => console.error('Error loading copyright:', error));
			
		let scrollToTopBtn = document.getElementById("scrollToTopBtn");

			window.onscroll = function() {
				// Check if the scroll distance is more than twice the height of the screen
				if (document.body.scrollTop > window.innerHeight * 1.5 || 
					document.documentElement.scrollTop > window.innerHeight * 1.5) {
					scrollToTopBtn.style.display = "block";
				} else {
					scrollToTopBtn.style.display = "none";
				}
			};

		scrollToTopBtn.onclick = function() {
		  document.body.scrollTop = 0;
		  document.documentElement.scrollTop = 0;
		};	
    </script>
</body>
</html>