<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ez42.live/global/analytics.js"></script>
    <script src="https://ez42.live/global/ads.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
 	<link rel="stylesheet" href="http://www.ez42.live/global/styles/styles-heb.css"> <!-- Link to external CSS file -->
    <link rel="icon" type="image/svg+xml" href="http://www.ez42.live/global/styles/ez42-icon.svg">
	<title>✅ EZ42 - זה קל</title>
 
</head> 
<body> 
    <div class="page-container">
        <div class="content-wrapper">
		
		<!--  Side Panel 1  -->
            <div id="sidePanel1" class="side-panel">
			<div class="logo-container">
				<a href="http://ez42.live" target="_blank" rel="noopener noreferrer">
					<img src="http://ez42.live/global/logo/logo.svg" alt="EZ42 Logo" class="logo-image">
				</a>
			</div>
                <h2>הוראות</h2>
			<ul>
																		<!--  PH1 - Instructions & Rules   -->	
                    <li>יש לקרוא כל שאלה/משפט בתשומת לב.</li>
                    <li>בחר/י את התשובה הנכונה ביותר מתוך התפריט הנפתח.</li>
                    <li>יש ללחוץ על בדיקת תשובות כשמוכנים!</li>
                    <li>יש להשלים את כל השאלות כדי לעבור לשלב הבא.</li>
                    <li>לאחר 5 ניסיונות, התשובות הנכונות יוצגו.</li>
                    <li>שיהיה כיף!</li>
                </ul>
            </div>
			
		<!--  Quiz Panel   -->
            <div id="quizContainer" class="quiz-container">
																			<!--  PH2 - Title  X  2 : A1 - 📗 Green, A2 - 📘 Blue, B1 - 📒 Yellow, 📙 Orange, 📔 Beige, 📓 Gray , 📕 Red-->		
                <h1>חיבור וחילוק עם מספרים גדולים</h1>
				
                <div id="switchContainer" class="switch-container">
                    <div id="multiStateSwitch" class="switch">
                        <div class="switch-labels"></div>
                        <div class="switch-handle"></div>
                    </div>
                </div>

                <div id="tabContent">
                    <!--PLACHOLDERFORNEWGAME-START-->

                    <!--PLACHOLDERFORNEWGAME-END-->
                </div>
            </div>
			
		<!--  Side Panel 2  -->
            <div id="sidePanel2" class="side-panel">
                <h2>חוות החיות</h2>
				<p>החווה שלך גדלה תוך כדי התקדמות! כל שלב מוסיף חיות חדשות לאוסף שלך.</p>
                <ul id="animalFarm" class="emoji-list">
                </ul>
            </div>
        </div>
    </div>
    <div id="copyright-container"></div>

    <!-- Modal -->
	<div id="quizModal" class="modal-quiz">
		<div class="modal-quiz-content">
			<span class="modal-quiz-close">&times;</span>
			<p id="modalMessage"></p>
			<button id="modalExplanationsButton" class="modal-quiz-button" style="display: none; background-color: #ff7f50;">צפה בהסברים</button>
			<button id="modalNextButton" class="modal-quiz-button">שלב הבא</button>
		</div>
	</div>

	<button id="scrollToTopBtn" title="Go to top">↑</button>
    <script>
        let isQuizExpanded = false;
        let allowQuizExpansion = true;

        let attempts = 0;
        let currentStage = 0;

        const manuallySetDefaultTab = 0;

															//  PH3 - Quiz Data 
        const quizData = [ 												   	
				{
				  "stages": [
//-------------------------------------------------------------------------------------------------------------------	
// Stage 1
{
  "text": "שרה לומדת לחבר מספרים בת שלושה ספרות. היא יודעת שזה חשוב ליישר את הספרות בעמודות ערכי המקום הנכונים.",
  "questions": [
    // Question 1.1
    {
      "question": "מהו 234 + 345?",
      "options": ["579", "569", "589", "679", "בוא נשאל את פיית הקלקלטר"],
      "answer": "579",
      "explanation": "חיבור הספרות בכל ערך מקום: 4+5=9 באחדות, 3+4=7 בעשרות, 2+3=5 במאות."
    },
    // Question 1.2
    {
      "question": "כאשר מחברים 156 + 327, מה הערך בעמודת העשרות של התשובה?",
      "options": ["7", "3", "8", "5", "סגול"],
      "answer": "8",
      "explanation": "7+6=13 בעמודת האחדות, כך 1 מועבר לעמודת העשרות. נשאר לנו 5+2+1=8."
    },
    // Question 1.3
    {
      "question": "מה סכום 425 + 238?",
      "options": ["663", "653", "673", "563", "מיליון!"],
      "answer": "663",
      "explanation": "חיבור כל ערך מקום: 5+8=13 (העברה 1), 2+3+1=6, 4+2=6. התוצאה היא 663."
    },
    // Question 1.4
    {
      "question": "ב-372 + 248 = 620, איזה ספרה מועברת לעמודת המאות?",
      "options": ["1", "2", "3", "0", "פיל זעיר"],
      "answer": "1",
      "explanation": "7+4=11 בעמודת העשרות, כך 1 מועבר לעמודת המאות."
    },
    // Question 1.5
    {
      "question": "מהו 462 + 159?",
      "options": ["621", "631", "521", "721", "שאל את הסלע המחמד שלך"],
      "answer": "621",
      "explanation": "2+9=11 (העברה 1), 6+5+1=12 (העברה 1), 4+1+1=6. התוצאה היא 621."
    }
  ]
},
// Stage 2
{
  "text": "אלכס מתרגל חיבור מספרים עם העברה (קיבוץ). המורה שלו אומר שזה חשוב לזכור להעביר מספרים כשנדרש.",
  "questions": [
    // Question 2.1
    {
      "question": "מהו 578 + 456?",
      "options": ["1034", "934", "1024", "944", "באזיליון"],
      "answer": "1034",
      "explanation": "8+6=14 (העברה 1), 7+5+1=13 (העברה 1), 5+4+1=10. התוצאה היא 1034."
    },
    // Question 2.2
    {
      "question": "ב-645 + 378, כמה פעמים צריך להעביר מספר?",
      "options": ["2", "1", "3", "0", "כמו שיכולות האוניקורנים לספור"],
      "answer": "3",
      "explanation": "העברה מעמודת האחדות (5+8=13), מעמודת העשרות (4+7+1=12) ומאות (6+3+1=10)."
    },
    // Question 2.3
    {
      "question": "מהו 789 + 567?",
      "options": ["1356", "1256", "1456", "1346", "אינסוף ועוד אחד"],
      "answer": "1356",
      "explanation": "9+7=16 (העברה 1), 8+6+1=15 (העברה 1), 7+5+1=13. התוצאה היא 1356."
    },
    // Question 2.4
    {
      "question": "מהו סכום 847 + 385?",
      "options": ["1232", "1222", "1322", "1132", "יותר מכל הכוכבים"],
      "answer": "1232",
      "explanation": "7+5=12 (העברה 1), 4+8+1=13 (העברה 1), 8+3+1=12. התוצאה היא 1232."
    },
    // Question 2.5
    {
      "question": "ב-956 + 289, איזה ספרה תהיה בעמודת העשרות?",
      "options": ["4", "5", "3", "2", "התשובה היא בננה"],
      "answer": "4",
      "explanation": "6+8=14 (העברה 1), 5+8+1=14. ה-4 נשאר בעמודת העשרות."
    }
  ]
},
// Stage 3
{
  "text": "מריה לומדת על חילוק עם מספרים בת שתי ספרות. היא יודעת שהבנת ערכי המקום עוזרת לפרק בעיות גדולות.",
  "questions": [
    // Question 3.1
    {
      "question": "מהו 84 ÷ 12?",
      "options": ["7", "8", "6", "9", "סנדיי שוקולד"],
      "answer": "7",
      "explanation": "12 נכנס ל-84 שבע פעמים (12 × 7 = 84)."
    },
    // Question 3.2
    {
      "question": "מה המנה של 96 ÷ 8?",
      "options": ["12", "11", "13", "10", "כמו שיכולות העננים בשמיים"],
      "answer": "12",
      "explanation": "8 × 12 = 96, אז 96 ÷ 8 = 12."
    },
    // Question 3.3
    {
      "question": "מהו 72 ÷ 6?",
      "options": ["12", "11", "13", "10", "יותר ממה שסלוט חש"],
      "answer": "12",
      "explanation": "6 × 12 = 72, אז 72 ÷ 6 = 12."
    },
    // Question 3.4
    {
      "question": "אם 15 × ___ = 90, מה הולך למקום הריק?",
      "options": ["6", "7", "5", "8", "פינגווין רוקד"],
      "answer": "6",
      "explanation": "90 ÷ 15 = 6, כי 15 × 6 = 90."
    },
    // Question 3.5
    {
      "question": "מהו 108 ÷ 9?",
      "options": ["12", "11", "13", "14", "שאל את העפרון האהוב עליך"],
      "answer": "12",
      "explanation": "9 × 12 = 108, אז 108 ÷ 9 = 12."
    }
  ]
},
// Stage 4
{
  "text": "תום מתרגל חילוק עם שאריות. המורה שלו מסביר שלפעמים חילוק לא מניב מספר שלם.",
  "questions": [
    // Question 4.1
    {
      "question": "מהו 95 ÷ 8?",
      "options": ["11 R7", "11 R8", "12 R7", "11 R6", "מיליון עוגיות"],
      "answer": "11 R7",
      "explanation": "8 × 11 = 88, עם 7 שנותר. אז זה 11 שארית 7."
    },
    // Question 4.2
    {
      "question": "מה השארית כאשר 67 מחולק ב-9?",
      "options": ["4", "5", "3", "6", "כמו כוכבים בעיניים שלי"],
      "answer": "4",
      "explanation": "9 × 7 = 63, עם 4 שנותר (67 - 63 = 4)."
    },
    // Question 4.3
    {
      "question": "מהו 137 ÷ 12?",
      "options": ["11 R5", "11 R4", "12 R5", "11 R6", "יותר מעץ יכול לספור"],
      "answer": "11 R5",
      "explanation": "12 × 11 = 132, עם 5 שנותר (137 - 132 = 5)."
    },
    // Question 4.4
    {
      "question": "ב-156 ÷ 14, מהי המנה והשארית?",
      "options": ["11 R2", "11 R3", "10 R16", "11 R4", "שאל את קוסם החילוק"],
      "answer": "11 R2",
      "explanation": "14 × 11 = 154, עם 2 שנותר (156 - 154 = 2)."
    },
    // Question 4.5
    {
      "question": "מהו 203 ÷ 15?",
      "options": ["13 R8", "13 R7", "14 R8", "13 R9", "אינסוף ועוד שתיים"],
      "answer": "13 R8",
      "explanation": "15 × 13 = 195, עם 8 שנותר (203 - 195 = 8)."
    }
  ]
},
// Stage 5
{
  "text": "אמה עובדת על בעיות חיבור מורכבות שכוללות מספרים רבים והעברות.",
  "questions": [
    // Question 5.1
    {
      "question": "מהו 347 + 285 + 163?",
      "options": ["795", "785", "805", "775", "יותר מכל הדגים בים"],
      "answer": "795",
      "explanation": "חיבור שני המספרים הראשונים (347 + 285 = 632), ואז מוסיפים 163 לקבלת 795."
    },
    // Question 5.2
    {
      "question": "ב-456 + 378 + 289, כמה פעמים מעבירים מספר?",
      "options": ["4", "3", "5", "2", "כמו טיפות הגשם בבור"],
      "answer": "3",
      "explanation": "העברות מתרחשות באחדות, בעשרות ובמאות."
    },
    // Question 5.3
    {
      "question": "מהו 624 + 897 + 235?",
      "options": ["1756", "1656", "1856", "1766", "יותר מאוסף הצעצועים שלי"],
      "answer": "1756",
      "explanation": "חיבור שני המספרים הראשונים (624 + 897 = 1521), ואז מוסיפים 235 לקבלת 1756."
    },
    // Question 5.4
    {
      "question": "מהו סכום 789 + 456 + 378?",
      "options": ["1623", "1523", "1723", "1633", "גדול יותר מארוחת הצהריים של דינוזור"],
      "answer": "1623",
      "explanation": "חיבור שני המספרים הראשונים (789 + 456 = 1245), ואז מוסיפים 378 לקבלת 1623."
    },
    // Question 5.5
    {
      "question": "חשב 912 + 645 + 867.",
      "options": ["2424", "2324", "2524", "2414", "כמו רקטה יכולה לעוף"],
      "answer": "2424",
      "explanation": "חיבור שני המספרים הראשונים (912 + 645 = 1557), ואז מוסיפים 867 לקבלת 2424."
    }
  ]
},
// Stage 6
{
  "text": "פיטר לומד על חילוק עם מספרים גדולים יותר. הוא מגלה שפריקת מספרים גדולים עושה את החילוק קל יותר.",
  "questions": [
    // Question 6.1
    {
      "question": "מהו 224 ÷ 16?",
      "options": ["14", "13", "15", "12", "כמו עננים יכולים לספור"],
      "answer": "14",
      "explanation": "16 × 14 = 224, אז 224 ÷ 16 = 14."
    },
    // Question 6.2
    {
      "question": "מהו 288 ÷ 24?",
      "options": ["12", "11", "13", "14", "יותר מ-ספריית ספרים"],
      "answer": "12",
      "explanation": "24 × 12 = 288, אז 288 ÷ 24 = 12."
    },
    // Question 6.3
    {
      "question": "מהו 336 ÷ 21?",
      "options": ["16", "15", "17", "14", "שאל את פיית המתמטיקה"],
      "answer": "16",
      "explanation": "21 × 16 = 336, אז 336 ÷ 21 = 16."
    },
    // Question 6.4
    {
      "question": "מהו 425 ÷ 25?",
      "options": ["17", "16", "18", "15", "יותר מכל הגרביים שלי"],
      "answer": "17",
      "explanation": "25 × 17 = 425, אז 425 ÷ 25 = 17."
    },
    // Question 6.5
    {
      "question": "מהו 392 ÷ 28?",
      "options": ["14", "13", "15", "16", "מיליון מיליארד!"],
      "answer": "14",
      "explanation": "28 × 14 = 392, אז 392 ÷ 28 = 14."
    }
  ]
},
// Stage 7
{
  "text": "ליסה מתרגלת בעיות חילוק עם מחלקים ומחולקים גדולים יותר. היא צריכה להיות זהירה בחישובים שלה.",
  "questions": [
    // Question 7.1
    {
      "question": "מהו 445 ÷ 15?",
      "options": ["29 R10", "29 R15", "30 R5", "28 R15", "יותר מכוכבים בשמיים"],
      "answer": "29 R10",
      "explanation": "15 × 29 = 435, עם 10 שנותר (445 - 435 = 10)."
    },
    // Question 7.2
    {
      "question": "מהו 517 ÷ 24?",
      "options": ["21 R13", "21 R14", "22 R13", "21 R15", "שאל את ג'יני החילוק"],
      "answer": "21 R13",
      "explanation": "24 × 21 = 504, עם 13 שנותר (517 - 504 = 13)."
    },
    // Question 7.3
    {
      "question": "מהי השארית כאשר 623 מחולק ב-35?",
      "options": ["28", "27", "29", "26", "כמו דגים יכולים לשחות"],
      "answer": "28",
      "explanation": "35 × 17 = 595, עם 28 שנותר (623 - 595 = 28)."
    },
    // Question 7.4
    {
      "question": "מהו 756 ÷ 32?",
      "options": ["23 R20", "23 R22", "24 R20", "23 R18", "אינסוף כפול שתיים"],
      "answer": "23 R20",
      "explanation": "32 × 23 = 736, עם 20 שנותר (756 - 736 = 20)."
    },
    // Question 7.5
    {
      "question": "מהו 891 ÷ 45?",
      "options": ["19 R36", "19 R35", "20 R36", "19 R34", "יותר עלים על עץ"],
      "answer": "19 R36",
      "explanation": "45 × 19 = 855, עם 36 שנותר (891 - 855 = 36)."
    }
  ]
},
// Stage 8
{
  "text": "ג'יימס עובד על בעיות חיבור עם מספרים בארבע ספרות. הוא צריך להיות זהיר במיוחד עם ערכי המקום והעברות.",
  "questions": [
    // Question 8.1
    {
      "question": "מהו 3456 + 2789?",
      "options": ["6245", "6345", "6145", "6445", "לאינסוף והלאה!"],
      "answer": "6245",
      "explanation": "חיבור כל ערך מקום עם העברות נותן 6245."
    },
    // Question 8.2
    {
      "question": "ב-4567 + 3899, איזו ספרה תהיה בעמודת המאות?",
      "options": ["4", "3", "5", "6", "כמו עננים בשמיים"],
      "answer": "4",
      "explanation": "6+9=15, העברה 1; 6+9+1=16, העברה 1; 5+8+1=14, מניחים 4 במאות."
    },
    // Question 8.3
    {
      "question": "מהו 5678 + 4567?",
      "options": ["10245", "10345", "10145", "10445", "יותר מכל תוספות הפיצה"],
      "answer": "10245",
      "explanation": "חיבור כל ערך מקום עם העברות נותן 10245."
    },
    // Question 8.4
    {
      "question": "מהו 6789 + 5678?",
      "options": ["12467", "12567", "12367", "12667", "בזיליון ואחת"],
      "answer": "12467",
      "explanation": "חיבור כל ערך מקום עם העברות נותן 12467."
    },
    // Question 8.5
    {
      "question": "ב-7890 + 6789, כמה פעמים צריך להעביר?",
      "options": ["4", "3", "5", "2", "כמו פילים יכולים לקפוץ"],
      "answer": "4",
      "explanation": "העברות מתרחשות באחדות, בעשרות, במאות ובאלפים."
    }
  ]
},
// Stage 9
{
  "text": "סופיה חוקרת בעיות חילוק שבהן עליה לעבוד עם מספרים גדולים יותר ולפרש שאריות.",
  "questions": [
    // Question 9.1
    {
      "question": "מהו 1234 ÷ 45?",
      "options": ["27 R19", "27 R18", "28 R19", "27 R20", "יותר משלגונים בחורף"],
      "answer": "27 R19",
      "explanation": "45 × 27 = 1215, עם 19 שנותר (1234 - 1215 = 19)."
    },
    // Question 9.2
    {
      "question": "מהו 1567 ÷ 52?",
      "options": ["30 R7", "30 R8", "31 R7", "29 R7", "שאל את מאסטר החילוק"],
      "answer": "30 R7",
      "explanation": "52 × 30 = 1560, עם 7 שנותר (1567 - 1560 = 7)."
    },
    // Question 9.3
    {
      "question": "מהו 1892 ÷ 63?",
      "options": ["30 R2", "29 R2", "30 R3", "31 R2", "יותר מציפורים יכולות לספור"],
      "answer": "30 R2",
      "explanation": "63 × 30 = 1890, עם 2 שנותר (1892 - 1890 = 2)."
    },
    // Question 9.4
    {
      "question": "מהו 2145 ÷ 75?",
      "options": ["28 R45", "28 R35", "29 R45", "28 R55", "בזיליון ועוד אחת"],
      "answer": "28 R45",
      "explanation": "75 × 28 = 2100, עם 45 שנותר (2145 - 2100 = 45)."
    },
    // Question 9.5
    {
      "question": "מהו המנה של 2356 ÷ 82?",
      "options": ["28 R60", "29 R72", "28 R82", "27 R72", "יותר מכוכבים בצהריים"],
      "answer": "28 R60",
      "explanation": "82 × 28 = 2296, עם 60 שנותר (2356 - 2296 = 60)."
    }
  ]
},
// Stage 10
{
  "text": "מיכאל עובד על בעיות חיבור מורכבות עם מספרים בארבע ספרות רבות. הוא צריך להיות מאוד מאורגן בחישובים שלו.",
  "questions": [
    // Question 10.1
    {
      "question": "מהו 2345 + 3456 + 4567?",
      "options": ["10368", "10468", "10268", "10568", "כל גרגירי החול"],
      "answer": "10368",
      "explanation": "חיבור שני המספרים הראשונים (2345 + 3456 = 5801), ואז מוסיפים 4567 לקבלת 10368."
    },
    // Question 10.2
    {
      "question": "מהו 3456 + 4567 + 5678?",
      "options": ["13701", "13601", "13801", "13901", "יותר מטיפות הגשם בסערה"],
      "answer": "13701",
      "explanation": "חיבור שני המספרים הראשונים (3456 + 4567 = 8023), ואז מוסיפים 5678 לקבלת 13701."
    },
    // Question 10.3
    {
      "question": "ב-4567 + 5678 + 6789, איזו ספרה תהיה בעמודת האלפים?",
      "options": ["7", "6", "8", "5", "כמו כמה חלומות יכולים לעוף"],
      "answer": "7",
      "explanation": "חיבור כל ערך מקום עם העברות מניחים 7 בעמודת האלפים."
    },
    // Question 10.4
    {
      "question": "מהו 5678 + 6789 + 7890?",
      "options": ["20357", "20457", "20257", "20557", "אינסוף כפול אינסוף"],
      "answer": "20357",
      "explanation": "חיבור שני המספרים הראשונים (5678 + 6789 = 12467), ואז מוסיפים 7890 לקבלת 20357."
    },
    // Question 10.5
    {
      "question": "חשב 6789 + 7890 + 8901.",
      "options": ["23580", "23480", "23680", "23780", "יותר מכל הספרים אי פעם"],
      "answer": "23580",
      "explanation": "חיבור שני המספרים הראשונים (6789 + 7890 = 14679), ואז מוסיפים 8901 לקבלת 23580."
    }
  ]
},
// Stage 11
{
  "text": "נינה פותרת בעיות חילוק מורכבות עם מספרים גדולים יותר ופרשנות שאריות בהקשר.",
  "questions": [
    // Question 11.1
    {
      "question": "אם 2789 מדבקות נארזות בקופסאות של 65, כמה קופסאות מלאות ניתן להכין?",
      "options": ["42", "43", "41", "44", "כמו פרפרים יכולים לעוף"],
      "answer": "42",
      "explanation": "2789 ÷ 65 = 42 R59, אז ניתן להכין 42 קופסאות מלאות."
    },
    // Question 11.2
    {
      "question": "3456 תלמידים צריכים להתחלק לקבוצות של 48 לסיור בשטח. כמה קבוצות שלמות ניתן ליצור?",
      "options": ["72", "71", "73", "70", "יותר מעננים בשמיים"],
      "answer": "72",
      "explanation": "3456 ÷ 48 = 72, יוצרים 72 קבוצות שלמות."
    },
    // Question 11.3
    {
      "question": "אם 4123 סוכריות מחולקות שווה לשווה בין 85 ילדים, כמה סוכריות יישארו?",
      "options": ["43", "47", "49", "46", "מיליון ועוד אחת"],
      "answer": "43",
      "explanation": "4123 ÷ 85 = 48 R43, אז 43 סוכריות נשארות."
    },
    // Question 11.4
    {
      "question": "5278 כדורים נארזים בשקיות של 95. כמה כדורים יהיו בשקית הלא מלאה האחרונה?",
      "options": ["53", "52", "54", "51", "שאל את מכשף הכדורים"],
      "answer": "53",
      "explanation": "5278 ÷ 95 = 55 R53, אז 53 כדורים בשקית האחרונה."
    },
    // Question 11.5
    {
      "question": "6342 ספרים מונחים על מדפים המכילים 78 ספרים כל אחד. כמה מדפים שלמים ניתן למלא?",
      "options": ["81", "80", "82", "79", "יותר מעצים ביער"],
      "answer": "81",
      "explanation": "6342 ÷ 78 = 81 R24, אז 81 מדפים שלמים."
    }
  ]
},
// Stage 12
{
  "text": "דוד עובד על בעיות חיבור שכוללות מספרים רבים עם ערכי מקום שונים.",
  "questions": [
    // Question 12.1
    {
      "question": "מהו 3567 + 789 + 4512?",
      "options": ["8868", "8968", "8768", "8668", "לאינסוף והלאה פעמיים"],
      "answer": "8868",
      "explanation": "חיבור שני המספרים הראשונים (3567 + 789 = 4356), ואז מוסיפים 4512 לקבלת 8868."
    },
    // Question 12.2
    {
      "question": "חשב 2345 + 567 + 8901.",
      "options": ["11813", "11713", "11913", "11613", "יותר מכוכבים בחצות"],
      "answer": "11813",
      "explanation": "חיבור שני המספרים הראשונים (2345 + 567 = 2912), ואז מוסיפים 8901 לקבלת 11813."
    },
    // Question 12.3
    {
      "question": "מהו 6789 + 234 + 5678?",
      "options": ["12701", "12601", "12801", "12901", "כל הדגים באוקיינוס"],
      "answer": "12701",
      "explanation": "חיבור שני המספרים הראשונים (6789 + 234 = 7023), ואז מוסיפים 5678 לקבלת 12701."
    },
    // Question 12.4
    {
      "question": "ב-4567 + 891 + 2345, איזו ספרה תהיה בעמודת המאות?",
      "options": ["7", "8", "6", "9", "כמו כמה קשתות יכולות לזהור"],
      "answer": "8",
      "explanation": "חיבור כל ערך מקום עם העברות מניחים 8 בעמודת המאות."
    },
    // Question 12.5
    {
      "question": "מהו 7890 + 123 + 4567?",
      "options": ["12580", "12480", "12680", "12780", "יותר מכל חלומות יכולים לספור"],
      "answer": "12580",
      "explanation": "חיבור שני המספרים הראשונים (7890 + 123 = 8013), ואז מוסיפים 4567 לקבלת 12580."
    }
  ]
},
// Stage 13
{
  "text": "אמה פותרת בעיות חילוק מורכבות שבהן עליה לחשוב על כפולות וחלקים.",
  "questions": [
    // Question 13.1
    {
      "question": "מהו 3876 ÷ 126?",
      "options": ["30 R96", "31 R96", "30 R86", "29 R96", "שאל את גיבור העל החילוק"],
      "answer": "30 R96",
      "explanation": "126 × 30 = 3780, עם 96 שנותר (3876 - 3780 = 96)."
    },
    // Question 13.2
    {
      "question": "מהו 4532 ÷ 142?",
      "options": ["31 R130", "32 R130", "31 R120", "30 R130", "יותר מעלים יכולים לנשור"],
      "answer": "31 R130",
      "explanation": "142 × 31 = 4402, עם 130 שנותר (4532 - 4402 = 130)."
    },
    // Question 13.3
    {
      "question": "מהי המנה של 5628 ÷ 156?",
      "options": ["36", "35", "37", "34", "אינסוף ועוד שלוש"],
      "answer": "36",
      "explanation": "156 × 36 = 5628, אז 5628 ÷ 156 = 36."
    },
    // Question 13.4
    {
      "question": "מהו 6744 ÷ 168?",
      "options": ["40 R24", "41 R24", "40 R34", "39 R24", "יותר משלגונים יכולים לרקוד"],
      "answer": "40 R24",
      "explanation": "168 × 40 = 6720, עם 24 שנותר (6744 - 6720 = 24)."
    },
    // Question 13.5
    {
      "question": "מהו 7896 ÷ 192?",
      "options": ["41 R24", "42 R24", "41 R34", "40 R24", "כל העוגיות בצנצנת"],
      "answer": "41 R24",
      "explanation": "192 × 41 = 7872, עם 24 שנותר (7896 - 7872 = 24)."
    }
  ]
},
// Stage 14
{
  "text": "לוקס מתרגל חיבור עם מספרים גדולים רבים הדורשים תשומת לב מדויקת לערכי המקום והעברות.",
  "questions": [
    // Question 14.1
    {
      "question": "מהו 5678 + 1234 + 9012 + 3456?",
      "options": ["19380", "19280", "19480", "19580", "יותר ממולקולות בתוך כריך"],
      "answer": "19380",
      "explanation": "חיבור מספרים בזוגות (5678 + 1234 = 6912) ואז (9012 + 3456 = 12468), סך הכל 6912 + 12468 = 19380."
    },
    // Question 14.2
    {
      "question": "חשב 4321 + 8765 + 2109 + 5432.",
      "options": ["20627", "20527", "20727", "20827", "לירח וחזרה"],
      "answer": "20627",
      "explanation": "חיבור מספרים בזוגות (4321 + 8765 = 13086) ואז (2109 + 5432 = 7541), סך הכל 13086 + 7541 = 20627."
    },
    // Question 14.3
    {
      "question": "מהו 7890 + 2345 + 6789 + 1234?",
      "options": ["18258", "18358", "18158", "18458", "כל הכוכבים בגלקסיה"],
      "answer": "18258",
      "explanation": "חיבור מספרים בזוגות (7890 + 2345 = 10235) ואז (6789 + 1234 = 8023), סך הכל 10235 + 8023 = 18258."
    },
    // Question 14.4
    {
      "question": "ב-3456 + 7890 + 1234 + 5678, כמה פעמים צריך להעביר מספר?",
      "options": ["7", "6", "8", "5", "כמו דולפינים יכולים לשחות"],
      "answer": "7",
      "explanation": "העברות מתרחשות שבע פעמים בכלל ערכי המקום."
    },
    // Question 14.5
    {
      "question": "מהו 9012 + 3456 + 7890 + 1234?",
      "options": ["21592", "21492", "21692", "21792", "יותר משאלות בארמון המים"],
      "answer": "21592",
      "explanation": "חיבור מספרים בזוגות (9012 + 3456 = 12468) ואז (7890 + 1234 = 9124), סך הכל 12468 + 9124 = 21592."
    }
  ]
},
// Stage 15
{
  "text": "שרה פותרת בעיות חילוק מורכבות עם מספרים גדולים יותר ופרשנות שאריות בהקשר.",
  "questions": [
    // Question 15.1
    {
      "question": "8456 עוגיות צריכות להיארז בקופסאות של 225. כמה קופסאות שלמות ניתן למלא?",
      "options": ["37", "38", "36", "39", "כמו כוכבים יכולים לנצנץ"],
      "answer": "37",
      "explanation": "8456 ÷ 225 = 37 R131, אז 37 קופסאות שלמות."
    },
    // Question 15.2
    {
      "question": "9324 תלמידים מחולקים לקבוצות של 246 לסיור בשטח. כמה תלמידים יהיו בקבוצה הלא שלמה?",
      "options": ["138", "128", "148", "222", "יותר מציפורים על חוט"],
      "answer": "222",
      "explanation": "9324 ÷ 246 = 37 R222, אז 222 תלמידים בקבוצה האחרונה."
    },
    // Question 15.3
    {
      "question": "מהו 7632 ÷ 212?",
      "options": ["36", "35", "37", "34", "מיליון מיליארד טריליון"],
      "answer": "36",
      "explanation": "212 × 36 = 7632, אז 7632 ÷ 212 = 36."
    },
    // Question 15.4
    {
      "question": "אם 8964 כדורים נארזים בשקיות של 235, כמה כדורים יישארו?",
      "options": ["34", "38", "199", "169", "יותר מכמו עננים יכולים לעוף"],
      "answer": "34",
      "explanation": "8964 ÷ 235 = 38 R34, אז 34 כדורים נשארים."
    },
    // Question 15.5
    {
      "question": "9876 ספרים מונחים על מדפים המכילים 274 ספרים כל אחד. כמה מדפים שלמים ניתן למלא?",
      "options": ["36", "35", "37", "34", "שאל את פיית המדפים"],
      "answer": "36",
      "explanation": "9876 ÷ 274 = 36 R12, אז 36 מדפים שלמים."
    }
  ]
},
// Stage 16
{
  "text": "מרקוס פותר בעיות מורכבות שמשלבות חיבור וחילוק. הוא צריך לעבוד בזהירות ולבדוק את החישובים שלו.",
  "questions": [
    // Question 16.1
    {
      "question": "מהו (3456 + 2789) ÷ 156?",
      "options": ["40", "39", "41", "38", "יותר מכוכבים יכולים לרקוד"],
      "answer": "40",
      "explanation": "3456 + 2789 = 6245, ואז 6245 ÷ 156 = 40 R5."
    },
    // Question 16.2
    {
      "question": "ב-(5678 + 4321) ÷ 212, מהי השארית?",
      "options": ["35", "149", "169", "179", "שאל את מכשף החישוב"],
      "answer": "35",
      "explanation": "5678 + 4321 = 9999, ואז 9999 ÷ 212 = 47 R35."
    },
    // Question 16.3
    {
      "question": "מהו (4567 + 3459 + 2345) ÷ 184?",
      "options": ["56 R67", "55 R121", "56 R131", "57 R121", "אינסוף כפול פיצה"],
      "answer": "56 R67",
      "explanation": "4567 + 3459 + 2345 = 10371, ואז 10371 ÷ 184 = 56 R67."
    },
    // Question 16.4
    {
      "question": "חשב (6789 + 5432) ÷ 244.",
      "options": ["50", "49", "51", "48", "כמו כמה עלים יכולים לגדול"],
      "answer": "50",
      "explanation": "6789 + 5432 = 12221, ואז 12221 ÷ 244 = 50 R21."
    },
    // Question 16.5
    {
      "question": "מהי המנה של (7890 + 6543 + 2109) ÷ 292?",
      "options": ["56 R190", "57 R196", "56 R186", "55 R196", "יותר מחלומות יכולים לעוף"],
      "answer": "56 R190",
      "explanation": "7890 + 6543 + 2109 = 16542, ואז 16542 ÷ 292 = 56 R190."
    }
  ]
},
// Stage 17
{
  "text": "אוליביה עובדת על בעיות מילוליות מאתגרות שדורשות צעדים רבים ותשומת לב מדויקת לפרטים.",
  "questions": [
    // Question 17.1
    {
      "question": "בית ספר אסף 3567 ו-2891 ספרים משתי מסעות ספרים. אם הם רוצים לחלק אותם שווה בשווה ל-128 כיתות, כמה ספרים כל כיתה תקבל?",
      "options": ["50", "49", "51", "48", "כמו כמה ספרנים יכולים לספור"],
      "answer": "50",
      "explanation": "3567 + 2891 = 6458, ואז 6458 ÷ 128 = 50 R58."
    },
    // Question 17.2
    {
      "question": "שלוש מפעלים ייצרו 4532, 3678, ו-2945 חלקים. אם הם נארזים בקופסאות של 223 חלקים כל אחת, כמה קופסאות שלמות ניתן למלא?",
      "options": ["50", "49", "51", "48", "יותר מכמו נמלים יכולות לשאת"],
      "answer": "50",
      "explanation": "4532 + 3678 + 2945 = 11155, ואז 11155 ÷ 223 = 50 R5."
    },
    // Question 17.3
    {
      "question": "ספר חנות קיבלה 5678 ספרים ביום שני ו-4321 ביום שלישי. אם הם נארזים בשקיות של 156 ספרים, כמה ספרים יישארו?",
      "options": ["15", "123", "25", "5", "מתוק כמו אינסוף"],
      "answer": "15",
      "explanation": "5678 + 4321 = 9999, ואז 9999 ÷ 156 = 64 R15."
    },
    // Question 17.4
    {
      "question": "שלוש בתי ספר אספו 3456, 2789, ו-4567 פחיות למחזור. אם הם נארזים בקופסאות של 215 פחיות כל אחת, כמה קופסאות שלמות ניתן ליצור?",
      "options": ["50", "49", "51", "48", "יותר מעצים יש להם עלים"],
      "answer": "50",
      "explanation": "3456 + 2789 + 4567 = 10812, ואז 10812 ÷ 215 = 50 R62."
    },
    // Question 17.5
    {
      "question": "שני גנים ייצרו 6789 ו-5432 פרחים. אם הם מסודרים בזריות של 244 פרחים כל אחת, כמה זריות ניתן ליצור?",
      "options": ["50", "49", "51", "48", "כמו כמה דבורים יכולות לזמר"],
      "answer": "50",
      "explanation": "6789 + 5432 = 12221, ואז 12221 ÷ 244 = 50 R21."
    }
  ]
},
// Stage 18
{
  "text": "צ'ארלי פותר בעיות מתקדמות עם מספר צעדים הכוללות חיבור וחילוק של מספרים גדולים.",
  "questions": [
    // Question 18.1
    {
      "question": "מהו ((4567 + 3891) + (2345 + 1789)) ÷ 168?",
      "options": ["74 R160", "75 R160", "76 R160", "73 R160", "יותר מכמו עננים ביקום"],
      "answer": "74 R160",
      "explanation": "ראשית, חישוב הסכומים: 4567 + 3891 = 8458 ו-2345 + 1789 = 4134. חיבור התוצאות נותן 8458 + 4134 = 12592. חילוק 12592 ב-168 מניב מנה של 74 עם שארית 160 (כי 168 × 74 = 12432 ו-12592 - 12432 = 160). לכן, התשובה הנכונה היא **74 R160**."
    },
    
    // Question 18.2
    {
      "question": "חשב ((5678 + 4321) + (3456 + 2789)) ÷ 234.",
      "options": ["69 R98", "70 R98", "69 R88", "68 R98", "שאל את פיית החישוב"],
      "answer": "69 R98",
      "explanation": "ראשית, חשב את הסכומים האישיים: 5678 + 4321 = 9999 ו-3456 + 2789 = 6245. חיבור אלו נותן 9999 + 6245 = 16244. חילוק 16244 ב-234 מניב מנה של 69 עם שארית 98 (כי 234 × 69 = 16146 ו-16244 - 16146 = 98). לכן, התשובה הנכונה היא **69 R98**."
    },
    
    // Question 18.3
    {
      "question": "מהו ((7890 + 6543) + (5432 + 4321)) ÷ 312?",
      "options": ["77 R162", "76 R162", "78 R162", "77 R266", "אינסוף ועוד פנקייקס"],
      "answer": "77 R162",
      "explanation": "חשב את הסכומים: 7890 + 6543 = 14433 ו-5432 + 4321 = 9753. חיבור התוצאות נותן 14433 + 9753 = 24186. חילוק 24186 ב-312 מניב מנה של 77 עם שארית 162 (כי 312 × 77 = 24024 ו-24186 - 24024 = 162). לכן, התשובה הנכונה היא **77 R162**."
    },
    
    // Question 18.4
    {
      "question": "ב-((8901 + 7654) + (6543 + 5432)) ÷ 356, מהי השארית?",
      "options": ["50", "174", "194", "164", "יותר מכוכבים יכולים לזהור"],
      "answer": "50",
      "explanation": "ראשית, חשב את הסכומים: 8901 + 7654 = 16555 ו-6543 + 5432 = 11975. חיבור אלו נותן 16555 + 11975 = 28530. חילוק 28530 ב-356 מניב מנה של 80 עם שארית 50 (כי 356 × 80 = 28480 ו-28530 - 28480 = 50). לכן, השארית הנכונה היא **50**."
    },
    
    // Question 18.5
    {
      "question": "מהו ((9012 + 8765) + (7654 + 6543)) ÷ 428?",
      "options": ["74 R302", "75 R302", "74 R354", "73 R364", "כמו רקטות יכולות לעוף"],
      "answer": "74 R302",
      "explanation": "חשב את הסכומים האישיים: 9012 + 8765 = 17777 ו-7654 + 6543 = 14197. חיבור התוצאות נותן 17777 + 14197 = 31974. חילוק 31974 ב-428 מניב מנה של 74 עם שארית 302 (כי 428 × 74 = 31672 ו-31974 - 31672 = 302). לכן, התשובה הנכונה היא **74 R302**."
    }
  ]
},
// Stage 19
{
  "text": "איזבלה עובדת על בעיות מילוליות מאתגרות שדורשות צעדים רבים ותשומת לב מדויקת לפרטים.",
  "questions": [
    // Question 19.1
    {
      "question": "מפעל אסף 3456 חלקים ביום שני, 2789 ביום שלישי, ו-4567 ביום רביעי. אם החלקים נארזים בקופסאות של 168 חלקים כל אחת, וכאשר כל קופסה נשלחת לחנות אחרת, כמה חנויות יקבלו קופסה שלמה?",
      "options": ["64", "63", "65", "62", "יותר מדגים יכולים לספור"],
      "answer": "64",
      "explanation": "ראשית, חשב את סך כל החלקים: 3456 + 2789 + 4567 = 10812. ואז, חילוק ב-168 נותן מנה של 64 עם שארית 60. לכן, **64** קופסאות שלמות יכולות להישלח לחנויות שונות."
    },
    
    // Question 19.2
    {
      "question": "שלוש בתי ספר גייסו $5678, $4321, ו-$3456 בארגון גיוס כספים. אם הם רוצים לקנות ערכות מדע שעולות $234 כל אחת, כמה ערכות שלמות הם יכולים לקנות?",
      "options": ["57", "56", "58", "55", "כמו קשתות יכולים לגשר"],
      "answer": "57",
      "explanation": "ראשית, חשב את סך הכספים שנאספו: $5678 + $4321 + $3456 = $13455. ואז, חילוק ב-$234 נותן מנה של 57 עם שארית 117. לכן, הם יכולים לקנות **57** ערכות מדע שלמות עם שארית של 117 דולרים."
    },
    
    // Question 19.3
    {
      "question": "ספר חנות קיבלה 4567 ספרים ביום שני, 3891 ביום שלישי, ו-2345 ביום רביעי. אם הם נארזים במדפים המכילים 212 ספרים כל אחד, כמה מדפים שלמים ימולאו?",
      "options": ["51", "50", "52", "49", "יותר מחלומות בלילה"],
      "answer": "50",
      "explanation": "ראשית, חשב את סך כל הספרים: 4567 + 3891 + 2345 = 10803. ואז, חילוק ב-212 נותן מנה של 50 עם שארית 203. לכן, **50** מדפים שלמים ימולאו."
    },
    
    // Question 19.4
    {
      "question": "ארבע גנים ייצרו 2345, 3456, 4567, ו-5678 פרחים בשבוע. אם הם מסודרים בזריות של 246 פרחים, כמה זריות יישארו?",
      "options": ["56", "148", "168", "138", "כמו פרפרים רוקדים"],
      "answer": "56",
      "explanation": "ראשית, חשב את סך כל הפרחים: 2345 + 3456 + 4567 + 5678 = 16046. ואז, חילוק ב-246 נותן מנה של 65 עם שארית 56. לכן, **56** פרחים יישארו."
    },
    
    // Question 19.5
    {
      "question": "חברה ייצרה 6789 יחידות בשבוע 1 ו-5432 יחידות בשבוע 2. אם הן נשלחות במכולות של 223 יחידות, כמה מכולות שלמות ניתן למלא?",
      "options": ["54", "53", "55", "52", "יותר מכמו עננים יכולים לעוף"],
      "answer": "54",
      "explanation": "ראשית, חשב את סך כל היחידות שיוצרו: 6789 + 5432 = 12221. ואז, חילוק ב-223 נותן מנה של 54 עם שארית 179. לכן, ניתן למלא **54** מכולות שלמות עם שארית של 179 יחידות."
    }
  ]
},
// Stage 20
{
  "text": "אתן פותרת את הבעיות הכי מאתגרות שמשלבות פעולות רבות ודורשות תכנון מדויק של הצעדים.",
  "questions": [
    // Question 20.1
    {
      "question": "שלוש מפעלים מייצרים 4567, 3891, ו-2345 חלקים כל יום. לאחר 2 ימים של ייצור, אם החלקים נארזים בקופסאות של 234 חלקים כל אחת, כמה קופסאות שלמות ניתן למלא?",
      "options": ["92", "91", "93", "90", "לאינסוף והלאה שוב"],
      "answer": "92",
      "explanation": "ראשית, חשב את סך החלקים שיוצרו ביום אחד: 4567 + 3891 + 2345 = 10803. לאחר 2 ימים, הסך הוא 10803 × 2 = 21606. חילוק ב-234 נותן מנה של 92 עם שארית 78. לכן, **92** קופסאות שלמות יכולות להימלא עם שארית של 78 חלקים."
    },
    
    // Question 20.2
    {
      "question": "חנות מוכרת חבילות של 312 סוכריות. אם הם מקבלים משלוחים של 5678, 4321, ו-3456 סוכריות, כמה חבילות שלמות הם יכולים להכין?",
      "options": ["43", "42", "44", "41", "יותר מכוכבים בעיניים שלך"],
      "answer": "43",
      "explanation": "ראשית, חשב את סך הסוכריות שקיבלו: 5678 + 4321 + 3456 = 13455. ואז, חילוק ב-312 נותן מנה של 43 עם שארית 39. לכן, הם יכולים להכין **43** חבילות שלמות עם שארית של 39 סוכריות."
    },
    
    // Question 20.3
    {
      "question": "אם בית ספר אסף 3456 ו-2789 ספרים בשתי מסעות, ואז קיבלו תרומה נוספת של 4567 ספרים, ורוצים לחלק אותם שווה בשווה ל-168 כיתות, כמה ספרים יישארו?",
      "options": ["60", "50", "70", "40", "כמו כמה חלומות יכולים לעוף"],
      "answer": "60",
      "explanation": "ראשית, חשב את סך כל הספרים שנאספו: 3456 + 2789 + 4567 = 10812. ואז, חילוק ב-168 נותן מנה של 64 עם שארית 60. לכן, **60** ספרים יישארו לאחר החילוק."
    },
    
    // Question 20.4
    {
      "question": "מפעל מייצר 5678 חלקים ביום שני, 4321 ביום שלישי, ו-2 פעמים יותר ביום רביעי. אם החלקים נארזים בקופסאות של 246, כמה קופסאות שלמות ניתן למלא?",
      "options": ["75", "74", "76", "73", "יותר מגלים בים"],
      "answer": "75",
      "explanation": "ראשית, קבע את מספר החלקים שנוצרו ביום רביעי: 2 × 4321 = 8642. חשב את סך הייצור: 5678 + 4321 + 8642 = 18641. ואז, חילוק ב-246 נותן מנה של 75 עם שארית 191. לכן, ניתן למלא **75** קופסאות שלמות עם שארית של 191 חלקים."
    },
    
    // Question 20.5
    {
      "question": "שלוש גנים מייצרים 2345, 3456, ו-4567 פרחים בשבוע. לאחר שבועיים, אם הפרחים מסודרים בזריות של 223 פרחים כל אחת, כמה זריות שלמות ניתן ליצור?",
      "options": ["92", "91", "93", "94", "כמו דמיון אינסופי"],
      "answer": "92",
      "explanation": "ראשית, חשב את סך הפרחים שיוצרו בשבוע אחד: 2345 + 3456 + 4567 = 10368. לאחר שבועיים, הסך הוא 10368 × 2 = 20736. חילוק ב-223 נותן מנה של 92 עם שארית 220. לכן, ניתן ליצור **92** זריות שלמות עם שארית של 220 פרחים."
		}
	  ]
	}

//-------------------------------------------------------------------------------------------------------------------							
				  ]
				}
        ];

        const stageCount = quizData[0].stages.length; // This is the correct way to get the number of stages

		const stateContents = {
			'תרגול': `<div id="stage-number" class="stage-number">שלב 1 מתוך ${stageCount}</div><div class="progress-bar-container"><div id="progress-bar" class="progress-bar"></div></div><div id="attempts">ניסיונות: 0</div><div id="quiz-content"></div><button class="center-button" onclick="checkStage()">בדיקת תשובות</button>`
			,'לימוד הנושא 🗝️': `<div class="subject-overview-content subject-overview-content_heb">   <h1>חיבור וחילוק במספרים גדולים: מדריך מקיף</h1>   <p>חיבור וחילוק במספרים גדולים הם כישורי מתמטיקה בסיסיים המסייעים לתלמידים לפתור בעיות מורכבות בקלות. הבנת הפעולות הללו חיונית למשימות יומיומיות ולמושגים מתמטיים מתקדמים יותר. מדריך זה מיועד לכיתות ד' והו', ומספק הסברים ברורים, שיטות שלב אחר שלב, ודוגמאות רבות לבניית ביטחון ומיומנות.</p>   <hr>   <h2 class="highlight_heb">תוכן העניינים</h2>   <ol>     <li><a href="#adding-larger-numbers" class="highlight_heb">חיבור במספרים גדולים</a></li>     <li><a href="#dividing-larger-numbers" class="highlight_heb">חילוק במספרים גדולים</a></li>     <li><a href="#tips-and-tricks" class="highlight_heb">טיפים וטריקים</a></li>     <li><a href="#practice-exercises" class="highlight_heb">תרגולי התרגול</a></li>     <li><a href="#conclusion" class="highlight_heb">סיכום</a></li>   </ol>   <hr>     <h2 id="adding-larger-numbers" class="highlight_heb">חיבור במספרים גדולים</h2>   <p>חיבור במספרים גדולים כולל שילוב של שניים או יותר מספרים למציאת הסכום הכולל. כאשר עובדים עם מספרים גדולים, חשוב להבין את ערך העמדה והעברת ערך במידת הצורך.</p>     <h3 class="highlight_heb">שיטה שלב אחר שלב</h3>   <ol>     <li><strong>סידור המספרים:</strong> כתבו את המספרים בצורה אנכית, ודאו שערכי העמדה (יחידות, עשרות, מאות וכו') מיושרים.</li>     <li><strong>חיבור עמודת היחידות:</strong> התחילו בחיבור העמודה הימנית ביותר (יחידות). אם הסכום הוא 10 או יותר, העבירו את העודף לעמדה הבאה.</li>     <li><strong>חיבור העמודה הבאה:</strong> עברו לעמדה השמאלית הבאה (עשרות, מאות וכו') וחברו את הספרות יחד עם כל ערך שהועבר.</li>     <li><strong>המשיכו עד שכל העמדות נחוברו:</strong> חזרו על התהליך עבור כל ערכי העמדה עד שהמספר כולו נחתם.</li>   </ol>     <h3 class="highlight_heb">דוגמא:</h3>   <p>בואו נחבר 1,234 ו-2,567.</p>   <pre>     1,234   + 2,567   -------     3,801   </pre>   <p><strong>הסבר:</strong></p>   <ul>     <li>יחידות: 4 + 7 = 11 (רושמים 1 ומעבירים 1)</li>     <li>עשרות: 3 + 6 + 1 (מעובר) = 10 (רושמים 0 ומעבירים 1)</li>     <li>מאות: 2 + 5 + 1 (מעובר) = 8</li>     <li>אלפים: 1 + 2 = 3</li>   </ul>     <hr>     <h2 id="dividing-larger-numbers" class="highlight_heb">חילוק במספרים גדולים</h2>   <p>חילוק במספרים גדולים עשוי להיראות מאתגר, אך עם תרגול זה הופך לנגיש. חילוק כולל חלוקת מספר לחלקים שווים.</p>     <h3 class="highlight_heb">שיטה שלב אחר שלב</h3>   <ol>     <li><strong>הגדרת החילוק:</strong> כתבו את המחולק (המספר שמחלקים) ואת המחלק (המספר שמחלקים בו).</li>     <li><strong>חילוק:</strong> קבעו כמה פעמים המחלק נכנס לחלק הנוכחי של המחולק.</li>     <li><strong>כפל וחיסור:</strong> כפל את המחלק במספר שמצאתם וחסרו מהחלק הנוכחי של המחולק.</li>     <li><strong>הורדת הספרה הבאה:</strong> הורידו את הספרה הבאה של המחולק וחזרו על התהליך.</li>     <li><strong>המשיכו עד לסיום:</strong> המשיכו עד שכל הספרות הורדו והחילוק הושלם.</li>   </ol>     <h3 class="highlight_heb">דוגמא:</h3>   <p>בואו נחלק 4,356 ב-12.</p>   <pre>        363     _______   12 | 4,356       - 36       ----         15         -12         ----           35           -36           ----            35            -24            ----            11   </pre>   <p><strong>הסבר:</strong></p>   <ul>     <li>12 נכנס ל-43 שלוש פעמים (12 x 3 = 36). כותבים 3 וחסרים 36 מ-43 לקבלת 7.</li>     <li>מורידים את הספרה הבאה (5) כדי לקבל 75.</li>     <li>12 נכנס ל-75 שש פעמים (12 x 6 = 72). כותבים 6 וחסרים 72 מ-75 לקבלת 3.</li>     <li>מורידים את הספרה הבאה (6) כדי לקבל 36.</li>     <li>12 נכנס ל-36 שלוש פעמים (12 x 3 = 36). כותבים 3 וחסרים 36 מ-36 לקבלת 0.</li>   </ul>     <hr>     <h2 id="tips-and-tricks" class="highlight_heb">טיפים וטריקים</h2>   <ul>     <li><strong>ערך העמדה חשוב:</strong> תמיד יש ליישר את המספרים לפי ערכי העמדה כדי להימנע מטעויות.</li>     <li><strong>בדקו את העבודה שלכם:</strong> לאחר החיבור או החילוק, השתמשו בהערכה לבדוק אם התשובה סבירה.</li>     <li><strong>תרגלו חשבון בראש:</strong> שפרו את כישורי החשבון בראש לטיפול מהיר בחיבורים וחילוקים פשוטים.</li>     <li><strong>השתמשו בכלים:</strong> אל תהססו להשתמש במחשבון או בנייר רישום כדי לעקוב אחר העבודה שלכם.</li>   </ul>     <hr>     <h2 id="practice-exercises" class="highlight_heb">תרגולי התרגול</h2>     <h3 class="highlight_heb">חיבור במספרים גדולים</h3>   <ol>     <li>2,345 + 1,678 = ?</li>     <li>5,432 + 3,210 = ?</li>     <li>9,876 + 4,321 = ?</li>   </ol>     <h3 class="highlight_heb">חילוק במספרים גדולים</h3>   <ol>     <li>7,824 ÷ 16 = ?</li>     <li>9,630 ÷ 15 = ?</li>     <li>12,048 ÷ 24 = ?</li>   </ol>     <p>נסו לפתור את התרגילים הללו בעצמכם, ולאחר מכן בדקו את התשובות עם מורה או חבר לכיתה!</p>     <hr>     <h2 id="conclusion" class="highlight_heb">סיכום</h2>   <p>שליטה בחיבור וחילוק במספרים גדולים היא אבן דרך חשובה במסע המתמטי שלכם. על ידי הבנת השלבים ותרגול קבוע, תשתמשו בביטחון גבוה יותר בטיפול בחישובים מורכבים. זכרו לקחת את הזמן, להישאר מאורגנים ולהשתמש בטיפים והטריקים שסופקו כדי להפוך את הלמידה לקלה ומהנה יותר.</p>   <p><strong>המשיכו לתרגל!</strong> ככל שתעבדו עם מספרים גדולים יותר, כך הפעולות הללו יהפכו לטבעיות יותר. אל תהססו לבקש עזרה אם אתם מוצאים משהו מאתגר, וחגגו את ההתקדמות שלכם לאורך הדרך.</p>   <hr>   <p>על ידי הקדשת זמן ומאמץ להבנת חיבור וחילוק במספרים גדולים, תבנו בסיס חזק למושגים מתמטיים עתידיים וליישומים בחיים האמיתיים. המשיכו בעבודה הקשה!</p> </div>`
		};

		function showExplanations() {
			// Hide the modal
			document.getElementById('quizModal').style.display = 'none';
			
			// Show all explanation panels
			document.querySelectorAll('.explanation-panel').forEach(exp => {
				exp.style.display = 'block';
			});
		}

        function setQuizExpansion(allow) {
            allowQuizExpansion = allow;
            adjustLayout();
        }

        function adjustLayout() {
            const wrapper = document.querySelector('.content-wrapper');
            const quizContainer = document.getElementById('quizContainer');
            const sidePanel1 = document.getElementById('sidePanel1');
            
            const isPanel1Visible = window.getComputedStyle(sidePanel1).display !== 'none';

            wrapper.style.justifyContent = 'space-between';

            if (isPanel1Visible) {
                sidePanel1.style.flex = '0 0 calc(20% - 0.5rem)';
                sidePanel1.style.maxWidth = 'calc(20% - 0.5rem)';
                quizContainer.style.flex = '1';
            } else {
                quizContainer.style.flex = '1';
                wrapper.style.justifyContent = 'center';
            }

            [sidePanel1, quizContainer].forEach(el => {
                el.style.display = 'block';
            });
        }

        function togglePanel(panelId) {
            const panel = document.getElementById(panelId);
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            adjustLayout();
        }

        function updateSwitcherLayout() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const handle = switchElement.querySelector('.switch-handle');

            labels.forEach(label => {
                label.style.flex = 'none';
                label.style.padding = '0 20px';
            });

            const activeLabel = switchElement.querySelector('.switch-label.active');
            if (activeLabel) {
                const switchRect = switchElement.getBoundingClientRect();
                const labelRect = activeLabel.getBoundingClientRect();

                handle.style.left = `${labelRect.left - switchRect.left}px`;
                handle.style.width = `${labelRect.width}px`;
            }

            switchElement.style.width = 'auto';
        }
        
        function switchTab(index) {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const activeStates = Array.from(labels).map(label => label.textContent);

            labels.forEach((label, i) => {
                label.classList.toggle('active', i === index);
            });

            updateSwitcherLayout();
            showContent(activeStates[index]);

            adjustLayout();
        }

        function showContent(state) {
            const tabContent = document.getElementById('tabContent');
            tabContent.innerHTML = stateContents[state] || '';

            if (state === 'תרגול') {
                renderQuiz();
                updateProgressBar();
            }
        }

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

function isTextEmpty(text) {
    return !text || text.trim() === "";
}

function renderQuiz() {
    const quizContainer = document.getElementById("quiz-content");
    quizContainer.innerHTML = '';

    // Only add stage text if it's not empty
    const stageText = quizData[0].stages[currentStage].text;
    if (!isTextEmpty(stageText)) {
        const stageTextElement = document.createElement("div");
        stageTextElement.className = "stage-text";
        stageTextElement.textContent = stageText;
        quizContainer.appendChild(stageTextElement);
    }

    // Render questions
    quizData[0].stages[currentStage].questions.forEach((questionData, index) => {
        // Create main question container
        const questionContainer = document.createElement("div");
        questionContainer.className = "question";
        questionContainer.style.padding = "0px"; 
        
        // Create question line
        const questionLine = document.createElement("div");
        questionLine.className = "question-one-line";

        const label = document.createElement("label");
        label.htmlFor = `q${index}`;
        label.textContent = `${index + 1}. ${questionData.question}`;

        const resultDiv = document.createElement("div");
        resultDiv.className = "result result-rtl"; 
        resultDiv.id = `result${index}`;

        const select = document.createElement("select");
        select.id = `q${index}`;
        select.name = `q${index}`;

        // Add default option
        const defaultOption = document.createElement("option");
        defaultOption.value = "";
        defaultOption.textContent = "בחירה"; 

        select.appendChild(defaultOption);

        // Add shuffled options
        const shuffledOptions = shuffleArray([...questionData.options]);
        shuffledOptions.forEach(option => {
            const optionElement = document.createElement("option");
            optionElement.value = option;
            optionElement.textContent = option;
            select.appendChild(optionElement);
        });

        // Assemble question line
        questionLine.appendChild(label);
        questionLine.appendChild(resultDiv);
        questionLine.appendChild(select);

        // Create explanation panel
        const explanationPanel = document.createElement("div");
        explanationPanel.className = "explanation-panel";
        explanationPanel.style.display = "none";

        const explanationText = document.createElement("div");
        explanationText.className = "explanation-panel-text";
        explanationText.textContent = questionData.explanation || ''; 

        explanationPanel.appendChild(explanationText);

        // Assemble full question container
        questionContainer.appendChild(questionLine);
        questionContainer.appendChild(explanationPanel);

        quizContainer.appendChild(questionContainer);
    });

    updateStageNumber();
}


function checkStage() {
    attempts++;
    document.getElementById("attempts").textContent = `ניסיונות: ${attempts}`;

    let correctCount = 0;
    const totalQuestions = quizData[0].stages[currentStage].questions.length;

    quizData[0].stages[currentStage].questions.forEach((questionData, index) => {
        const resultElement = document.getElementById(`result${index}`);
        const selectElement = document.getElementById(`q${index}`);
        const selectedAnswer = selectElement.value;

        // Check if the selected answer is correct or incorrect
        if (selectedAnswer === questionData.answer) {
            resultElement.textContent = "נכון!";
            resultElement.style.color = "green";
            correctCount++;
        } else {
            resultElement.textContent = "לא נכון.";
            resultElement.style.color = "red";
        }

        // Reveal explanations if the user reaches 10 attempts
        if (attempts >= 5) {
            // Reveal the explanation panel
            const explanationElement = selectElement.closest('.question').querySelector('.explanation-panel');
            explanationElement.style.display = "block"; // Make the explanation panel visible

            // Modify the explanation text to include the correct answer
            const explanationText = explanationElement.querySelector('.explanation-panel-text');
            explanationText.innerHTML = `התשובה הנכונה היא: <strong>${questionData.answer}</strong>.<br>${questionData.explanation}`;
        }
    });

    if (correctCount === totalQuestions) {
        console.log(`שלב ${currentStage + 1}: ${correctCount} נכונות מתוך ${totalQuestions}`);
        addAnimalsToFarm(totalQuestions);

        if (currentStage < quizData[0].stages.length - 1) {
            singleStageConfetti();
            showEncouragingPopup(correctCount, totalQuestions, true);
            // Show both buttons in modal to allow moving to the next stage
            document.getElementById('modalNextButton').style.display = 'inline-block';
            document.getElementById('modalExplanationsButton').style.display = 'inline-block';
        } else {
            // Last stage completion
            currentStage++;
            updateProgressBar();
            allStagesConfetti();
            showModal("כל הכבוד! השלמת את כל השלבים!");
        }
    } else {
        // Show the encouraging popup if the stage is not complete
        showEncouragingPopup(correctCount, totalQuestions, false);

        if (attempts >= 5) {
            // If the user has reached 5 attempts, notify them about revealing the answers
            const modalMessage = document.getElementById('modalMessage');
            modalMessage.textContent = "הגעת למספר הניסיונות המקסימלי. התשובות הנכונות נחשפו.";
            showModal(modalMessage.textContent);
        }
    }

    scrollToTop();
}

		
        function showEncouragingPopup(correctCount, totalQuestions, isStageComplete) {
            const incorrectCount = totalQuestions - correctCount;
            let message = `קיבלת ${correctCount} נכונות ו-${incorrectCount} שגויות.`;
            
            if (correctCount === totalQuestions) {
                message += " ציון מושלם!";
            } else if (correctCount >= Math.ceil(totalQuestions * 0.7)) {
                message += " עבודה מצוינת! רואים שהנושא מתחיל להיות מובן!";
            } else if (correctCount >= Math.ceil(totalQuestions * 0.5)) {
                message += " מאמץ טוב! נמשיך לתרגל כי השיפור קרוב!";
            } else {
                message += " לא לוותר! כל נסיון עוזר לך ללמוד. ננסה שוב!";
            }

            if (isStageComplete) {
                message += "\n\n השלב הזה הסתיים, עוברים לשלב הבא.";
            }

            showModal(message);
        }

		function initializeQuiz() {
			currentStage = 0;
			attempts = 0;
			updateProgressBar(); // This should now set the progress to 0%
			renderQuiz();
			document.getElementById("attempts").textContent = `נסיונות: ${attempts}`;
			updateStageNumber();
		}

		function updateProgressBar() {
			const progressBar = document.getElementById("progress-bar");
			const completedStages = currentStage; // Remove the +1 here
			const progress = (completedStages / stageCount) * 100;
			const roundedProgress = Math.min(100, Math.max(0, Math.round(progress)));
			progressBar.style.width = `${roundedProgress}%`;
			progressBar.textContent = roundedProgress > 0 ? `${roundedProgress}%` : '';
			console.log(`Progress updated: ${roundedProgress}% (Stage ${currentStage + 1} of ${stageCount})`);
		}

        function updateStageNumber() {
            const stageElement = document.getElementById("stage-number");
            stageElement.textContent = `שלב ${currentStage + 1} מתוך ${stageCount}`;
        }

		function singleStageConfetti() {
			function randomInRange(min, max) {
				return Math.random() * (max - min) + min;
			}
			confetti({
				angle: randomInRange(55, 125),
				spread: randomInRange(50, 70),
				particleCount: randomInRange(50, 100),
				origin: { y: 0.6 },
			});
		}

		function allStagesConfetti() {
			const defaults = {
				spread: 360,
				ticks: 50,
				gravity: 0,
				decay: 0.94,
				startVelocity: 30,
				shapes: ["star"],
				colors: ["FFE400", "FFBD00", "E89400", "FFCA6C", "FDFFB8"],
			};
			function shoot() {
				confetti({
					...defaults,
					particleCount: 40,
					scalar: 1.2,
					shapes: ["star"],
				});
				confetti({
					...defaults,
					particleCount: 10,
					scalar: 0.75,
					shapes: ["circle"],
				});
			}
			setTimeout(shoot, 0);
			setTimeout(shoot, 100);
			setTimeout(shoot, 200);
		}

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
			    scrollToTopBtn.style.display = "none";
        }

        function initializeSwitch() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labelsContainer = switchElement.querySelector('.switch-labels');
            const switchContainer = document.getElementById('switchContainer');
            
            const activeStates = Object.keys(stateContents).filter(state => stateContents[state].trim() !== '');
            
            if (activeStates.length <= 1) {
                switchContainer.style.display = 'none';
                if (activeStates.length === 1) {
                    showContent(activeStates[0]);
                }
                return;
            }
            
            switchContainer.style.display = 'flex';
            
            activeStates.forEach((state, index) => {
                const label = document.createElement('div');
                label.className = 'switch-label';
                label.textContent = state;
                label.addEventListener('click', () => switchTab(index));
                labelsContainer.appendChild(label);
            });
   
            const defaultTab = manuallySetDefaultTab !== null && manuallySetDefaultTab < activeStates.length
                ? manuallySetDefaultTab
                : 0;

            switchTab(defaultTab);
        }

		let farmAnimals = [];

		function addAnimalsToFarm(count) {
			const animalFarm = document.getElementById('animalFarm');
			let availableAnimals = animals.filter(animal => !farmAnimals.includes(animal));

			console.log(`Adding ${count} animals to the farm. Current farm size: ${farmAnimals.length}`);

			for (let i = 0; i < count; i++) {
				if (availableAnimals.length === 0) {
					console.log("No more unique animals available!");
					break;
				}

				const randomIndex = Math.floor(Math.random() * availableAnimals.length);
				const chosenAnimal = availableAnimals[randomIndex];

				const animalElement = document.createElement('li');
				animalElement.textContent = chosenAnimal;
				animalFarm.appendChild(animalElement);

				farmAnimals.push(chosenAnimal);
				availableAnimals.splice(randomIndex, 1);
				console.log(`Added animal: ${chosenAnimal}`);
			}

			console.log(`Farm size after addition: ${farmAnimals.length}`);
			logAnimalFarmState();
		}

		function logAnimalFarmState() {
			console.log(`Current animal farm state: ${farmAnimals.length} animals`);
			console.log(farmAnimals);
		}

		const animals = [
			"🐉", "🐻", "🦗", "🦁", "🐔", "🦂", "🐟", "🐣", "🐯", "🦡",
			"🐰", "🐍", "🦅", "🐈", "🦈", "🦜", "🦛", "🐀", "🐑",
			"🐮", "🦇", "🐇", "🦖", "🦀", "🦎", "🐃", "🐡", "🐤",
			"🐪", "🦥", "🐛", "🐅", "🐥", "🐱", "🐺", "🐕", "🦩", "🐊",
			"🐖", "🐢", "🕷", "🦕", "🦌", "🐁", "🦨", "🦘", "🐵",
			"🦑", "🐋", "🦓", "🦒", "🐲", "🦆", "🦉", "🐶", "🐄", "🦟",
			"🦃", "🦧", "🦏", "🐙", "🐿", "🦢", "🐜", "🐦", "🐞",
			"🦐", "🦔", "🐼", "🦄", "🦞", "🐫", "🐭", "🐆", "🦝",
			"🐠", "🦚", "🐴", "🐏", "🦮", "🐐", "🐹", "🐎", "🦋", "🐳",
			"🐨", "🐂", "🦍", "🦙", "🐬", "🦦", "🦊", "🐌", "🐓", "🐧",
			"🐷", "🐩", "🐘", "🐸", "🐝"
		];

		function showModal(message) {
			const modal = document.getElementById("quizModal");
			const modalMessage = document.getElementById("modalMessage");
			const modalClose = document.getElementsByClassName("modal-quiz-close")[0];
			const nextButton = document.getElementById("modalNextButton");
			const explanationsButton = document.getElementById("modalExplanationsButton");

			// Set message
			modalMessage.textContent = message;
			
			// Show modal
			modal.style.display = "block";

			// By default, hide both buttons
			nextButton.style.display = "none";
			explanationsButton.style.display = "none";

			// Close handlers
			modalClose.onclick = function() {
				modal.style.display = "none";
			}

			window.onclick = function(event) {
				if (event.target == modal) {
					modal.style.display = "none";
				}
			}
		}

		window.addEventListener('load', () => {
			initializeSwitch();
			initializeQuiz();
			adjustLayout();
			
			document.getElementById('modalNextButton').addEventListener('click', () => {
				document.getElementById('quizModal').style.display = 'none';
				currentStage++;
				attempts = 0;
				renderQuiz();
				document.getElementById("attempts").textContent = `ניסיונות: ${attempts}`;
				updateProgressBar();
			});

			document.getElementById('modalExplanationsButton').addEventListener('click', showExplanations);
        });

        window.addEventListener('resize', adjustLayout);

        // Load the copyright content from the external URL and insert it into the div
        fetch('http://ez42.live/global/copyright.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('copyright-container').innerHTML = data;
            })
            .catch(error => console.error('Error loading copyright:', error));
			
		let scrollToTopBtn = document.getElementById("scrollToTopBtn");

			window.onscroll = function() {
				// Check if the scroll distance is more than twice the height of the screen
				if (document.body.scrollTop > window.innerHeight * 1.5 || 
					document.documentElement.scrollTop > window.innerHeight * 1.5) {
					scrollToTopBtn.style.display = "block";
				} else {
					scrollToTopBtn.style.display = "none";
				}
			};

		scrollToTopBtn.onclick = function() {
		  document.body.scrollTop = 0;
		  document.documentElement.scrollTop = 0;
		};	
    </script>
</body>
</html>