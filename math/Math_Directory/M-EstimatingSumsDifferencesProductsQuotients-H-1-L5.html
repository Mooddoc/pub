<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ez42.live/global/analytics.js"></script>
    <script src="https://ez42.live/global/ads.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
 	<link rel="stylesheet" href="http://www.ez42.live/global/styles/styles-heb.css"> <!-- Link to external CSS file -->
    <link rel="icon" type="image/svg+xml" href="http://www.ez42.live/global/styles/ez42-icon.svg">
	<title>✅ EZ42 - זה קל</title>
	 
	<style>
	
	</style>
	
</head>
<body>
    <div class="page-container">
        <div class="content-wrapper">
		
		<!--  Side Panel 1  -->
            <div id="sidePanel1" class="side-panel">
			<div class="logo-container">
				<a href="http://ez42.live" target="_blank" rel="noopener noreferrer">
					<img src="http://ez42.live/global/logo/logo.svg" alt="EZ42 Logo" class="logo-image">
				</a>
			</div>
                <h2>הוראות</h2>
			<ul>
																		<!--  PH1 - Instructions & Rules   -->	
                    <li>יש לקרוא כל שאלה בעיון.</li>
                    <li>בחר/י את התשובה הנכונה ביותר מתוך התפריט הנפתח.</li>
                    <li>יש ללחוץ על בדיקת תשובות כשמוכנים!</li>
                    <li>יש להשלים את כל השאלות כדי לעבור לשלב הבא.</li>
                    <li>לאחר 10 ניסיונות, התשובות הנכונות יוצגו.</li>
                    <li>שיהיה כיף!</li>
                </ul>
            </div>
			
		<!--  Quiz Panel   -->
            <div id="quizContainer" class="quiz-container">
																			<!--  PH2 - Title  X  2 : A1 - 📗 Green, A2 - 📘 Blue, B1 - 📒 Yellow, 📙 Orange, 📔 Beige, 📓 Gray , 📕 Red-->		
                <h1>הערכת סכומים, הפרשים, מכפלות ומנות</h1>
				
                <div id="switchContainer" class="switch-container">
                    <div id="multiStateSwitch" class="switch">
                        <div class="switch-labels"></div>
                        <div class="switch-handle"></div>
                    </div>
                </div>

                <div id="tabContent">
                    <!--PLACHOLDERFORNEWGAME-START-->

                    <!--PLACHOLDERFORNEWGAME-END-->
                </div>
            </div>
			
		<!--  Side Panel 2  -->
            <div id="sidePanel2" class="side-panel">
                <h2>חוות החיות</h2>
				<p>החווה שלך גדלה תוך כדי התקדמות! כל שלב מוסיף חיות חדשות לאוסף שלך.</p>
                <ul id="animalFarm" class="emoji-list">
                </ul>
            </div>
        </div>
    </div>
    <div id="copyright-container"></div>

    <!-- Modal -->
    <div id="quizModal" class="modal-quiz">
        <div class="modal-quiz-content">
            <span class="modal-quiz-close">&times;</span>
            <p id="modalMessage"></p>
            <button id="modalButton" class="modal-quiz-button">אישור</button>
        </div>
    </div>
	<button id="scrollToTopBtn" title="Go to top">↑</button>
    <script>
        let isQuizExpanded = false;
        let allowQuizExpansion = true;

        let attempts = 0;
        let currentStage = 0;

        const manuallySetDefaultTab = 0;

        const quizData = [ 												//  PH3 - Quiz Data 



  // שלב 1 - עיגול בסיסי לעשרות הקרובות
  [
    {
      "question": "מה האומדן הטוב ביותר ל-38 ועוד 42?",
      "options": ["80", "70", "85", "75", "40"],
      "answer": "80"
    },
    {
      "question": "מה המספר 53 מעוגל לעשרת הקרובה?",
      "options": ["50", "60", "55", "40", "30"],
      "answer": "50"
    },
    {
      "question": "אמדו את 31 ועוד 29 על ידי עיגול לעשרת הקרובה",
      "options": ["60", "50", "65", "55", "70"],
      "answer": "60"
    },
    {
      "question": "מה הכי קרוב ל-46 ועוד 42?",
      "options": ["90", "80", "100", "70", "85"],
      "answer": "90"
    },
    {
      "question": "אמדו את 67 ועוד 71 על ידי עיגול לעשרת הקרובה",
      "options": ["140", "130", "150", "120", "160"],
      "answer": "140"
    }
  ],

  // שלב 2 - אומדן חיסור פשוט
  [
    {
      "question": "מה האומדן הטוב ביותר ל-82 פחות 39?",
      "options": ["40", "50", "30", "60", "45"],
      "answer": "40"
    },
    {
      "question": "אמדו את 95 פחות 48 על ידי עיגול שני המספרים לעשרת הקרובה",
      "options": ["50", "40", "60", "45", "55"],
      "answer": "50"
    },
    {
      "question": "מה הכי קרוב ל-73 פחות 28?",
      "options": ["45", "50", "40", "35", "55"],
      "answer": "45"
    },
    {
      "question": "אמדו את 64 פחות 37 בעזרת עיגול",
      "options": ["30", "25", "40", "35", "45"],
      "answer": "30"
    },
    {
      "question": "מה אומדן סביר ל-88 פחות 42?",
      "options": ["45", "50", "40", "55", "35"],
      "answer": "45"
    }
  ],

  // שלב 3 - אומדן כפל בסיסי
  [
    {
      "question": "אמדו את המכפלה של \u202A12 × 8\u202C",
      "options": ["100", "80", "120", "90", "70"],
      "answer": "100"
    },
    {
      "question": "מה אומדן טוב ל-\u202A15 × 6\u202C?",
      "options": ["90", "100", "80", "70", "110"],
      "answer": "90"
    },
    {
      "question": "עגלו \u202A13 × 7\u202C לעשרת הקרובה",
      "options": ["90", "100", "80", "70", "110"],
      "answer": "90"
    },
    {
      "question": "אמדו \u202A16 × 4\u202C על ידי עיגול 16 לעשרת הקרובה",
      "options": ["60", "80", "40", "70", "50"],
      "answer": "60"
    },
    {
      "question": "מה הכי קרוב ל-\u202A18 × 5\u202C?",
      "options": ["90", "100", "80", "70", "110"],
      "answer": "90"
    }
  ],

  // שלב 4 - אומדן חילוק בסיסי
  [
    {
      "question": "אמדו \u202A85 ÷ 4\u202C על ידי עיגול 85 לעשרת הקרובה",
      "options": ["20", "25", "15", "30", "10"],
      "answer": "20"
    },
    {
      "question": "מה אומדן סביר ל-\u202A92 ÷ 3\u202C?",
      "options": ["30", "25", "35", "40", "20"],
      "answer": "30"
    },
    {
      "question": "עגלו \u202A76 ÷ 4\u202C לעשרת הקרובה",
      "options": ["20", "30", "15", "25", "35"],
      "answer": "20"
    },
    {
      "question": "אמדו \u202A68 ÷ 3\u202C בעזרת עיגול",
      "options": ["20", "25", "15", "30", "10"],
      "answer": "20"
    },
    {
      "question": "מה הכי קרוב ל-\u202A95 ÷ 5\u202C?",
      "options": ["20", "25", "15", "30", "10"],
      "answer": "20"
    }
  ],

  // שלב 5 - פעולות משולבות עם מעט מורכבות
  [
    {
      "question": "אמדו \u202A(45 + 38) ÷ 4\u202C על ידי עיגול כל מספר",
      "options": ["20", "25", "15", "30", "10"],
      "answer": "20"
    },
    {
      "question": "מה אומדן טוב ל-\u202A23 × 6 + 10\u202C?",
      "options": ["150", "140", "160", "130", "170"],
      "answer": "150"
    },
    {
      "question": "עגלו \u202A56 - (18 ÷ 3)\u202C לעשרת הקרובה",
      "options": ["50", "60", "40", "45", "55"],
      "answer": "50"
    },
    {
      "question": "אמדו \u202A(72 + 45) × 2\u202C בעזרת עיגול",
      "options": ["240", "220", "200", "260", "180"],
      "answer": "240"
    },
    {
      "question": "מה הכי קרוב ל-\u202A(84 - 36) ÷ 2\u202C?",
      "options": ["25", "30", "20", "35", "15"],
      "answer": "25"
    }
  ],

  // שלב 6 - מבוא לאומדן עם מאות
  [
    {
      "question": "אמדו 286 ועוד 312 על ידי עיגול למאה הקרובה",
      "options": ["600", "500", "650", "550", "700"],
      "answer": "600"
    },
    {
      "question": "מה האומדן הטוב ביותר ל-425 ועוד 389?",
      "options": ["800", "750", "850", "700", "900"],
      "answer": "800"
    },
    {
      "question": "עגלו 543 ועוד 278 למאה הקרובה",
      "options": ["800", "850", "750", "900", "700"],
      "answer": "800"
    },
    {
      "question": "אמדו 734 ועוד 156 בעזרת עיגול",
      "options": ["900", "850", "950", "800", "1000"],
      "answer": "900"
    },
    {
      "question": "מה הכי קרוב ל-167 ועוד 445?",
      "options": ["600", "650", "550", "700", "500"],
      "answer": "600"
    }
  ],

  // שלב 7 - חיסור עם מאות
  [
    {
      "question": "אמדו 756 פחות 284 על ידי עיגול למאה הקרובה",
      "options": ["500", "450", "550", "400", "600"],
      "answer": "500"
    },
    {
      "question": "מה אומדן סביר ל-632 פחות 358?",
      "options": ["300", "250", "350", "400", "200"],
      "answer": "300"
    },
    {
      "question": "עגלו 945 פחות 467 למאה הקרובה",
      "options": ["500", "450", "550", "400", "600"],
      "answer": "500"
    },
    {
      "question": "אמדו 823 פחות 395 בעזרת עיגול",
      "options": ["400", "450", "350", "500", "300"],
      "answer": "400"
    },
    {
      "question": "מה הכי קרוב ל-567 פחות 289?",
      "options": ["300", "250", "350", "400", "200"],
      "answer": "300"
    }
  ],

  // שלב 8 - כפל פשוט עם מאות
  [
    {
      "question": "אמדו \u202A234 × 3\u202C על ידי עיגול למאה הקרובה",
      "options": ["700", "600", "800", "750", "650"],
      "answer": "700"
    },
    {
      "question": "מה האומדן הטוב ביותר ל-\u202A168 × 4\u202C?",
      "options": ["800", "700", "900", "600", "1000"],
      "answer": "800"
    },
    {
      "question": "עגלו \u202A312 × 2\u202C למאה הקרובה",
      "options": ["600", "500", "700", "550", "650"],
      "answer": "600"
    },
    {
      "question": "אמדו \u202A445 × 2\u202C בעזרת עיגול",
      "options": ["900", "800", "1000", "850", "950"],
      "answer": "900"
    },
    {
      "question": "מה הכי קרוב ל-\u202A267 × 3\u202C?",
      "options": ["800", "750", "850", "700", "900"],
      "answer": "800"
    }
  ],

  // שלב 9 - מבוא למספרים עשרוניים פשוטים (עשיריות)
  [
    {
      "question": "אמדו 3.2 ועוד 4.8 על ידי עיגול למספר השלם הקרוב",
      "options": ["8", "7", "9", "6", "10"],
      "answer": "8"
    },
    {
      "question": "מה אומדן טוב ל-5.6 ועוד 2.7?",
      "options": ["9", "8", "10", "7", "11"],
      "answer": "9"
    },
    {
      "question": "עגלו 7.4 ועוד 1.8 למספר השלם הקרוב",
      "options": ["9", "10", "8", "11", "7"],
      "answer": "9"
    },
    {
      "question": "אמדו 4.3 ועוד 3.9 בעזרת עיגול",
      "options": ["8", "9", "7", "10", "6"],
      "answer": "8"
    },
    {
      "question": "מה הכי קרוב ל-6.7 ועוד 2.4?",
      "options": ["9", "10", "8", "11", "7"],
      "answer": "9"
    }
  ],

  // שלב 10 - פעולות מעורבות עם מספרים עשרוניים
  [
    {
      "question": "אמדו \u202A(4.3 × 2) + 1.8\u202C על ידי עיגול כל מספר",
      "options": ["10", "11", "9", "12", "8"],
      "answer": "10"
    },
    {
      "question": "מה האומדן הטוב ביותר ל-5.6 פחות 2.3?",
      "options": ["3", "4", "2", "5", "1"],
      "answer": "3"
    },
    {
      "question": "עגלו \u202A(3.2 + 4.8) ÷ 2\u202C למספר השלם הקרוב",
      "options": ["4", "5", "3", "6", "2"],
      "answer": "4"
    },
    {
      "question": "אמדו \u202A2.4 × 3.2\u202C בעזרת עיגול",
      "options": ["8", "6", "10", "7", "9"],
      "answer": "8"
    },
    {
      "question": "מה הכי קרוב ל-\u202A(7.5 - 3.2) × 2\u202C?",
      "options": ["9", "8", "10", "7", "11"],
      "answer": "9"
    }
  ],
  // שלב 11 - מבוא לאומדן עם כסף
  [
    {
      "question": "אמדו את הסכום הכולל: ₪3.98 ועוד ₪2.49",
      "options": ["₪6.50", "₪6.00", "₪7.00", "₪5.50", "₪7.50"],
      "answer": "₪6.50"
    },
    {
      "question": "מה אומדן סביר ל-₪8.95 פחות ₪3.48?",
      "options": ["₪5.50", "₪5.00", "₪6.00", "₪4.50", "₪6.50"],
      "answer": "₪5.50"
    },
    {
      "question": "אמדו את העלות של 3 פריטים במחיר ₪4.95 כל אחד",
      "options": ["₪15.00", "₪14.00", "₪16.00", "₪13.50", "₪16.50"],
      "answer": "₪15.00"
    },
    {
      "question": "עגלו את ההפרש: ₪12.95 פחות ₪7.48",
      "options": ["₪5.50", "₪5.00", "₪6.00", "₪4.50", "₪6.50"],
      "answer": "₪5.50"
    },
    {
      "question": "אמדו את הסכום הכולל: ₪5.95 ועוד ₪3.97 ועוד ₪2.99",
      "options": ["₪13.00", "₪12.00", "₪14.00", "₪11.50", "₪14.50"],
      "answer": "₪13.00"
    }
  ],

  // שלב 12 - מבוא לשברים פשוטים
  [
    {
      "question": "אמדו 2½ ועוד 3¾ על ידי עיגול למספר השלם הקרוב",
      "options": ["6", "7", "5", "8", "4"],
      "answer": "6"
    },
    {
      "question": "מה האומדן הטוב ביותר ל-4¼ ועוד 2¾?",
      "options": ["7", "6", "8", "5", "9"],
      "answer": "7"
    },
    {
      "question": "עגלו 5⅓ ועוד 2⅔ למספר השלם הקרוב",
      "options": ["8", "7", "9", "6", "10"],
      "answer": "8"
    },
    {
      "question": "אמדו \u202A3½ × 2\u202C בעזרת עיגול",
      "options": ["7", "6", "8", "5", "9"],
      "answer": "7"
    },
    {
      "question": "מה הכי קרוב ל-6¾ פחות 2¼?",
      "options": ["5", "4", "6", "3", "7"],
      "answer": "5"
    }
  ],

  // שלב 13 - מספרים מעורבים ועשרוניים
  [
    {
      "question": "אמדו 2.5 ועוד 3½",
      "options": ["6", "7", "5", "8", "4"],
      "answer": "6"
    },
    {
      "question": "מה אומדן סביר ל-4.75 ועוד 2¼?",
      "options": ["7", "8", "6", "9", "5"],
      "answer": "7"
    },
    {
      "question": "עגלו \u202A3.25 × 2½\u202C למספר השלם הקרוב",
      "options": ["8", "7", "9", "6", "10"],
      "answer": "8"
    },
    {
      "question": "אמדו 5.5 פחות 2¾",
      "options": ["3", "2", "4", "5", "1"],
      "answer": "3"
    },
    {
      "question": "מה הכי קרוב ל-\u202A1.5 × 3⅓\u202C?",
      "options": ["5", "4", "6", "3", "7"],
      "answer": "5"
    }
  ],

  // שלב 14 - בעיות רב-שלביות עם מספרים שלמים
  [
    {
      "question": "אמדו \u202A(245 + 378) × 2\u202C על ידי עיגול למאות תחילה",
      "options": ["1200", "1300", "1100", "1400", "1000"],
      "answer": "1200"
    },
    {
      "question": "מה האומדן הטוב ביותר ל-\u202A(892 - 356) ÷ 2\u202C?",
      "options": ["250", "300", "200", "350", "150"],
      "answer": "250"
    },
    {
      "question": "עגלו \u202A(156 × 4) + 234\u202C למאה הקרובה",
      "options": ["900", "800", "1000", "750", "850"],
      "answer": "900"
    },
    {
      "question": "אמדו \u202A(445 + 267) + (312 + 189)\u202C",
      "options": ["1200", "1300", "1100", "1400", "1000"],
      "answer": "1200"
    },
    {
      "question": "מה הכי קרוב ל-\u202A(623 - 289) × 3\u202C?",
      "options": ["1000", "900", "1100", "800", "1200"],
      "answer": "1000"
    }
  ],

  // שלב 15 - תרחישי אומדן מחיי היומיום
  [
    {
      "question": "אמדו את העלות הכוללת של 4 ספרים במחיר ₪44.95 כל אחד בתוספת ₪19.90 דמי משלוח",
      "options": ["₪200", "₪190", "₪210", "₪180", "₪220"],
      "answer": "200"
    },
    {
      "question": "אם 247 תלמידים צריכים 3 עפרונות כל אחד, בערך כמה עפרונות נדרשים?",
      "options": ["750", "700", "800", "650", "850"],
      "answer": "750"
    },
    {
      "question": "אמדו את העודף מ-₪500 לאחר קניית פריטים במחיר ₪89.90, ₪129.50 ו-₪99.90",
      "options": ["₪180", "₪190", "₪170", "₪200", "₪160"],
      "answer": "180"
    },
    {
      "question": "כמה דקות בערך הן 2.8 שעות?",
      "options": ["170", "160", "180", "150", "190"],
      "answer": "170"
    },
    {
      "question": "אם מתכון משתמש ב-⅓ כוס סוכר למנה אחת ואתם צריכים 5 מנות, בערך כמה כוסות סוכר נדרשות?",
      "options": ["1.7", "1.5", "2.0", "1.2", "2.2"],
      "answer": "1.7"
    }
  ],

  // שלב 16 - מבוא לאחוזים
  [
    {
      "question": "אמדו 15% מ-240 על ידי שימוש ב-10% והוספת חצי מכך",
      "options": ["36", "30", "40", "25", "45"],
      "answer": "36"
    },
    {
      "question": "מה אומדן סביר ל-28% מ-300?",
      "options": ["90", "80", "100", "70", "110"],
      "answer": "90"
    },
    {
      "question": "עגלו לאומדן: 45% מ-180",
      "options": ["80", "90", "70", "100", "60"],
      "answer": "80"
    },
    {
      "question": "אמדו 65% מ-420 על ידי עיגול ל-50% ועוד",
      "options": ["270", "250", "290", "230", "310"],
      "answer": "270"
    },
    {
      "question": "מה הכי קרוב ל-85% מ-160?",
      "options": ["140", "130", "150", "120", "160"],
      "answer": "140"
    }
  ],

  // שלב 17 - כפל עשרוני עם עיגול
  [
    {
      "question": "אמדו \u202A3.14 × 7.8\u202C",
      "options": ["24", "21", "27", "18", "30"],
      "answer": "24"
    },
    {
      "question": "מה האומדן הטוב ביותר ל-\u202A5.6 × 4.2\u202C?",
      "options": ["24", "20", "28", "22", "26"],
      "answer": "24"
    },
    {
      "question": "עגלו \u202A2.75 × 6.4\u202C למספר השלם הקרוב",
      "options": ["18", "15", "21", "16", "20"],
      "answer": "18"
    },
    {
      "question": "אמדו \u202A8.3 × 3.9\u202C בעזרת עיגול",
      "options": ["32", "30", "35", "28", "40"],
      "answer": "32"
    },
    {
      "question": "מה הכי קרוב ל-\u202A4.5 × 5.8\u202C?",
      "options": ["26", "24", "28", "22", "30"],
      "answer": "26"
    }
  ],

  // שלב 18 - פעולות משולבות עם שברים
  [
    {
      "question": "אמדו \u202A(2¾ × 3) + 1½\u202C",
      "options": ["10", "9", "11", "8", "12"],
      "answer": "10"
    },
    {
      "question": "מה אומדן סביר ל-\u202A(5⅓ - 2¼) × 2\u202C?",
      "options": ["6", "7", "5", "8", "4"],
      "answer": "6"
    },
    {
      "question": "עגלו \u202A(4½ + 2¾) ÷ 2\u202C למספר השלם הקרוב",
      "options": ["4", "3", "5", "2", "6"],
      "answer": "4"
    },
    {
      "question": "אמדו \u202A(3⅔ × 4) - 2½\u202C",
      "options": ["12", "10", "14", "11", "15"],
      "answer": "12"
    },
    {
      "question": "מה הכי קרוב ל-\u202A(8¾ ÷ 2) + 1⅓\u202C?",
      "options": ["6", "5", "7", "4", "8"],
      "answer": "6"
    }
  ],

  // שלב 19 - אחוזים של כמויות בהקשר
  [
    {
      "question": "בבית ספר של 425 תלמידים, בערך כמה הם 75% מהסך הכל?",
      "options": ["320", "300", "340", "280", "360"],
      "answer": "320"
    },
    {
      "question": "אמדו 35% מ-280 תלמידים המשתתפים באירוע בית ספר",
      "options": ["100", "90", "110", "80", "120"],
      "answer": "100"
    },
    {
      "question": "בערך כמה פריטים הם 60% מ-150 מוצרים?",
      "options": ["90", "80", "100", "70", "110"],
      "answer": "90"
    },
    {
      "question": "אמדו 80% מ-340 מקומות ישיבה באולם",
      "options": ["270", "250", "290", "230", "310"],
      "answer": "270"
    },
    {
      "question": "מה אומדן סביר ל-45% מ-220 תשובות?",
      "options": ["100", "90", "110", "80", "120"],
      "answer": "100"
    }
  ],
  // שלב 20 - בעיות מורכבות רב-שלביות
  [
    {
      "question": "אמדו את התוצאה: \u202A(345 × 4) + (230 × 2)\u202C",
      "options": ["1800", "1700", "1900", "1600", "2000"],
      "answer": "1800",
      "explanation": "נעגל: \u202A(350 × 4) + (200 × 2) = 1400 + 400 = 1800\u202C"
    },
    {
      "question": "מה הכי קרוב לתוצאת החישוב: \u202A(625 ÷ 5) + (480 ÷ 3)\u202C?",
      "options": ["285", "270", "300", "255", "315"],
      "answer": "285",
      "explanation": "נעגל: \u202A(625 ÷ 5 = 125) + (480 ÷ 3 ≈ 160) ≈ 285\u202C"
    },
    {
      "question": "עגלו לאומדן את התרגיל: \u202A(892 - 356) × 3\u202C",
      "options": ["1600", "1500", "1700", "1400", "1800"],
      "answer": "1600",
      "explanation": "נעגל: \u202A(900 - 360) × 3 = 540 × 3 ≈ 1600\u202C"
    },
    {
      "question": "אמדו את התוצאה: \u202A(2.5 × 120) + (1.8 × 90)\u202C",
      "options": ["460", "440", "480", "420", "500"],
      "answer": "460",
      "explanation": "נעגל: \u202A(2.5 × 120 = 300) + (1.8 × 90 ≈ 160) = 460\u202C"
    },
    {
      "question": "מה הכי קרוב לתוצאת החישוב: \u202A(750 ÷ 2) - (180 × 1.5)\u202C?",
      "options": ["105", "90", "120", "75", "135"],
      "answer": "105",
      "explanation": "נעגל: \u202A(750 ÷ 2 = 375) - (180 × 1.5 = 270) = 105\u202C"
    }
  ],  
  // שלב 21 - שילובים מתקדמים של שברים ומספרים עשרוניים
  [
    {
      "question": "אמדו \u202A(3.75 × 2⅓) + 1.5\u202C",
      "options": ["10", "9", "11", "8", "12"],
      "answer": "10"
    },
    {
      "question": "מה האומדן הטוב ביותר ל-\u202A(5¼ × 1.8) - 2.5\u202C?",
      "options": ["7", "6", "8", "5", "9"],
      "answer": "7"
    },
    {
      "question": "עגלו \u202A(4.2 × 2¾) + 3.5\u202C למספר השלם הקרוב",
      "options": ["15", "14", "16", "13", "17"],
      "answer": "15"
    },
    {
      "question": "אמדו \u202A(6⅔ + 2.25) × 2\u202C",
      "options": ["18", "16", "20", "15", "22"],
      "answer": "18"
    },
    {
      "question": "מה הכי קרוב ל-\u202A(8.5 ÷ 2½) + 1¾\u202C?",
      "options": ["5", "4", "6", "3", "7"],
      "answer": "5"
    }
  ],

  // שלב 22 - בעיות קצב ויחס
  [
    {
      "question": "אם אתם נוסעים 620 קילומטרים ב-6.5 שעות, אמדו את המהירות הממוצעת",
      "options": ["95", "90", "100", "85", "105"],
      "answer": "95"
    },
    {
      "question": "אמדו את העלות של 7.8 ק״ג תפוחים במחיר ₪8.90 לק״ג",
      "options": ["70", "65", "75", "60", "80"],
      "answer": "70"
    },
    {
      "question": "אם 24 עובדים מסיימים עבודה ב-5.5 ימים, בערך כמה עובדים נדרשים כדי לסיים אותה ב-3 ימים?",
      "options": ["44", "40", "48", "36", "52"],
      "answer": "44"
    },
    {
      "question": "במהירות של 6.25 ק״מ לליטר דלק, אמדו כמה ליטרים נדרשים ל-450 ק״מ",
      "options": ["72", "68", "76", "64", "80"],
      "answer": "72"
    },
    {
      "question": "אם 15 פריטים עולים ₪145.50, אמדו את העלות של 25 פריטים",
      "options": ["240", "230", "250", "220", "260"],
      "answer": "240"
    }
  ],

  // שלב 23 - אומדן שטח והיקף
  [
    {
      "question": "אמדו את שטח המלבן שאורכו 4.2 מטרים ורוחבו 2.2 מטרים",
      "options": ["9", "8", "10", "7", "11"],
      "answer": "9"
    },
    {
      "question": "מה אומדן סביר להיקף ריבוע שאורך צלעו 2.65 מטרים?",
      "options": ["11", "10", "12", "9", "13"],
      "answer": "11"
    },
    {
      "question": "אמדו את שטח המשולש שבסיסו 3.8 מטרים וגובהו 2.6 מטרים",
      "options": ["5", "4", "6", "3", "7"],
      "answer": "5"
    },
    {
      "question": "עגלו לאומדן את היקף מלבן שאורכו 4.8 מטרים ורוחבו 2.85 מטרים",
      "options": ["15", "14", "16", "13", "17"],
      "answer": "15"
    },
    {
      "question": "מה הכי קרוב לשטח מעגל שרדיוסו 1.5 מטרים? (השתמשו ב-π ≈ 3.14)",
      "options": ["7", "6", "8", "5", "9"],
      "answer": "7"
    }
  ],

  // שלב 24 - אומדן נפח
  [
    {
      "question": "אמדו את נפח הקופסה שמידותיה: אורך 21 ס״מ, רוחב 10.5 ס״מ, וגובה 9.5 ס״מ",
      "options": ["2100", "2000", "2200", "1900", "2300"],
      "answer": "2100"
    },
    {
      "question": "מה אומדן סביר לנפח קובייה שאורך צלעה 14 ס״מ?",
      "options": ["2750", "2650", "2850", "2550", "2950"],
      "answer": "2750"
    },
    {
      "question": "אמדו כמה מטרים מעוקבים בחדר שמידותיו 3.8 מטר אורך, 3 מטר רוחב, ו-2.5 מטר גובה",
      "options": ["28", "26", "30", "24", "32"],
      "answer": "28"
    },
    {
      "question": "עגלו לאומדן את נפח הגליל שרדיוסו 1 מטר וגובהו 2.3 מטר (השתמשו ב-π ≈ 3)",
      "options": ["7", "6", "8", "5", "9"],
      "answer": "7"
    },
    {
      "question": "מה הכי קרוב לנפח פירמידה ששטח בסיסה 11.5 מטר מרובע וגובהה 2.7 מטר?",
      "options": ["10", "9", "11", "8", "12"],
      "answer": "10"
    }
  ],

  // שלב 25 - בעיות אחוזים מורכבות
  [
    {
      "question": "אם 15% מהתלמידים נעדרים ו-340 תלמידים נוכחים, אמדו את המספר הכולל של התלמידים",
      "options": ["400", "380", "420", "360", "440"],
      "answer": "400"
    },
    {
      "question": "מחיר עולה ב-28% מ-₪450. אמדו את המחיר החדש",
      "options": ["575", "550", "600", "525", "625"],
      "answer": "575"
    },
    {
      "question": "אם 85% מ-460 תלמידים עברו, בערך כמה נכשלו?",
      "options": ["70", "60", "80", "50", "90"],
      "answer": "70"
    },
    {
      "question": "פריט שמחירו ₪680 מקבל הנחה של 35%. אמדו את החיסכון",
      "options": ["240", "220", "260", "200", "280"],
      "answer": "240"
    },
    {
      "question": "אם 42% מ-850 הצבעות היו 'כן', אמדו כמה הצביעו 'לא'",
      "options": ["490", "470", "510", "450", "530"],
      "answer": "490"
    }
  ],

  // שלב 26 - זיהוי תבניות ואומדן
  [
    {
      "question": "בתבנית 150, 275, 400, 525, אמדו את המספר הבא",
      "options": ["650", "600", "700", "625", "675"],
      "answer": "650"
    },
    {
      "question": "אם תבנית עולה ב-2.5 בכל פעם: 4.5, 7, 9.5, אמדו את שני המספרים הבאים",
      "options": ["12, 14.5", "12, 15", "11.5, 14", "12.5, 15", "11, 13.5"],
      "answer": "12, 14.5"
    },
    {
      "question": "בסדרה 3, 6, 12, 24, אמדו את שני האיברים הבאים",
      "options": ["48, 96", "45, 90", "50, 100", "46, 92", "52, 104"],
      "answer": "48, 96"
    },
    {
      "question": "תבנית: 1000, 850, 700, 550. אמדו את המספר הבא",
      "options": ["400", "375", "425", "350", "450"],
      "answer": "400"
    },
    {
      "question": "אם תבנית מכפילה ומוסיפה 5: 3, 11, 27, אמדו את המספר הבא",
      "options": ["59", "55", "63", "51", "67"],
      "answer": "59"
    }
  ],

  // שלב 27 - בעיות כסף מורכבות
  [
    {
      "question": "אמדו סך הכל: 3 פריטים במחיר ₪44.95, 2 במחיר ₪32.50, ומע״מ 17%",
      "options": ["₪240", "₪230", "₪250", "₪220", "₪260"],
      "answer": "240"
    },
    {
      "question": "אחרי הנחה של 25% ומע״מ 17%, אמדו את המחיר הסופי של פריט שמחירו ₪840",
      "options": ["₪735", "₪720", "₪750", "₪705", "₪765"],
      "answer": "735"
    },
    {
      "question": "אמדו תשלום חודשי על ₪4200 בפריסה ל-15 חודשים עם עמלה של 5%",
      "options": ["₪295", "₪285", "₪305", "₪275", "₪315"],
      "answer": "295"
    },
    {
      "question": "אם 3 אנשים מתחלקים בחשבון של ₪625 בתוספת 15% טיפ, אמדו את חלקו של כל אחד",
      "options": ["₪240", "₪230", "₪250", "₪220", "₪260"],
      "answer": "240"
    },
    {
      "question": "אמדו חיסכון על 40% הנחה מ-₪1150 בתוספת קופון של ₪85",
      "options": ["₪545", "₪525", "₪565", "₪505", "₪585"],
      "answer": "545"
    }
  ],

  // שלב 28 - אומדן זמן ומרחק
  [
    {
      "question": "אם אתם נוסעים 285 ק״מ במהירות של כ-65 קמ״ש, אמדו את זמן הנסיעה בשעות",
      "options": ["4.5", "4", "5", "3.5", "5.5"],
      "answer": "4.5"
    },
    {
      "question": "אמדו סך הכל דקות: 2.75 שעות ועוד 95 דקות",
      "options": ["260", "240", "280", "220", "300"],
      "answer": "260"
    },
    {
      "question": "אם לוקח 1.8 שעות להשלים 30% מהמשימה, אמדו את הזמן הכולל הנדרש",
      "options": ["6", "5.5", "6.5", "5", "7"],
      "answer": "6"
    },
    {
      "question": "אמדו קילומטרים שנסעו ב-4.25 שעות במהירות 88 קמ״ש",
      "options": ["375", "350", "400", "325", "425"],
      "answer": "375"
    },
    {
      "question": "אם 5 עובדים לוקחים 3.6 ימים, אמדו כמה ימים יידרשו ל-3 עובדים",
      "options": ["6", "5.5", "6.5", "5", "7"],
      "answer": "6"
    }
  ],
  // שלב 29 - אומדן המרות טמפרטורה ומידות
  [
    {
      "question": "אמדו את הטמפרטורה בפרנהייט כשבחוץ 28 מעלות צלזיוס בעזרת הנוסחה \u202A(°C × 1.8) + 32 = °F\u202C",
      "options": ["82", "80", "84", "78", "86"],
      "answer": "82",
      "explanation": "28 × 1.8 = 50.4, ועוד 32 מתקרב ל-82"
    },
    {
      "question": "אמדו כמה ק״ג יש ב-3.2 טון",
      "options": ["3200", "3000", "3400", "2800", "3600"],
      "answer": "3200",
      "explanation": "טון אחד = 1000 ק״ג"
    },
    {
      "question": "אמדו כמה מ״ל יש ב-2.4 ליטר",
      "options": ["2400", "2200", "2600", "2000", "2800"],
      "answer": "2400",
      "explanation": "ליטר אחד = 1000 מ״ל"
    },
    {
      "question": "אמדו כמה מטרים יש ב-2.8 ק״מ",
      "options": ["2800", "2600", "3000", "2400", "3200"],
      "answer": "2800",
      "explanation": "קילומטר אחד = 1000 מטר"
    },
    {
      "question": "אמדו כמה סמ״ק יש בקובייה שאורך צלעה 8.5 ס״מ",
      "options": ["610", "590", "630", "570", "650"],
      "answer": "610",
      "explanation": "8.5 × 8.5 × 8.5 מתקרב ל-610"
    }
  ],
  // שלב 30 - בעיות אחוזים רב-שלביות מתקדמות
  [
    {
      "question": "פריט שמחירו ₪450 מתייקר ב-25% ואז מקבל הנחה של 20%. אמדו את המחיר הסופי",
      "options": ["450", "425", "475", "400", "500"],
      "answer": "450"
    },
    {
      "question": "אם 40% מ-300 תלמידים קיבלו ציון מצוין, ו-25% מאלה קיבלו 100, אמדו כמה קיבלו 100",
      "options": ["30", "25", "35", "20", "40"],
      "answer": "30"
    },
    {
      "question": "אחרי עלייה של 15% וירידה של 8%, אמדו את המחיר החדש של פריט שעלה ₪840",
      "options": ["890", "870", "910", "850", "930"],
      "answer": "890"
    },
    {
      "question": "אם 80% מ-450 הצביעו, ו-65% הסכימו, אמדו את סך הקולות המסכימים",
      "options": ["235", "220", "250", "205", "265"],
      "answer": "235"
    },
    {
      "question": "מחיר עולה ב-30%, יורד ב-20%, עולה ב-15%. אמדו את אחוז השינוי הכולל מההתחלה",
      "options": ["20", "15", "25", "10", "30"],
      "answer": "20"
    }
  ],

  // שלב 31 - שילובים מורכבים של שברים ומספרים עשרוניים
  [
    {
      "question": "אמדו \u202A(2.75 × 3⅓) + (4.5 ÷ 1½)\u202C",
      "options": ["12", "11", "13", "10", "14"],
      "answer": "12"
    },
    {
      "question": "עגלו לאומדן: \u202A(5¾ × 2.4) - (3.5 ÷ 1¼)\u202C",
      "options": ["11", "10", "12", "9", "13"],
      "answer": "11"
    },
    {
      "question": "מה הכי קרוב ל-\u202A(6.25 × 1⅔) + (2.5 × 1¾)\u202C?",
      "options": ["15", "14", "16", "13", "17"],
      "answer": "15"
    },
    {
      "question": "אמדו \u202A(8.5 - 2⅓) × (3.75 ÷ 1½)\u202C",
      "options": ["15", "14", "16", "13", "17"],
      "answer": "15"
    },
    {
      "question": "עגלו לאומדן: \u202A(4.8 × 2¼) + (7.5 ÷ 2½)\u202C",
      "options": ["14", "13", "15", "12", "16"],
      "answer": "14"
    }
  ],

  // שלב 32 - בעיות יחס מחיי היומיום
  [
    {
      "question": "אם צבע מכסה 30 מ״ר לליטר, אמדו כמה ליטרים נדרשים ל-265 מ״ר",
      "options": ["9", "8", "10", "7", "11"],
      "answer": "9"
    },
    {
      "question": "ב-2.75 ק״ג למנה, אמדו כמה מנות יש ב-35.5 ק״ג",
      "options": ["13", "12", "14", "11", "15"],
      "answer": "13"
    },
    {
      "question": "אם 12 עובדים לוקחים 5.5 ימים, אמדו כמה ימים ייקחו 15 עובדים",
      "options": ["4.5", "4", "5", "3.5", "5.5"],
      "answer": "4.5"
    },
    {
      "question": "במחיר ₪9.90 לק״ג, אמדו את העלות של 7.8 ק״ג",
      "options": ["77", "75", "79", "73", "81"],
      "answer": "77"
    },
    {
      "question": "אם 8 מדפסות לוקחות 3.25 שעות, אמדו את הזמן ל-12 מדפסות",
      "options": ["2.2", "2", "2.4", "1.8", "2.6"],
      "answer": "2.2"
    }
  ],

  // שלב 33 - בעיות מדידה מורכבות
  [
    {
      "question": "אמדו שטח טרפז: בסיסים 2.6 מטר ו-3.7 מטר, גובה 1.4 מטר",
      "options": ["4.4", "4.2", "4.6", "4.0", "4.8"],
      "answer": "4.4"
    },
    {
      "question": "מה סביר לנפח גליל: רדיוס 1 מטר, גובה 2.7 מטר? (π≈3.14)",
      "options": ["8.5", "8", "9", "7.5", "9.5"],
      "answer": "8.5"
    },
    {
      "question": "אמדו שטח פנים של קובייה עם צלע 1.85 מטר",
      "options": ["20.5", "19.5", "21.5", "18.5", "22.5"],
      "answer": "20.5"
    },
    {
      "question": "עגלו לאומדן היקף: מחומש עם צלעות 2.4, 2.5, 2.3, 2.6, 2.4 מטר",
      "options": ["12", "11.5", "12.5", "11", "13"],
      "answer": "12"
    },
    {
      "question": "אמדו שטח מעגל עם קוטר 3 מטר (π≈3.14)",
      "options": ["7", "6.5", "7.5", "6", "8"],
      "answer": "7"
    }
  ],

  // שלב 34 - אומדן תבניות וסדרות מתקדמות
  [
    {
      "question": "תבנית: 2.5, 4, 6.5, 10, אמדו את שני האיברים הבאים",
      "options": ["14.5, 20", "14, 19.5", "15, 20.5", "13.5, 19", "15.5, 21"],
      "answer": "14.5, 20"
    },
    {
      "question": "סדרה: 1000, 800, 640, אמדו את שני האיברים הבאים",
      "options": ["512, 410", "500, 400", "525, 420", "490, 392", "535, 428"],
      "answer": "512, 410"
    },
    {
      "question": "אם תבנית משלשת ואז מחסירה 5: 3, 4, 7, 16, אמדו את הבא",
      "options": ["43", "40", "46", "37", "49"],
      "answer": "43"
    },
    {
      "question": "תבנית גדלה ב-2.5 ואז מוכפלת ב-1.5: 4, 6.5, 13.5, אמדו את הבא",
      "options": ["24", "22", "26", "20", "28"],
      "answer": "24"
    },
    {
      "question": "סדרה: 5, 8, 12.8, 20.48, אמדו את האיבר הבא",
      "options": ["32.8", "31.2", "34.4", "30", "35.6"],
      "answer": "32.8"
    }
  ],

  // שלב 35 - חשיבה יחסית מורכבת
  [
    {
      "question": "אם 5.5 כוסות משרתות 8 אנשים, אמדו כמה כוסות נדרשות ל-35 אנשים",
      "options": ["24", "22", "26", "20", "28"],
      "answer": "24"
    },
    {
      "question": "כאשר 12 מכונות לוקחות 3.75 שעות, אמדו את הזמן ל-18 מכונות",
      "options": ["2.5", "2", "3", "2.25", "2.75"],
      "answer": "2.5"
    },
    {
      "question": "אם 2.8 ק״ג מאכילים 6 חתולים, אמדו ק״ג ל-15 חתולים",
      "options": ["7", "6.5", "7.5", "6", "8"],
      "answer": "7"
    },
    {
      "question": "כאשר 9 עובדים מרווחים ₪14,900, אמדו את הרווח ל-13 עובדים",
      "options": ["21,500", "21,000", "22,000", "20,500", "22,500"],
      "answer": "21,500"
    },
    {
      "question": "אם 3.2 ליטר ממלאים 14 מכלים, אמדו ליטרים ל-35 מכלים",
      "options": ["8", "7.5", "8.5", "7", "9"],
      "answer": "8"
    }
  ],

  // שלב 36 - בעיות קצב מתקדמות
  [
    {
      "question": "בצריכת דלק של 16 ק״מ לליטר, אמדו ליטרים ל-450 ק״מ כולל 15% תוספת מרחק",
      "options": ["32", "30", "34", "28", "36"],
      "answer": "32"
    },
    {
      "question": "במהירות ממוצעת של 90 קמ״ש עם 20% האטה בפקקים, אמדו זמן נסיעה ל-360 ק״מ",
      "options": ["4.5", "4", "5", "3.5", "5.5"],
      "answer": "4.5"
    },
    {
      "question": "במחיר ₪9.90 לק״ג עם 25% הנחת כמות, אמדו עלות ל-12.5 ק״ג",
      "options": ["93", "90", "96", "87", "99"],
      "answer": "93"
    },
    {
      "question": "בהקלדת 45 מילים לדקה, אמדו דקות ל-3850 מילים עם 10% טעויות",
      "options": ["94", "90", "98", "86", "102"],
      "answer": "94"
    },
    {
      "question": "בקצב של 2.4 פריטים לדקה עם 15% זמן בדיקה, אמדו דקות ל-95 פריטים",
      "options": ["46", "43", "49", "40", "52"],
      "answer": "46"
    }
  ],

  // שלב 37 - שרשרות אחוזים מורכבות
  [
    {
      "question": "פריט מתייקר ב-40%, מקבל הנחה של 25%, ומוסיפים מע״מ 17%. אמדו מחיר סופי מ-₪700",
      "options": ["820", "800", "840", "780", "860"],
      "answer": "820"
    },
    {
      "question": "אוכלוסייה גדלה ב-15%, יורדת ב-8%, גדלה ב-20%. אמדו סך חדש מ-5000",
      "options": ["6200", "6000", "6400", "5800", "6600"],
      "answer": "6200"
    },
    {
      "question": "מחיר עולה ב-30%, יורד ב-20%, עולה ב-15%, יורד ב-10%. אמדו שינוי מ-₪1400",
      "options": ["1540", "1500", "1580", "1460", "1620"],
      "answer": "1540"
    },
    {
      "question": "השקעה מרוויחה 25%, מפסידה 15%, מרוויחה 20%. אמדו תשואה על ₪17,500",
      "options": ["20,125", "19,500", "20,750", "18,875", "21,375"],
      "answer": "20,125"
    },
    {
      "question": "אם 85% מ-400 תלמידים עוברים, ו-75% מאלה מקבלים ציון 80 ומעלה, אמדו את הכמות",
      "options": ["255", "240", "270", "225", "285"],
      "answer": "255"
    }
  ],

  // שלב 38 - פעולות מעורבות מורכבות
  [
    {
      "question": "אמדו \u202A((425 × 0.85) + (290 × 1.2)) ÷ 5\u202C",
      "options": ["125", "120", "130", "115", "135"],
      "answer": "125"
    },
   {
      "question": "מה הכי קרוב ל-\u202A(3½ × 24) + (2.75 × 16)\u202C?",
      "options": ["128", "120", "136", "112", "144"],
      "answer": "128"
    },
    {
      "question": "אמדו \u202A(845 - 285) × 1.5 + 125\u202C",
      "options": ["960", "920", "1000", "880", "1040"],
      "answer": "960"
    },
    {
      "question": "עגלו לאומדן: \u202A(625 ÷ 2.5) + (480 × 0.75)\u202C",
      "options": ["610", "590", "630", "570", "650"],
      "answer": "610"
    },
    {
      "question": "מה הכי קרוב ל-(15% מ-840) ועוד (¾ מ-360)?",
      "options": ["396", "380", "412", "364", "428"],
      "answer": "396"
    }
  ],

  // שלב 39 - פתרון בעיות מחיי היומיום
  [
    {
      "question": "מתכון ל-6 אנשים משתמש ב-2¾ כוסות קמח. אמדו כמה קמח נדרש ל-15 אנשים כולל 10% תוספת",
      "options": ["7.5", "7", "8", "6.5", "8.5"],
      "answer": "7.5"
    },
    {
      "question": "אם מיכל מאבד 2.8 ליטר לשעה ומתחיל עם 45.5 ליטר, אמדו שעות עד שיישארו 20%",
      "options": ["13", "12", "14", "11", "15"],
      "answer": "13"
    },
    {
      "question": "חנות מעלה מחירים ב-85%, ואז מציעה 40% הנחה. אמדו מחיר סופי לפריט של ₪840",
      "options": ["935", "900", "970", "865", "1000"],
      "answer": "935"
    },
    {
      "question": "רכב צורך בממוצע 7 ק״מ לליטר בכביש מהיר, 5.5 בעיר. ל-300 ק״מ (60% כביש מהיר), אמדו ליטרים נדרשים",
      "options": ["48", "45", "51", "42", "54"],
      "answer": "48"
    },
    {
      "question": "קבוצה מנצחת 85% מ-40 המשחקים הראשונים, צריכה 75% סה״כ לפלייאוף. אמדו ניצחונות נדרשים ב-20 המשחקים האחרונים",
      "options": ["11", "10", "12", "9", "13"],
      "answer": "11"
    }
  ],

  // שלב 40 - אתגרי אומדן מתקדמים
  [
    {
      "question": "אמדו תשלום חודשי על הלוואה של ₪43,750 ל-30 חודשים עם ריבית שנתית של 6%",
      "options": ["1625", "1575", "1675", "1525", "1725"],
      "answer": "1625"
    },
    {
      "question": "ספינת מכולות נוסעת 900 ק״מ במהירות 43.5 קמ״ש עם 15% עיכוב. אמדו שעות נדרשות",
      "options": ["24", "22", "26", "20", "28"],
      "answer": "24"
    },
    {
      "question": "בריכה מלבנית 5.6 מטר × 10 מטר בעומק ממוצע 1.6 מטר. אמדו נפח במ״ק",
      "options": ["90", "85", "95", "80", "100"],
      "answer": "90"
    },
    {
      "question": "מפעל מייצר 845 יחידות ליום ב-92% יעילות. אמדו ימים ל-15,000 יחידות עם 5% פגומים",
      "options": ["19", "18", "20", "17", "21"],
      "answer": "19"
    },
    {
      "question": "השקעה צומחת 8% שנתית. בהתחלה מ-₪12,250, אמדו ערך אחרי 2.5 שנים עם ריבית דריבית",
      "options": ["15,300", "15,000", "15,600", "14,700", "15,900"],
      "answer": "15,300"
    }
  ]
	  
        ];

        const stageCount = quizData.length;

        const stateContents = {
	
		'תרגול': `<div id="stage-number" class="stage-number">שלב 1 מתוך ${quizData.length}</div><div class="progress-bar-container"><div id="progress-bar" class="progress-bar"></div></div><div id="attempts">ניסיונות: 0</div><div id="quiz-content"></div><button class="center-button" onclick="checkStage()">בדיקת תשובות</button>`
		,'לימוד הנושא 🗝️': 
		`
<div class="subject-overview-content subject-overview-content_heb">   <h1>הערכת סכומים, הפרשים, מכפלות ומנות: מדריך מקיף</h1>   <p>הערכת ערכים היא מיומנות מתמטית בסיסית הכוללת ביצוע חישובים מקורבים או הערכות של סכומים, הפרשים, מכפלות ומנות. היא חיונית לקבלת החלטות מהירה, לבדוק את סבירות התשובות ולפשט חישובים מורכבים. מדריך זה יחקר טכניקות להערכת כל אחת מהפעולות הללו, ויספק הסברים מפורטים ודוגמאות רבות כדי לעזור לכם לשלוט במיומנויות ההערכה בצורה יעילה.</p>   <hr>   <h2 class="highlight_heb">תוכן העניינים</h2>   <ol>     <li><a href="#what-is-estimating" class="highlight_heb">מהי הערכה?</a></li>     <li><a href="#general-characteristics-of-estimating" class="highlight_heb">מאפיינים כלליים של הערכה</a></li>     <li><a href="#detailed-explanation-of-estimating" class="highlight_heb">הסבר מפורט על הערכה</a>       <ul>         <li><a href="#estimating-sums" class="highlight_heb">הערכת סכומים</a></li>         <li><a href="#estimating-differences" class="highlight_heb">הערכת הפרשים</a></li>         <li><a href="#estimating-products" class="highlight_heb">הערכת מכפלות</a></li>         <li><a href="#estimating-quotients" class="highlight_heb">הערכת מנות</a></li>       </ul>     </li>     <li><a href="#conclusion" class="highlight_heb">סיכום</a></li>   </ol>   <hr>   <h2 id="what-is-estimating" class="highlight_heb">מהי הערכה?</h2>   <p>הערכת ערכים כוללת ביצוע חישוב מקורב או שיפוט ערך, מספר, כמות או גודל של משהו. היא מיומנות קריטית במתמטיקה המאפשרת הערכות מהירות ללא ביצוע חישובים מדויקים. הערכה משמשת במגוון תרחישים בחיי היומיום, מהכנת תקציבים וקניות ועד מדידות ותכנון.</p>   <p>היבטים מרכזיים של הערכה כוללים:</p>   <ul>     <li>עיגול מספרים לערכים פשוטים יותר.</li>     <li>שימוש במספרים תואמים לפישוט חישובים.</li>     <li>החלת אסטרטגיות חשבון מנטלי להערכת תוצאות.</li>   </ul>   <p>מדריך זה יתמקד ב<strong>הערכת סכומים</strong>, <strong>הפרשים</strong>, <strong>מכפלות</strong> ו-<strong>מנות</strong>.</p>   <hr>   <h2 id="general-characteristics-of-estimating" class="highlight_heb">מאפיינים כלליים של הערכה</h2>   <p>לפני שנצלול לפעולות ספציפיות, חשוב להבין כמה עקרונות כלליים של הערכה:</p>   <ol>     <li><strong>עיגול מספרים:</strong> הערכה כוללת לעיתים קרובות עיגול מספרים לעשרה, מאה או לערך נוח אחר לפישוט החישובים.</li>     <li><strong>שימוש במספרים תואמים:</strong> בחירת מספרים שקל לעבוד איתם מחשבתית יכולה להאיץ ולהגדיל את דיוק ההערכה.</li>     <li><strong>אסטרטגיות חשבון מנטלי:</strong> טכניקות כמו פירוק מספרים לחלקים, פיצוי ואשכולות משמשות באופן נפוץ בהערכה.</li>     <li><strong>בדיקת סבירות:</strong> הערכה משמשת ככלי לאימות אם חישובים מדויקים הם סבירים ועמידים בטווח הציפיות.</li>   </ol>   <hr>   <h2 id="detailed-explanation-of-estimating" class="highlight_heb">הסבר מפורט על הערכה</h2>     <h3 id="estimating-sums" class="highlight_heb">הערכת סכומים</h3>   <p><strong>משמעות ושימוש:</strong></p>   <ol>     <li><strong>עיגול לפני חיבור:</strong> עיגול כל מספר להוסיף לערך נוח לפני החיבור מפשט את התהליך.       <ul>         <li><em>דוגמה:</em> להעריך את הסכומים של 47 + 68, עגלו ל-50 + 70 = 120.</li>         <li><em>דוגמה:</em> הערכת 123 + 456 על ידי עיגול ל-120 + 460 = 580.</li>       </ul>     </li>     <li><strong>מספרים תואמים:</strong> בחירת מספרים שקל להוסיף מחשבתית מסייעת בהערכה מהירה.       <ul>         <li><em>דוגמה:</em> הערכת 198 + 302 על ידי התאמה ל-200 + 300 = 500.</li>         <li><em>דוגמה:</em> הערכת 76 + 89 על ידי עיגול ל-80 + 90 = 170.</li>       </ul>     </li>     <li><strong>פיצול לחלקים:</strong> פירוק מספרים לחלקים קטנים ונוחים יכול להפוך את החיבור לקל יותר.       <ul>         <li><em>דוגמה:</em> להעריך 123 + 456, פיצול ל-(100 + 400) + (20 + 50) + (3 + 6) = 500 + 70 + 9 ≈ 580.</li>         <li><em>דוגמה:</em> הערכת 67 + 34 על ידי הוספת 60 + 30 ו-7 + 4 לקבלת 90 + 11 = 101.</li>       </ul>     </li>   </ol>   <p><strong>דוגמאות:</strong></p>   <ul>     <li><em>העריכו את הסכומים של 35 ו-47.</em> מעוגלים: 40 + 50 = 90.</li>     <li><em>העריכו 289 + 512.</em> מעוגלים: 290 + 510 = 800.</li>     <li><em>העריכו 123 + 456.</em> מעוגלים: 120 + 460 = 580.</li>   </ul>   <p><strong>טיפים:</strong></p>   <ul>     <li>עגול לעשרה הקרובה או למאה בהתאם לגודל המספרים.</li>     <li>התאם את ההערכה הסופית אם יש צורך כדי לקחת בחשבון את כיוון העיגול.</li>     <li>השתמשו בפיצול לחלקים כדי לפשט את חיבור המספרים הגדולים.</li>   </ul>   <hr>     <h3 id="estimating-differences" class="highlight_heb">הערכת הפרשים</h3>   <p><strong>משמעות ושימוש:</strong></p>   <ol>     <li><strong>עיגול לפני חיסור:</strong> עיגול כל מספר לפישוט החיסור.       <ul>         <li><em>דוגמה:</em> להעריך 85 פחות 38, עגלו ל-80 פחות 40 = 40.</li>         <li><em>דוגמה:</em> הערכת 150 פחות 75 על ידי עיגול ל-150 פחות 80 = 70.</li>       </ul>     </li>     <li><strong>מספרים תואמים:</strong> בחירת מספרים שמקלים על החיסור מסייעת בהערכה.       <ul>         <li><em>דוגמה:</em> הערכת 93 פחות 47 על ידי התאמה ל-90 פחות 50 = 40.</li>         <li><em>דוגמה:</em> הערכת 220 פחות 135 על ידי עיגול ל-220 פחות 140 = 80.</li>       </ul>     </li>     <li><strong>פיצוי:</strong> התאמת אחד המספרים ופיצוי על ידי התאמת התוצאה.       <ul>         <li><em>דוגמה:</em> להעריך 102 פחות 58, עגלו 102 ל-100 ו-58 ל-60. חיסור 100 פחות 60 = 40, ואז פיצוי על ידי הוספת 2 (מאחר ו-102 הועגלו למטה ב-2 ו-58 הועגלו למעלה ב-2): 40 + 2 = 42.</li>         <li><em>דוגמה:</em> הערכת 175 פחות 98 על ידי עיגול ל-180 פחות 100 = 80, ואז פיצוי על ידי חיסור 5 (מאחר ו-175 הועגלו למעלה ב-5 ו-98 הועגלו למעלה ב-2): 80 - 5 = 75.</li>       </ul>     </li>   </ol>   <p><strong>דוגמאות:</strong></p>   <ul>     <li><em>העריכו את ההפרשים בין 62 ל-19.</em> מעוגלים: 60 פחות 20 = 40.</li>     <li><em>העריכו 134 פחות 58.</em> מעוגלים: 130 פחות 60 = 70.</li>     <li><em>העריכו 200 פחות 123.</em> מעוגלים: 200 פחות 120 = 80.</li>   </ul>   <p><strong>טיפים:</strong></p>   <ul>     <li>ודאו שהמספרים המעוגלים שומרים על גדלי המספרים היחסיים של המספרים המקוריים.</li>     <li>בדקו אם העיגול למעלה או למטה משפיע על דיוק ההערכה.</li>     <li>השתמשו בפיצוי לשיפור דיוק ההערכות שלכם.</li>   </ul>   <hr>     <h3 id="estimating-products" class="highlight_heb">הערכת מכפלות</h3>   <p><strong>משמעות ושימוש:</strong></p>   <ol>     <li><strong>עיגול לפני כפל:</strong> עיגול כל אחד מהגורמים לפישוט הכפל.       <ul>         <li><em>דוגמה:</em> להעריך 24 × 19, עגלו ל-20 × 20 = 400.</li>         <li><em>דוגמה:</em> הערכת 37 × 42 על ידי עיגול ל-40 × 40 = 1600.</li>       </ul>     </li>     <li><strong>שימוש במספרים תואמים:</strong> בחירת גורמים שקל לכפול אותם מחשבתית מסייעת בהערכה.       <ul>         <li><em>דוגמה:</em> הערכת 48 × 52 על ידי התאמה ל-50 × 50 = 2500.</li>         <li><em>דוגמה:</em> הערכת 76 × 29 על ידי עיגול ל-80 × 30 = 2400.</li>       </ul>     </li>     <li><strong>פיצול לחלקים:</strong> פירוק מספרים לסכומים יכול לפשט את הכפל.       <ul>         <li><em>דוגמה:</em> להעריך 35 × 47, פיצול ל-(30 × 40) + (30 × 7) + (5 × 40) + (5 × 7) ≈ 1200 + 210 + 200 + 35 = 1645.</li>         <li><em>דוגמה:</em> הערכת 56 × 23 על ידי פיצול ל-(50 × 20) + (50 × 3) + (6 × 20) + (6 × 3) ≈ 1000 + 150 + 120 + 18 = 1288.</li>       </ul>     </li>     <li><strong>שימוש בחוק ההתפלגות:</strong> יישום עקרונות אלגבריים לפישוט הכפל.       <ul>         <li><em>דוגמה:</em> להעריך 47 × 53, השתמשו ב-(50 - 3) × (50 + 3) = 50² - 3² = 2500 - 9 = 2491.</li>         <li><em>דוגמה:</em> הערכת 62 × 38 על ידי שימוש ב-(60 + 2) × (40 - 2) = 60×40 + 60×(-2) + 2×40 + 2×(-2) ≈ 2400 - 120 + 80 - 4 = 2356.</li>       </ul>     </li>   </ol>   <p><strong>דוגמאות:</strong></p>   <ul>     <li><em>העריכו את המכפלות של 13 ו-27.</em> מעוגלות: 10 × 30 = 300.</li>     <li><em>העריכו 45 × 62.</em> מעוגלות: 50 × 60 = 3000.</li>     <li><em>העריכו 99 × 98.</em> מעוגלות: 100 × 100 = 10000.</li>   </ul>   <p><strong>טיפים:</strong></p>   <ul>     <li>למספרים הקרובים ל-100, שקלו להעריך כ-100 × מספר.</li>     <li>השתמשו בעיגול לעשרה הקרובה לחישובים מחשבתיים מהירים.</li>     <li>החלת חוק ההתפלגות לטיפול בכפל מורכב יותר.</li>   </ul>   <hr>     <h3 id="estimating-quotients" class="highlight_heb">הערכת מנות</h3>   <p><strong>משמעות ושימוש:</strong></p>   <ol>     <li><strong>עיגול לפני חלוקה:</strong> עיגול המחלק וה/או המחולק לפישוט החלוקה.       <ul>         <li><em>דוגמה:</em> להעריך 144 ÷ 12, עגלו ל-150 ÷ 10 = 15.</li>         <li><em>דוגמה:</em> הערכת 198 ÷ 47 על ידי עיגול ל-200 ÷ 50 = 4.</li>       </ul>     </li>     <li><strong>שימוש במספרים תואמים:</strong> בחירת מספרים שמקלים על החלוקה מסייעת בהערכה.       <ul>         <li><em>דוגמה:</em> הערכת 85 ÷ 17 על ידי התאמה ל-80 ÷ 20 = 4.</li>         <li><em>דוגמה:</em> הערכת 121 ÷ 11 על ידי עיגול ל-120 ÷ 10 = 12.</li>       </ul>     </li>     <li><strong>פיצול לחלקים:</strong> פירוק מספרים לסכומים או מכפלות יכול לפשט את החלוקה.       <ul>         <li><em>דוגמה:</em> להעריך 250 ÷ 40, פיצול ל-200 ÷ 40 + 50 ÷ 40 ≈ 5 + 1.25 ≈ 6.25.</li>         <li><em>דוגמה:</em> הערכת 180 ÷ 25 על ידי פיצול ל-(150 ÷ 25) + (30 ÷ 25) = 6 + 1.2 = 7.2.</li>       </ul>     </li>     <li><strong>פעולות הופכיות:</strong> שימוש בכפל למציאת מנות מקורבות.       <ul>         <li><em>דוגמה:</em> להעריך 144 ÷ 12, הכירו כי 12 × 12 = 144, כך שההערכה היא 12.</li>         <li><em>דוגמה:</em> הערכת 85 ÷ 17 על ידי ידיעת ש-17 × 5 = 85, כך שההערכה היא 5.</li>       </ul>     </li>   </ol>   <p><strong>דוגמאות:</strong></p>   <ul>     <li><em>העריכו את המנות של 56 ÷ 8.</em> מעוגלות: 60 ÷ 10 = 6.</li>     <li><em>העריכו 125 ÷ 25.</em> מעוגלות: 120 ÷ 20 = 6.</li>     <li><em>העריכו 299 ÷ 50.</em> מעוגלות: 300 ÷ 50 = 6.</li>   </ul>   <p><strong>טיפים:</strong></p>   <ul>     <li>עגול את המחלק למספר שמקל על החלוקה.</li>     <li>שקלו כמה עליכם להתאים את ההערכה בהתבסס על כיוון העיגול.</li>     <li>השתמשו בפעולות הופכיות לאימות ההערכות שלכם.</li>   </ul>   <hr>     <h2 id="conclusion" class="highlight_heb">סיכום</h2>   <p>הערכת סכומים, הפרשים, מכפלות ומנות היא מיומנות בעלת ערך שמגבירה את היעילות והדיוק המתמטיים. על ידי שליטה בטכניקות העיגול, שימוש במספרים תואמים והחלת אסטרטגיות חשבון מנטלי, תוכלו לבצע הערכות מהירות ואמינות במגוון הקשרים.</p>   <p>הנה סיכום מהיר:</p>   <ul>     <li><strong>הערכת סכומים:</strong> כוללת עיגול מספרים ושימוש במספרים תואמים לפישוט החיבור.</li>     <li><strong>הערכת הפרשים:</strong> משתמשת בעיגול ומספרים תואמים כדי להפוך את החיסור ליותר נוח.</li>     <li><strong>הערכת מכפלות:</strong> מתמקדת בעיגול גורמים ופיצול מספרים להקל על הכפל.</li>     <li><strong>הערכת מנות:</strong> כוללת עיגול המחולק והמחלק לפישוט החלוקה.</li>   </ul>   <p><strong>זכרו:</strong> הערכה היא כלי חזק לבדיקה האם התשובות שלכם סבירות ולעשיית חישובים מהירים ללא חישוב מדויק. תרגלו את הטכניקות הללו באופן קבוע כדי לשפר את מיומנויות ההערכה שלכם ולהגביר את הכישורים המתמטיים הכלליים שלכם.</p>   <hr>   <p>על ידי פיתוח מיומנויות הערכה חזקות, תשפרו את היכולת שלכם לפתור בעיות ביעילות ולקבל החלטות מושכלות המבוססות על חישובים מקורבים. המשיכו לתרגל, ואל תהססו לחזור למדריך זה בכל פעם שתצטרכו רענון!</p> </div>

		`

		};

        function setQuizExpansion(allow) {
            allowQuizExpansion = allow;
            adjustLayout();
        }

        function adjustLayout() {
            const wrapper = document.querySelector('.content-wrapper');
            const quizContainer = document.getElementById('quizContainer');
            const sidePanel1 = document.getElementById('sidePanel1');
            
            const isPanel1Visible = window.getComputedStyle(sidePanel1).display !== 'none';

            wrapper.style.justifyContent = 'space-between';

            if (isPanel1Visible) {
                sidePanel1.style.flex = '0 0 calc(20% - 0.5rem)';
                sidePanel1.style.maxWidth = 'calc(20% - 0.5rem)';
                quizContainer.style.flex = '1';
            } else {
                quizContainer.style.flex = '1';
                wrapper.style.justifyContent = 'center';
            }

            [sidePanel1, quizContainer].forEach(el => {
                el.style.display = 'block';
            });
        }

        function togglePanel(panelId) {
            const panel = document.getElementById(panelId);
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            adjustLayout();
        }

        function updateSwitcherLayout() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const handle = switchElement.querySelector('.switch-handle');

            labels.forEach(label => {
                label.style.flex = 'none';
                label.style.padding = '0 20px';
            });

            const activeLabel = switchElement.querySelector('.switch-label.active');
            if (activeLabel) {
                const switchRect = switchElement.getBoundingClientRect();
                const labelRect = activeLabel.getBoundingClientRect();

                handle.style.left = `${labelRect.left - switchRect.left}px`;
                handle.style.width = `${labelRect.width}px`;
            }

            switchElement.style.width = 'auto';
        }
        
        function switchTab(index) {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const activeStates = Array.from(labels).map(label => label.textContent);

            labels.forEach((label, i) => {
                label.classList.toggle('active', i === index);
            });

            updateSwitcherLayout();
            showContent(activeStates[index]);

            adjustLayout();
        }

        function showContent(state) {
            const tabContent = document.getElementById('tabContent');
            tabContent.innerHTML = stateContents[state] || '';

            if (state === 'תרגול') {
                renderQuiz();
                updateProgressBar();
            }
        }

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}


function renderQuiz() {
    const quizContainer = document.getElementById("quiz-content");
    quizContainer.innerHTML = '';
    quizData[currentStage].forEach((question, index) => {
        const questionElement = document.createElement("div");
        questionElement.className = "question-one-line";
        
        // Create label for the question text
        const label = document.createElement("label");
        label.htmlFor = `q${index}`;
        label.textContent = `${index + 1}. ${question.question}`;
        
        // Create div for result feedback
        const resultDiv = document.createElement("div");
        resultDiv.className = "result result-ltr";
        resultDiv.id = `result${index}`;
        
        // Create select element for answers
        const select = document.createElement("select");
        select.id = `q${index}`;
        select.name = `q${index}`;
        
        // Add default option
        const defaultOption = document.createElement("option");
        defaultOption.value = "";
        defaultOption.textContent = "בחירה";
        select.appendChild(defaultOption);
        
        // Shuffle and add answer options
        const shuffledOptions = shuffleArray([...question.options]);
        shuffledOptions.forEach((option, optionIndex) => {
            const optionElement = document.createElement("option");
            optionElement.value = option;
            optionElement.textContent = option;
            select.appendChild(optionElement);
        });
        
        // Append elements to questionElement in the desired order
        questionElement.appendChild(label);
        questionElement.appendChild(resultDiv); // Feedback before dropdown
        questionElement.appendChild(select);
        
        quizContainer.appendChild(questionElement);
    });

    updateStageNumber();
}



function checkStage() {
    attempts++;
    document.getElementById("attempts").textContent = `ניסיונות: ${attempts}`;

    let correctCount = 0;
    const totalQuestions = quizData[currentStage].length;

    quizData[currentStage].forEach((question, index) => {
        const resultElement = document.getElementById(`result${index}`);
        const selectElement = document.getElementById(`q${index}`);
        const selectedAnswer = selectElement.value;

        if (selectedAnswer === question.answer) {
            resultElement.textContent = "נכון!";
            resultElement.style.color = "green";
            correctCount++;
        } else {
            resultElement.textContent = "תשובה שגויה.";
            resultElement.style.color = "red";
        }

        if (attempts >= 10) {
            selectElement.value = question.answer;
            selectElement.disabled = true;
            resultElement.textContent += ` התשובה הנכונה היא: ${question.answer}`;
        }
    });

			console.log(`שלב ${currentStage + 1}: ${correctCount} נכונות מתוך ${totalQuestions}`);

			if (correctCount === totalQuestions) {
				console.log(`שלב ${currentStage + 1} הושלם. מוסיף ${totalQuestions} חיות.`);
				addAnimalsToFarm(totalQuestions); // Add animals to the farm

				if (currentStage < stageCount - 1) {
					singleStageConfetti();
					showEncouragingPopup(correctCount, totalQuestions, true);
					currentStage++; // Increment stage immediately
					updateProgressBar(); // Update progress bar right after incrementing stage
					console.log(`עובר לשלב ${currentStage + 1}`);
					setTimeout(() => {
						attempts = 0;
						renderQuiz();
						document.getElementById("attempts").textContent = `ניסיונות: ${attempts}`;
					}, 1500);
				} else {
					// This is the final stage completion
					currentStage++;
					updateProgressBar(); // This will now show 100%
					allStagesConfetti();
					showModal("כל הכבוד! השלמת את כל השלבים.");
				}
			} else {
				showEncouragingPopup(correctCount, totalQuestions, false);
				if (attempts >= 10) {
					showModal("הגעת למספר הניסיונות המקסימלי. התשובות הנכונות נחשפו.");
				}
			}

			scrollToTop();
		}
		
        function showEncouragingPopup(correctCount, totalQuestions, isStageComplete) {
            const incorrectCount = totalQuestions - correctCount;
            let message = `קיבלת ${correctCount} נכונות ו-${incorrectCount} שגויות.`;
            
            if (correctCount === totalQuestions) {
                message += " ציון מושלם!";
            } else if (correctCount >= Math.ceil(totalQuestions * 0.7)) {
                message += " עבודה מצוינת! רואים שהנושא מתחיל להיות מובן!";
            } else if (correctCount >= Math.ceil(totalQuestions * 0.5)) {
                message += " מאמץ טוב! נמשיך לתרגל כי השיפור קרוב!";
            } else {
                message += " לא לוותר! כל נסיון עוזר לך ללמוד. ננסה שוב!";
            }

            if (isStageComplete) {
                message += "\n\n השלב הזה הסתיים, עוברים לשלב הבא.";
            }

            showModal(message);
        }

		function initializeQuiz() {
			currentStage = 0;
			attempts = 0;
			updateProgressBar(); // This should now set the progress to 0%
			renderQuiz();
			document.getElementById("attempts").textContent = `נסיונות: ${attempts}`;
			updateStageNumber();
		}

		function updateProgressBar() {
			const progressBar = document.getElementById("progress-bar");
			const completedStages = currentStage; // Remove the +1 here
			const progress = (completedStages / stageCount) * 100;
			const roundedProgress = Math.min(100, Math.max(0, Math.round(progress)));
			progressBar.style.width = `${roundedProgress}%`;
			progressBar.textContent = roundedProgress > 0 ? `${roundedProgress}%` : '';
			console.log(`Progress updated: ${roundedProgress}% (Stage ${currentStage + 1} of ${stageCount})`);
		}

        function updateStageNumber() {
            const stageElement = document.getElementById("stage-number");
            stageElement.textContent = `שלב ${currentStage + 1} מתוך ${stageCount}`;
        }

		function singleStageConfetti() {
			function randomInRange(min, max) {
				return Math.random() * (max - min) + min;
			}
			confetti({
				angle: randomInRange(55, 125),
				spread: randomInRange(50, 70),
				particleCount: randomInRange(50, 100),
				origin: { y: 0.6 },
			});
		}

		function allStagesConfetti() {
			const defaults = {
				spread: 360,
				ticks: 50,
				gravity: 0,
				decay: 0.94,
				startVelocity: 30,
				shapes: ["star"],
				colors: ["FFE400", "FFBD00", "E89400", "FFCA6C", "FDFFB8"],
			};
			function shoot() {
				confetti({
					...defaults,
					particleCount: 40,
					scalar: 1.2,
					shapes: ["star"],
				});
				confetti({
					...defaults,
					particleCount: 10,
					scalar: 0.75,
					shapes: ["circle"],
				});
			}
			setTimeout(shoot, 0);
			setTimeout(shoot, 100);
			setTimeout(shoot, 200);
		}

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
			    scrollToTopBtn.style.display = "none";
        }

        function initializeSwitch() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labelsContainer = switchElement.querySelector('.switch-labels');
            const switchContainer = document.getElementById('switchContainer');
            
            const activeStates = Object.keys(stateContents).filter(state => stateContents[state].trim() !== '');
            
            if (activeStates.length <= 1) {
                switchContainer.style.display = 'none';
                if (activeStates.length === 1) {
                    showContent(activeStates[0]);
                }
                return;
            }
            
            switchContainer.style.display = 'flex';
            
            activeStates.forEach((state, index) => {
                const label = document.createElement('div');
                label.className = 'switch-label';
                label.textContent = state;
                label.addEventListener('click', () => switchTab(index));
                labelsContainer.appendChild(label);
            });
   
            const defaultTab = manuallySetDefaultTab !== null && manuallySetDefaultTab < activeStates.length
                ? manuallySetDefaultTab
                : 0;

            switchTab(defaultTab);
        }

		let farmAnimals = [];

		function addAnimalsToFarm(count) {
			const animalFarm = document.getElementById('animalFarm');
			let availableAnimals = animals.filter(animal => !farmAnimals.includes(animal));

			console.log(`Adding ${count} animals to the farm. Current farm size: ${farmAnimals.length}`);

			for (let i = 0; i < count; i++) {
				if (availableAnimals.length === 0) {
					console.log("No more unique animals available!");
					break;
				}

				const randomIndex = Math.floor(Math.random() * availableAnimals.length);
				const chosenAnimal = availableAnimals[randomIndex];

				const animalElement = document.createElement('li');
				animalElement.textContent = chosenAnimal;
				animalFarm.appendChild(animalElement);

				farmAnimals.push(chosenAnimal);
				availableAnimals.splice(randomIndex, 1);
				console.log(`Added animal: ${chosenAnimal}`);
			}

			console.log(`Farm size after addition: ${farmAnimals.length}`);
			logAnimalFarmState();
		}

		function logAnimalFarmState() {
			console.log(`Current animal farm state: ${farmAnimals.length} animals`);
			console.log(farmAnimals);
		}

		const animals = [
			"🐉", "🐻", "🦗", "🦁", "🐔", "🦂", "🐟", "🐣", "🐯", "🦡",
			"🐰", "🐍", "🦅", "🐈", "🦈", "🦜", "🦛", "🐀", "🐑",
			"🐮", "🦇", "🐇", "🦖", "🦀", "🦎", "🐃", "🐡", "🐤",
			"🐪", "🦥", "🐛", "🐅", "🐥", "🐱", "🐺", "🐕", "🦩", "🐊",
			"🐖", "🐢", "🕷", "🦕", "🦌", "🐁", "🦨", "🦘", "🐵",
			"🦑", "🐋", "🦓", "🦒", "🐲", "🦆", "🦉", "🐶", "🐄", "🦟",
			"🦃", "🦧", "🦏", "🐙", "🐿", "🦢", "🐜", "🐦", "🐞",
			"🦐", "🦔", "🐼", "🦄", "🦞", "🐫", "🐭", "🐆", "🦝",
			"🐠", "🦚", "🐴", "🐏", "🦮", "🐐", "🐹", "🐎", "🦋", "🐳",
			"🐨", "🐂", "🦍", "🦙", "🐬", "🦦", "🦊", "🐌", "🐓", "🐧",
			"🐷", "🐩", "🐘", "🐸", "🐝"
		];

        function showModal(message) {
            const modal = document.getElementById("quizModal");
            const modalMessage = document.getElementById("modalMessage");
            const modalButton = document.getElementById("modalButton");
            const modalClose = document.getElementsByClassName("modal-quiz-close")[0];

            modalMessage.textContent = message;
            modal.style.display = "block";

            modalButton.onclick = function() {
                modal.style.display = "none";
            }

            modalClose.onclick = function() {
                modal.style.display = "none";
            }

            window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }
        }

		window.addEventListener('load', () => {
			initializeSwitch();
			initializeQuiz();
			adjustLayout();
        });

        window.addEventListener('resize', adjustLayout);

        // Load the copyright content from the external URL and insert it into the div
        fetch('http://ez42.live/global/copyright.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('copyright-container').innerHTML = data;
            })
            .catch(error => console.error('Error loading copyright:', error));
			
		let scrollToTopBtn = document.getElementById("scrollToTopBtn");

			window.onscroll = function() {
				// Check if the scroll distance is more than twice the height of the screen
				if (document.body.scrollTop > window.innerHeight * 1.5 || 
					document.documentElement.scrollTop > window.innerHeight * 1.5) {
					scrollToTopBtn.style.display = "block";
				} else {
					scrollToTopBtn.style.display = "none";
				}
			};

		scrollToTopBtn.onclick = function() {
		  document.body.scrollTop = 0;
		  document.documentElement.scrollTop = 0;
		};	
    </script>
</body>
</html>