<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ez42.live/global/analytics.js"></script>
    <script src="https://ez42.live/global/ads.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
 	<link rel="stylesheet" href="http://www.ez42.live/global/styles/styles-eng.css"> <!-- Link to external CSS file -->
    <link rel="icon" type="image/svg+xml" href="http://www.ez42.live/global/styles/ez42-icon.svg">
    <title>✅ EZ42 LIVE - It's EZ</title>
	<style>
  
	</style>
</head>
<body>
    <div class="page-container">
        <div class="content-wrapper">
		
		<!--  Side Panel 1  -->
            <div id="sidePanel1" class="side-panel">
				<div class="logo-container">
					<a href="http://ez42.live" target="_blank" rel="noopener noreferrer">
						<img src="http://ez42.live/global/logo/logo.svg" alt="EZ42 Logo" class="logo-image">
					</a>
				</div>
			<h2>Instructions & Rules</h2>
			<ul>
																		<!--  PH1 - Instructions & Rules   -->	
                <li>Read the text and questions carefully.</li>
                <li>Select the best answer.</li>
                <li>Click "Check Answers" when you're ready to see how you did!</li>
                <li>You can check your answers multiple times to improve your score.</li>
                <li>Correct answers are revealed after 10 attempts.</li>
                <li>You must answer all questions correctly to proceed to the next stage.</li>
                <li>There are 20 stages, each with 5 questions.</li>
				<li>Have fun!</li>
			</ul>
            </div>
			
		<!--  Quiz Panel   -->
            <div id="quizContainer" class="quiz-container">
																			<!--  PH2 - Title  X  2 : A1 - 📗 Green, A2 - 📘 Blue, B1 - 📒 Yellow, 📙 Orange, 📔 Beige, 📓 Gray , 📕 Red-->	
                <h1>Solving simple addition and subtraction word problems</h1>
                
                <div id="switchContainer" class="switch-container">
                    <div id="multiStateSwitch" class="switch">
                        <div class="switch-labels"></div>
                        <div class="switch-handle"></div>
                    </div>
                </div>
                <div id="tabContent"></div>
            </div>
			
		<!--  Side Panel 2  -->
			<div id="sidePanel2" class="side-panel">
				<h2>Animal Farm</h2>
				<p>Watch your farm grow as you progress! Each completed stage adds new animal friends to your collection.</p>
				<ul id="animalFarm" class="emoji-list">
				</ul>
			</div>
        </div>
    </div>
    <div id="copyright-container"></div>
 
    <!-- Modal -->
    <div id="quizModal" class="modal-quiz">
        <div class="modal-quiz-content">
            <span class="modal-quiz-close">&times;</span>
            <p id="modalMessage"></p>
            <button id="modalButton" class="modal-quiz-button">OK</button>
        </div>
    </div>
	<button id="scrollToTopBtn" title="Go to top">↑</button>
    <script>
        let isQuizExpanded = false;
        let allowQuizExpansion = true;

        let attempts = 0;
        let currentStage = 0;

        const manuallySetDefaultTab = 0;

																		//  PH3 - Quiz Data 
        const quizData = [ 												   	
				{
				  "stages": [
    // Stage 1
    {
      "text": "Addition and subtraction within 20",
      "questions": [
        // Question 1.1
        {
          "question": "Tom has 8 candies. He gets 5 more candies. How many candies does Tom have now?",
          "options": ["13 candies", "12 candies", "14 candies", "11 candies", "15 candies"],
          "answer": "13 candies"
        },
        // Question 1.2
        {
          "question": "Sara has 15 stickers. She gives 4 stickers away. How many stickers does Sara have left?",
          "options": ["11 stickers", "10 stickers", "12 stickers", "13 stickers", "9 stickers"],
          "answer": "11 stickers"
        },
        // Question 1.3
        {
          "question": "There are 7 blue marbles and 6 red marbles. How many marbles are there in total?",
          "options": ["13 marbles", "12 marbles", "14 marbles", "11 marbles", "15 marbles"],
          "answer": "13 marbles"
        },
        // Question 1.4
        {
          "question": "You have 12 pencils and lose 3 pencils. How many pencils do you have now?",
          "options": ["9 pencils", "8 pencils", "10 pencils", "11 pencils", "7 pencils"],
          "answer": "9 pencils"
        },
        // Question 1.5
        {
          "question": "A box has 9 crayons. If you put 6 more crayons in the box, how many crayons are in the box now?",
          "options": ["15 crayons", "14 crayons", "16 crayons", "13 crayons", "17 crayons"],
          "answer": "15 crayons"
        }
      ]
    },
    // Stage 2
    {
      "text": "Addition and subtraction within 20",
      "questions": [
        // Question 2.1
        {
          "question": "You have 11 balloons. You get 6 more balloons. How many balloons do you have now?",
          "options": ["17 balloons", "16 balloons", "18 balloons", "15 balloons", "19 balloons"],
          "answer": "17 balloons"
        },
        // Question 2.2
        {
          "question": "There are 16 cookies on a plate. You eat 5 cookies. How many cookies are left?",
          "options": ["11 cookies", "10 cookies", "12 cookies", "13 cookies", "9 cookies"],
          "answer": "11 cookies"
        },
        // Question 2.3
        {
          "question": "A basket has 8 oranges and 7 apples. How many pieces of fruit are there in total?",
          "options": ["15 pieces", "14 pieces", "16 pieces", "13 pieces", "17 pieces"],
          "answer": "15 pieces"
        },
        // Question 2.4
        {
          "question": "You have 14 toys and give away 6 toys. How many toys do you have now?",
          "options": ["8 toys", "7 toys", "9 toys", "10 toys", "6 toys"],
          "answer": "8 toys"
        },
        // Question 2.5
        {
          "question": "There are 10 birds in a tree. 5 more birds join them. How many birds are there now?",
          "options": ["15 birds", "14 birds", "16 birds", "13 birds", "17 birds"],
          "answer": "15 birds"
        }
      ]
    },
    // Stage 3
    {
      "text": "Addition and subtraction within 20",
      "questions": [
        // Question 3.1
        {
          "question": "Tom has 7 toy cars and gets 8 more toy cars. How many toy cars does Tom have now?",
          "options": ["15 cars", "14 cars", "16 cars", "13 cars", "17 cars"],
          "answer": "15 cars"
        },
        // Question 3.2
        {
          "question": "There are 16 cookies on a plate. If you eat 6 cookies, how many cookies are left?",
          "options": ["10 cookies", "9 cookies", "11 cookies", "8 cookies", "12 cookies"],
          "answer": "10 cookies"
        },
        // Question 3.3
        {
          "question": "You have 9 blue marbles and 8 red marbles. How many marbles do you have in total?",
          "options": ["17 marbles", "16 marbles", "18 marbles", "15 marbles", "19 marbles"],
          "answer": "17 marbles"
        },
        // Question 3.4
        {
          "question": "Sara has 15 stickers and gives 7 stickers away. How many stickers does Sara have left?",
          "options": ["8 stickers", "7 stickers", "9 stickers", "6 stickers", "10 stickers"],
          "answer": "8 stickers"
        },
        // Question 3.5
        {
          "question": "A box has 6 crayons. If you put 9 more crayons in the box, how many crayons are in the box now?",
          "options": ["15 crayons", "14 crayons", "16 crayons", "13 crayons", "17 crayons"],
          "answer": "15 crayons"
        }
      ]
    },

    // Stage 4
    {
      "text": "Addition and subtraction within 25",
      "questions": [
        // Question 4.1
        {
          "question": "You have 14 pencils and get 8 more pencils. How many pencils do you have now?",
          "options": ["22 pencils", "21 pencils", "23 pencils", "20 pencils", "24 pencils"],
          "answer": "22 pencils"
        },
        // Question 4.2
        {
          "question": "There are 20 students in class. 6 students leave for music. How many students are left?",
          "options": ["14 students", "13 students", "15 students", "12 students", "16 students"],
          "answer": "14 students"
        },
        // Question 4.3
        {
          "question": "Mom buys 12 oranges and 9 apples. How many pieces of fruit does she buy in total?",
          "options": ["21 pieces", "20 pieces", "22 pieces", "19 pieces", "23 pieces"],
          "answer": "21 pieces"
        },
        // Question 4.4
        {
          "question": "A jar has 23 candies. You eat 7 candies. How many candies are left in the jar?",
          "options": ["16 candies", "15 candies", "17 candies", "14 candies", "18 candies"],
          "answer": "16 candies"
        },
        // Question 4.5
        {
          "question": "You have 13 balloons and get 8 more balloons. How many balloons do you have now?",
          "options": ["21 balloons", "20 balloons", "22 balloons", "19 balloons", "23 balloons"],
          "answer": "21 balloons"
        }
      ]
    },

    // Stage 5
    {
      "text": "Addition and subtraction within 25",
      "questions": [
        // Question 5.1
        {
          "question": "A shelf has 16 books and gets 7 new books. How many books are on the shelf now?",
          "options": ["23 books", "22 books", "24 books", "21 books", "25 books"],
          "answer": "23 books"
        },
        // Question 5.2
        {
          "question": "There are 21 toys in a box. You take out 8 toys. How many toys are left in the box?",
          "options": ["13 toys", "12 toys", "14 toys", "11 toys", "15 toys"],
          "answer": "13 toys"
        },
        // Question 5.3
        {
          "question": "You have 15 red blocks and 8 blue blocks. How many blocks do you have in total?",
          "options": ["23 blocks", "22 blocks", "24 blocks", "21 blocks", "25 blocks"],
          "answer": "23 blocks"
        },
        // Question 5.4
        {
          "question": "A basket has 22 eggs. 9 eggs are used for baking. How many eggs are left?",
          "options": ["13 eggs", "12 eggs", "14 eggs", "11 eggs", "15 eggs"],
          "answer": "13 eggs"
        },
        // Question 5.5
        {
          "question": "Mom plants 17 flowers and then plants 6 more flowers. How many flowers did she plant in total?",
          "options": ["23 flowers", "22 flowers", "24 flowers", "21 flowers", "25 flowers"],
          "answer": "23 flowers"
        }
      ]
    },	
   // Stage 6
    {
      "text": "Addition and subtraction within 25",
      "questions": [
        // Question 6.1
        {
          "question": "The library has 19 picture books and gets 6 more. How many picture books does the library have now?",
          "options": ["25 books", "24 books", "26 books", "23 books", "27 books"],
          "answer": "25 books"
        },
        // Question 6.2
        {
          "question": "A class has 23 students. 8 students leave for music class. How many students remain?",
          "options": ["15 students", "14 students", "16 students", "13 students", "17 students"],
          "answer": "15 students"
        },
        // Question 6.3
        {
          "question": "You have 16 blue marbles and 8 red marbles. How many marbles do you have in total?",
          "options": ["24 marbles", "23 marbles", "25 marbles", "22 marbles", "26 marbles"],
          "answer": "24 marbles"
        },
        // Question 6.4
        {
          "question": "There are 21 cookies. If you eat 7 cookies, how many cookies are left?",
          "options": ["14 cookies", "13 cookies", "15 cookies", "12 cookies", "16 cookies"],
          "answer": "14 cookies"
        },
        // Question 6.5
        {
          "question": "Mom buys 18 oranges and 7 apples. How many pieces of fruit does she buy in total?",
          "options": ["25 pieces", "24 pieces", "26 pieces", "23 pieces", "27 pieces"],
          "answer": "25 pieces"
        }
      ]
    },

    // Stage 7
    {
      "text": "Addition and subtraction within 30",
      "questions": [
        // Question 7.1
        {
          "question": "A store has 22 toys and gets 6 more toys. How many toys does the store have now?",
          "options": ["28 toys", "27 toys", "29 toys", "26 toys", "30 toys"],
          "answer": "28 toys"
        },
        // Question 7.2
        {
          "question": "You have 26 stickers. You give 9 stickers to your friend. How many stickers do you have left?",
          "options": ["17 stickers", "16 stickers", "18 stickers", "15 stickers", "19 stickers"],
          "answer": "17 stickers"
        },
        // Question 7.3
        {
          "question": "There are 19 red crayons and 8 blue crayons. How many crayons are there altogether?",
          "options": ["27 crayons", "26 crayons", "28 crayons", "25 crayons", "29 crayons"],
          "answer": "27 crayons"
        },
        // Question 7.4
        {
          "question": "A box has 24 pencils. If you take out 7 pencils, how many pencils are left in the box?",
          "options": ["17 pencils", "16 pencils", "18 pencils", "15 pencils", "19 pencils"],
          "answer": "17 pencils"
        },
        // Question 7.5
        {
          "question": "You have 21 balloons and get 8 more balloons. How many balloons do you have now?",
          "options": ["29 balloons", "28 balloons", "30 balloons", "27 balloons", "31 balloons"],
          "answer": "29 balloons"
        }
      ]
    },

    // Stage 8
    {
      "text": "Addition and subtraction within 30",
      "questions": [
        // Question 8.1
        {
          "question": "A garden has 23 flowers. 8 new flowers bloom. How many flowers are in the garden now?",
          "options": ["31 flowers", "30 flowers", "32 flowers", "29 flowers", "33 flowers"],
          "answer": "31 flowers"
        },
        // Question 8.2
        {
          "question": "You have 27 marbles and lose 9 marbles. How many marbles do you have now?",
          "options": ["18 marbles", "17 marbles", "19 marbles", "16 marbles", "20 marbles"],
          "answer": "18 marbles"
        },
        // Question 8.3
        {
          "question": "There are 24 students in class. 6 more students join. How many students are there now?",
          "options": ["30 students", "29 students", "31 students", "28 students", "32 students"],
          "answer": "30 students"
        },
        // Question 8.4
        {
          "question": "A shelf has 29 books. You take 7 books. How many books are left on the shelf?",
          "options": ["22 books", "21 books", "23 books", "20 books", "24 books"],
          "answer": "22 books"
        },
        // Question 8.5
        {
          "question": "You have 25 candies and get 5 more candies. How many candies do you have now?",
          "options": ["30 candies", "29 candies", "31 candies", "28 candies", "32 candies"],
          "answer": "30 candies"
        }
      ]
    },

    // Stage 9
    {
      "text": "Addition and subtraction within 35",
      "questions": [
        // Question 9.1
        {
          "question": "A toy store has 26 dolls and gets 8 more dolls. How many dolls does the store have now?",
          "options": ["34 dolls", "33 dolls", "35 dolls", "32 dolls", "36 dolls"],
          "answer": "34 dolls"
        },
        // Question 9.2
        {
          "question": "There are 31 cookies in a jar. If you eat 9 cookies, how many cookies are left?",
          "options": ["22 cookies", "21 cookies", "23 cookies", "20 cookies", "24 cookies"],
          "answer": "22 cookies"
        },
        // Question 9.3
        {
          "question": "You have 28 blue blocks and 6 red blocks. How many blocks do you have in total?",
          "options": ["34 blocks", "33 blocks", "35 blocks", "32 blocks", "36 blocks"],
          "answer": "34 blocks"
        },
        // Question 9.4
        {
          "question": "A basket has 32 apples. You give away 8 apples. How many apples are left?",
          "options": ["24 apples", "23 apples", "25 apples", "22 apples", "26 apples"],
          "answer": "24 apples"
        },
        // Question 9.5
        {
          "question": "There are 27 pencils in a box. You add 7 more pencils. How many pencils are in the box now?",
          "options": ["34 pencils", "33 pencils", "35 pencils", "32 pencils", "36 pencils"],
          "answer": "34 pencils"
        }
      ]
    },

    // Stage 10
    {
      "text": "Addition and subtraction within 35",
      "questions": [
        // Question 10.1
        {
          "question": "A class has 29 students. 6 new students join. How many students are in the class now?",
          "options": ["35 students", "34 students", "36 students", "33 students", "37 students"],
          "answer": "35 students"
        },
        // Question 10.2
        {
          "question": "You have 33 stickers and give away 8 stickers. How many stickers do you have left?",
          "options": ["25 stickers", "24 stickers", "26 stickers", "23 stickers", "27 stickers"],
          "answer": "25 stickers"
        },
        // Question 10.3
        {
          "question": "There are 28 oranges and 7 apples in a basket. How many pieces of fruit are there in total?",
          "options": ["35 pieces", "34 pieces", "36 pieces", "33 pieces", "37 pieces"],
          "answer": "35 pieces"
        },
        // Question 10.4
        {
          "question": "A jar has 34 marbles. You take out 9 marbles. How many marbles are left in the jar?",
          "options": ["25 marbles", "24 marbles", "26 marbles", "23 marbles", "27 marbles"],
          "answer": "25 marbles"
        },
        // Question 10.5
        {
          "question": "You have 30 crayons and get 5 more crayons. How many crayons do you have now?",
          "options": ["35 crayons", "34 crayons", "36 crayons", "33 crayons", "37 crayons"],
          "answer": "35 crayons"
        }
      ]
    },
    // Stage 11
    {
      "text": "Addition and subtraction within 35",
      "questions": [
        // Question 11.1
        {
          "question": "A store has 27 toys and gets 8 more toys. How many toys does the store have now?",
          "options": ["35 toys", "34 toys", "36 toys", "33 toys", "37 toys"],
          "answer": "35 toys"
        },
        // Question 11.2
        {
          "question": "There are 32 cookies on a plate. If you eat 7 cookies, how many cookies are left?",
          "options": ["25 cookies", "24 cookies", "26 cookies", "23 cookies", "27 cookies"],
          "answer": "25 cookies"
        },
        // Question 11.3
        {
          "question": "You have 26 red balloons and 8 blue balloons. How many balloons do you have altogether?",
          "options": ["34 balloons", "33 balloons", "35 balloons", "32 balloons", "36 balloons"],
          "answer": "34 balloons"
        },
        // Question 11.4
        {
          "question": "A box has 33 crayons. You take out 9 crayons. How many crayons are left in the box?",
          "options": ["24 crayons", "23 crayons", "25 crayons", "22 crayons", "26 crayons"],
          "answer": "24 crayons"
        },
        // Question 11.5
        {
          "question": "There are 28 pencils in a case. You add 6 more pencils. How many pencils are in the case now?",
          "options": ["34 pencils", "33 pencils", "35 pencils", "32 pencils", "36 pencils"],
          "answer": "34 pencils"
        }
      ]
    },

    // Stage 12
    {
      "text": "Addition and subtraction within 40",
      "questions": [
        // Question 12.1
        {
          "question": "A classroom has 29 chairs. The teacher brings 8 more chairs. How many chairs are there now?",
          "options": ["37 chairs", "36 chairs", "38 chairs", "35 chairs", "39 chairs"],
          "answer": "37 chairs"
        },
        // Question 12.2
        {
          "question": "You have 35 marbles and give 9 marbles to your friend. How many marbles do you have left?",
          "options": ["26 marbles", "25 marbles", "27 marbles", "24 marbles", "28 marbles"],
          "answer": "26 marbles"
        },
        // Question 12.3
        {
          "question": "There are 31 books on one shelf and 7 books on another shelf. How many books are there in total?",
          "options": ["38 books", "37 books", "39 books", "36 books", "40 books"],
          "answer": "38 books"
        },
        // Question 12.4
        {
          "question": "A basket has 36 apples. You take out 8 apples. How many apples are left in the basket?",
          "options": ["28 apples", "27 apples", "29 apples", "26 apples", "30 apples"],
          "answer": "28 apples"
        },
        // Question 12.5
        {
          "question": "You have 32 stickers and get 7 more stickers. How many stickers do you have now?",
          "options": ["39 stickers", "38 stickers", "40 stickers", "37 stickers", "41 stickers"],
          "answer": "39 stickers"
        }
      ]
    },

    // Stage 13
    {
      "text": "Addition and subtraction within 40",
      "questions": [
        // Question 13.1
        {
          "question": "A garden has 33 flowers. 6 new flowers grow. How many flowers are in the garden now?",
          "options": ["39 flowers", "38 flowers", "40 flowers", "37 flowers", "41 flowers"],
          "answer": "39 flowers"
        },
        // Question 13.2
        {
          "question": "There are 37 students in class. 9 students leave for music. How many students remain?",
          "options": ["28 students", "27 students", "29 students", "26 students", "30 students"],
          "answer": "28 students"
        },
        // Question 13.3
        {
          "question": "You have 34 blue blocks and 5 red blocks. How many blocks do you have in total?",
          "options": ["39 blocks", "38 blocks", "40 blocks", "37 blocks", "41 blocks"],
          "answer": "39 blocks"
        },
        // Question 13.4
        {
          "question": "A jar has 38 candies. You eat 7 candies. How many candies are left?",
          "options": ["31 candies", "30 candies", "32 candies", "29 candies", "33 candies"],
          "answer": "31 candies"
        },
        // Question 13.5
        {
          "question": "There are 35 oranges and 4 apples in a basket. How many pieces of fruit are there in total?",
          "options": ["39 pieces", "38 pieces", "40 pieces", "37 pieces", "41 pieces"],
          "answer": "39 pieces"
        }
      ]
    },

    // Stage 14
    {
      "text": "Addition and subtraction within 40",
      "questions": [
        // Question 14.1
        {
          "question": "A toy box has 36 toys. You add 4 more toys. How many toys are in the box now?",
          "options": ["40 toys", "39 toys", "41 toys", "38 toys", "42 toys"],
          "answer": "40 toys"
        },
        // Question 14.2
        {
          "question": "You have 39 crayons and give 8 crayons away. How many crayons do you have left?",
          "options": ["31 crayons", "30 crayons", "32 crayons", "29 crayons", "33 crayons"],
          "answer": "31 crayons"
        },
        // Question 14.3
        {
          "question": "There are 34 pencils and 6 markers in a case. How many writing tools are there in total?",
          "options": ["40 tools", "39 tools", "41 tools", "38 tools", "42 tools"],
          "answer": "40 tools"
        },
        // Question 14.4
        {
          "question": "A shelf has 38 books. You take 9 books. How many books are left on the shelf?",
          "options": ["29 books", "28 books", "30 books", "27 books", "31 books"],
          "answer": "29 books"
        },
        // Question 14.5
        {
          "question": "You have 35 balloons and get 5 more balloons. How many balloons do you have now?",
          "options": ["40 balloons", "39 balloons", "41 balloons", "38 balloons", "42 balloons"],
          "answer": "40 balloons"
        }
      ]
    },

    // Stage 15
    {
      "text": "Addition and subtraction within 45",
      "questions": [
        // Question 15.1
        {
          "question": "A store has 37 dolls and gets 6 more dolls. How many dolls does the store have now?",
          "options": ["43 dolls", "42 dolls", "44 dolls", "41 dolls", "45 dolls"],
          "answer": "43 dolls"
        },
        // Question 15.2
        {
          "question": "There are 42 cookies in a jar. If you eat 7 cookies, how many cookies are left?",
          "options": ["35 cookies", "34 cookies", "36 cookies", "33 cookies", "37 cookies"],
          "answer": "35 cookies"
        },
        // Question 15.3
        {
          "question": "You have 38 blue marbles and 5 red marbles. How many marbles do you have in total?",
          "options": ["43 marbles", "42 marbles", "44 marbles", "41 marbles", "45 marbles"],
          "answer": "43 marbles"
        },
        // Question 15.4
        {
          "question": "A basket has 41 apples. You give away 8 apples. How many apples are left?",
          "options": ["33 apples", "32 apples", "34 apples", "31 apples", "35 apples"],
          "answer": "33 apples"
        },
        // Question 15.5
        {
          "question": "There are 39 students in class. 4 new students join. How many students are there now?",
          "options": ["43 students", "42 students", "44 students", "41 students", "45 students"],
          "answer": "43 students"
        }
      ]
    },
    // Stage 16
    {
      "text": "Addition and subtraction within 45",
      "questions": [
        // Question 16.1
        {
          "question": "A library has 38 picture books and gets 6 more books. How many picture books are there now?",
          "options": ["44 books", "43 books", "45 books", "42 books", "46 books"],
          "answer": "44 books"
        },
        // Question 16.2
        {
          "question": "You have 43 stickers and give 8 stickers to your friend. How many stickers do you have left?",
          "options": ["35 stickers", "34 stickers", "36 stickers", "33 stickers", "37 stickers"],
          "answer": "35 stickers"
        },
        // Question 16.3
        {
          "question": "There are 39 red crayons and 5 blue crayons. How many crayons are there in total?",
          "options": ["44 crayons", "43 crayons", "45 crayons", "42 crayons", "46 crayons"],
          "answer": "44 crayons"
        },
        // Question 16.4
        {
          "question": "A box has 42 pencils. You take out 7 pencils. How many pencils are left in the box?",
          "options": ["35 pencils", "34 pencils", "36 pencils", "33 pencils", "37 pencils"],
          "answer": "35 pencils"
        },
        // Question 16.5
        {
          "question": "You have 40 marbles and get 4 more marbles. How many marbles do you have now?",
          "options": ["44 marbles", "43 marbles", "45 marbles", "42 marbles", "46 marbles"],
          "answer": "44 marbles"
        }
      ]
    },

    // Stage 17
    {
      "text": "Addition and subtraction within 45",
      "questions": [
        // Question 17.1
        {
          "question": "A garden has 41 flowers. 5 new flowers bloom. How many flowers are in the garden now?",
          "options": ["46 flowers", "45 flowers", "47 flowers", "44 flowers", "48 flowers"],
          "answer": "46 flowers"
        },
        // Question 17.2
        {
          "question": "There are 44 cookies on a plate. If you eat 9 cookies, how many cookies are left?",
          "options": ["35 cookies", "34 cookies", "36 cookies", "33 cookies", "37 cookies"],
          "answer": "35 cookies"
        },
        // Question 17.3
        {
          "question": "You have 42 toy cars and get 4 more cars. How many toy cars do you have now?",
          "options": ["46 cars", "45 cars", "47 cars", "44 cars", "48 cars"],
          "answer": "46 cars"
        },
        // Question 17.4
        {
          "question": "A classroom has 45 chairs. 8 chairs are taken away. How many chairs are left?",
          "options": ["37 chairs", "36 chairs", "38 chairs", "35 chairs", "39 chairs"],
          "answer": "37 chairs"
        },
        // Question 17.5
        {
          "question": "There are 43 blocks and 3 more blocks are added. How many blocks are there now?",
          "options": ["46 blocks", "45 blocks", "47 blocks", "44 blocks", "48 blocks"],
          "answer": "46 blocks"
        }
      ]
    },

    // Stage 18
    {
      "text": "Addition and subtraction within 50",
      "questions": [
        // Question 18.1
        {
          "question": "A store has 44 toys and gets 5 more toys. How many toys does the store have now?",
          "options": ["49 toys", "48 toys", "50 toys", "47 toys", "51 toys"],
          "answer": "49 toys"
        },
        // Question 18.2
        {
          "question": "You have 47 balloons and 8 balloons pop. How many balloons do you have left?",
          "options": ["39 balloons", "38 balloons", "40 balloons", "37 balloons", "41 balloons"],
          "answer": "39 balloons"
        },
        // Question 18.3
        {
          "question": "There are 45 oranges and 4 apples in a basket. How many pieces of fruit are there in total?",
          "options": ["49 pieces", "48 pieces", "50 pieces", "47 pieces", "51 pieces"],
          "answer": "49 pieces"
        },
        // Question 18.4
        {
          "question": "A jar has 48 candies. You take 7 candies. How many candies are left in the jar?",
          "options": ["41 candies", "40 candies", "42 candies", "39 candies", "43 candies"],
          "answer": "41 candies"
        },
        // Question 18.5
        {
          "question": "You have 46 stickers and get 3 more stickers. How many stickers do you have now?",
          "options": ["49 stickers", "48 stickers", "50 stickers", "47 stickers", "51 stickers"],
          "answer": "49 stickers"
        }
      ]
    },

    // Stage 19
    {
      "text": "Addition and subtraction within 50",
      "questions": [
        // Question 19.1
        {
          "question": "A bookshelf has 47 books and gets 3 new books. How many books are there now?",
          "options": ["50 books", "49 books", "51 books", "48 books", "52 books"],
          "answer": "50 books"
        },
        // Question 19.2
        {
          "question": "There are 49 pencils in a box. 6 pencils are used. How many pencils are left?",
          "options": ["43 pencils", "42 pencils", "44 pencils", "41 pencils", "45 pencils"],
          "answer": "43 pencils"
        },
        // Question 19.3
        {
          "question": "You have 46 red marbles and 4 blue marbles. How many marbles do you have in total?",
          "options": ["50 marbles", "49 marbles", "51 marbles", "48 marbles", "52 marbles"],
          "answer": "50 marbles"
        },
        // Question 19.4
        {
          "question": "A class has 48 students. 5 students go home sick. How many students remain?",
          "options": ["43 students", "42 students", "44 students", "41 students", "45 students"],
          "answer": "43 students"
        },
        // Question 19.5
        {
          "question": "There are 45 crayons and you add 5 more crayons. How many crayons are there now?",
          "options": ["50 crayons", "49 crayons", "51 crayons", "48 crayons", "52 crayons"],
          "answer": "50 crayons"
        }
      ]
    },

    // Stage 20
    {
      "text": "Addition and subtraction within 50",
      "questions": [
        // Question 20.1
        {
          "question": "A toy store has 48 dolls and gets 2 more dolls. How many dolls does the store have now?",
          "options": ["50 dolls", "49 dolls", "51 dolls", "47 dolls", "52 dolls"],
          "answer": "50 dolls"
        },
        // Question 20.2
        {
          "question": "You have 50 cards and give 7 cards away. How many cards do you have left?",
          "options": ["43 cards", "42 cards", "44 cards", "41 cards", "45 cards"],
          "answer": "43 cards"
        },
        // Question 20.3
        {
          "question": "There are 47 chairs and 3 more chairs are brought in. How many chairs are there now?",
          "options": ["50 chairs", "49 chairs", "51 chairs", "48 chairs", "52 chairs"],
          "answer": "50 chairs"
        },
        // Question 20.4
        {
          "question": "A basket has 49 apples. 6 apples are eaten. How many apples are left?",
          "options": ["43 apples", "42 apples", "44 apples", "41 apples", "45 apples"],
          "answer": "43 apples"
        },
        // Question 20.5
        {
          "question": "You have 46 blocks and get 4 more blocks. How many blocks do you have now?",
          "options": ["50 blocks", "49 blocks", "51 blocks", "48 blocks", "52 blocks"],
          "answer": "50 blocks"
        }
      ]
    },
    // Stage 21
    {
      "text": "Addition and subtraction within 55",
      "questions": [
        // Question 21.1
        {
          "question": "A library has 48 books and gets 5 new books. How many books are there now?",
          "options": ["53 books", "52 books", "54 books", "51 books", "55 books"],
          "answer": "53 books"
        },
        // Question 21.2
        {
          "question": "You have 51 stickers and give 6 stickers away. How many stickers do you have left?",
          "options": ["45 stickers", "44 stickers", "46 stickers", "43 stickers", "47 stickers"],
          "answer": "45 stickers"
        },
        // Question 21.3
        {
          "question": "There are 49 red marbles and 4 blue marbles. How many marbles are there in total?",
          "options": ["53 marbles", "52 marbles", "54 marbles", "51 marbles", "55 marbles"],
          "answer": "53 marbles"
        },
        // Question 21.4
        {
          "question": "A box has 52 crayons. You take out 7 crayons. How many crayons are left in the box?",
          "options": ["45 crayons", "44 crayons", "46 crayons", "43 crayons", "47 crayons"],
          "answer": "45 crayons"
        },
        // Question 21.5
        {
          "question": "There are 50 pencils and you add 3 more pencils. How many pencils are there now?",
          "options": ["53 pencils", "52 pencils", "54 pencils", "51 pencils", "55 pencils"],
          "answer": "53 pencils"
        }
      ]
    },

    // Stage 22
    {
      "text": "Addition and subtraction within 55",
      "questions": [
        // Question 22.1
        {
          "question": "A classroom has 51 chairs. The teacher adds 4 more chairs. How many chairs are there now?",
          "options": ["55 chairs", "54 chairs", "56 chairs", "53 chairs", "57 chairs"],
          "answer": "55 chairs"
        },
        // Question 22.2
        {
          "question": "You have 54 balloons and 8 balloons pop. How many balloons do you have left?",
          "options": ["46 balloons", "45 balloons", "47 balloons", "44 balloons", "48 balloons"],
          "answer": "46 balloons"
        },
        // Question 22.3
        {
          "question": "There are 52 oranges and 3 apples in a basket. How many pieces of fruit are there in total?",
          "options": ["55 pieces", "54 pieces", "56 pieces", "53 pieces", "57 pieces"],
          "answer": "55 pieces"
        },
        // Question 22.4
        {
          "question": "A jar has 53 candies. You eat 6 candies. How many candies are left?",
          "options": ["47 candies", "46 candies", "48 candies", "45 candies", "49 candies"],
          "answer": "47 candies"
        },
        // Question 22.5
        {
          "question": "You have 50 toy cars and get 5 more cars. How many toy cars do you have now?",
          "options": ["55 cars", "54 cars", "56 cars", "53 cars", "57 cars"],
          "answer": "55 cars"
        }
      ]
    },

    // Stage 23
    {
      "text": "Addition and subtraction within 60",
      "questions": [
        // Question 23.1
        {
          "question": "A store has 53 toys and gets 5 more toys. How many toys does the store have now?",
          "options": ["58 toys", "57 toys", "59 toys", "56 toys", "60 toys"],
          "answer": "58 toys"
        },
        // Question 23.2
        {
          "question": "There are 57 cookies in a jar. If you eat 8 cookies, how many cookies are left?",
          "options": ["49 cookies", "48 cookies", "50 cookies", "47 cookies", "51 cookies"],
          "answer": "49 cookies"
        },
        // Question 23.3
        {
          "question": "You have 54 blue blocks and 4 red blocks. How many blocks do you have in total?",
          "options": ["58 blocks", "57 blocks", "59 blocks", "56 blocks", "60 blocks"],
          "answer": "58 blocks"
        },
        // Question 23.4
        {
          "question": "A basket has 56 apples. You give away 7 apples. How many apples are left?",
          "options": ["49 apples", "48 apples", "50 apples", "47 apples", "51 apples"],
          "answer": "49 apples"
        },
        // Question 23.5
        {
          "question": "There are 55 students in class. 3 new students join. How many students are there now?",
          "options": ["58 students", "57 students", "59 students", "56 students", "60 students"],
          "answer": "58 students"
        }
      ]
    },

    // Stage 24
    {
      "text": "Addition and subtraction within 60",
      "questions": [
        // Question 24.1
        {
          "question": "A bookshelf has 56 books and gets 4 new books. How many books are there now?",
          "options": ["60 books", "59 books", "61 books", "58 books", "62 books"],
          "answer": "60 books"
        },
        // Question 24.2
        {
          "question": "You have 59 marbles and give 9 marbles to your friend. How many marbles do you have left?",
          "options": ["50 marbles", "49 marbles", "51 marbles", "48 marbles", "52 marbles"],
          "answer": "50 marbles"
        },
        // Question 24.3
        {
          "question": "There are 57 pencils and you get 3 more pencils. How many pencils do you have now?",
          "options": ["60 pencils", "59 pencils", "61 pencils", "58 pencils", "62 pencils"],
          "answer": "60 pencils"
        },
        // Question 24.4
        {
          "question": "A box has 58 crayons. You take out 8 crayons. How many crayons are left?",
          "options": ["50 crayons", "49 crayons", "51 crayons", "48 crayons", "52 crayons"],
          "answer": "50 crayons"
        },
        // Question 24.5
        {
          "question": "You have 55 stickers and get 5 more stickers. How many stickers do you have now?",
          "options": ["60 stickers", "59 stickers", "61 stickers", "58 stickers", "62 stickers"],
          "answer": "60 stickers"
        }
      ]
    },

    // Stage 25
    {
      "text": "Addition and subtraction within 60",
      "questions": [
        // Question 25.1
        {
          "question": "A garden has 57 flowers. 3 new flowers bloom. How many flowers are in the garden now?",
          "options": ["60 flowers", "59 flowers", "61 flowers", "58 flowers", "62 flowers"],
          "answer": "60 flowers"
        },
        // Question 25.2
        {
          "question": "There are 58 balloons. 7 balloons float away. How many balloons are left?",
          "options": ["51 balloons", "50 balloons", "52 balloons", "49 balloons", "53 balloons"],
          "answer": "51 balloons"
        },
        // Question 25.3
        {
          "question": "You have 56 toy cars and get 4 more cars. How many toy cars do you have now?",
          "options": ["60 cars", "59 cars", "61 cars", "58 cars", "62 cars"],
          "answer": "60 cars"
        },
        // Question 25.4
        {
          "question": "A jar has 59 candies. You eat 8 candies. How many candies are left?",
          "options": ["51 candies", "50 candies", "52 candies", "49 candies", "53 candies"],
          "answer": "51 candies"
        },
        // Question 25.5
        {
          "question": "There are 54 blocks and you add 6 more blocks. How many blocks are there now?",
          "options": ["60 blocks", "59 blocks", "61 blocks", "58 blocks", "62 blocks"],
          "answer": "60 blocks"
        }
      ]
    },
    // Stage 26
    {
      "text": "Addition and subtraction within 65",
      "questions": [
        // Question 26.1
        {
          "question": "A library has 58 books and gets 4 new books. How many books are there now?",
          "options": ["62 books", "61 books", "63 books", "60 books", "64 books"],
          "answer": "62 books"
        },
        // Question 26.2
        {
          "question": "You have 61 stickers and give 7 stickers away. How many stickers do you have left?",
          "options": ["54 stickers", "53 stickers", "55 stickers", "52 stickers", "56 stickers"],
          "answer": "54 stickers"
        },
        // Question 26.3
        {
          "question": "There are 59 red marbles and 3 blue marbles. How many marbles are there in total?",
          "options": ["62 marbles", "61 marbles", "63 marbles", "60 marbles", "64 marbles"],
          "answer": "62 marbles"
        },
        // Question 26.4
        {
          "question": "A box has 63 crayons. You take out 8 crayons. How many crayons are left in the box?",
          "options": ["55 crayons", "54 crayons", "56 crayons", "53 crayons", "57 crayons"],
          "answer": "55 crayons"
        },
        // Question 26.5
        {
          "question": "There are 60 pencils and you add 2 more pencils. How many pencils are there now?",
          "options": ["62 pencils", "61 pencils", "63 pencils", "60 pencils", "64 pencils"],
          "answer": "62 pencils"
        }
      ]
    },

    // Stage 27
    {
      "text": "Addition and subtraction within 65",
      "questions": [
        // Question 27.1
        {
          "question": "A classroom has 61 chairs. The teacher adds 3 more chairs. How many chairs are there now?",
          "options": ["64 chairs", "63 chairs", "65 chairs", "62 chairs", "66 chairs"],
          "answer": "64 chairs"
        },
        // Question 27.2
        {
          "question": "You have 62 balloons and 9 balloons pop. How many balloons do you have left?",
          "options": ["53 balloons", "52 balloons", "54 balloons", "51 balloons", "55 balloons"],
          "answer": "53 balloons"
        },
        // Question 27.3
        {
          "question": "There are 60 oranges and 4 apples in a basket. How many pieces of fruit are there in total?",
          "options": ["64 pieces", "63 pieces", "65 pieces", "62 pieces", "66 pieces"],
          "answer": "64 pieces"
        },
        // Question 27.4
        {
          "question": "A jar has 63 candies. You eat 7 candies. How many candies are left?",
          "options": ["56 candies", "55 candies", "57 candies", "54 candies", "58 candies"],
          "answer": "56 candies"
        },
        // Question 27.5
        {
          "question": "You have 59 toy cars and get 5 more cars. How many toy cars do you have now?",
          "options": ["64 cars", "63 cars", "65 cars", "62 cars", "66 cars"],
          "answer": "64 cars"
        }
      ]
    },

    // Stage 28
    {
      "text": "Addition and subtraction within 65",
      "questions": [
        // Question 28.1
        {
          "question": "A store has 62 toys and gets 3 more toys. How many toys does the store have now?",
          "options": ["65 toys", "64 toys", "66 toys", "63 toys", "67 toys"],
          "answer": "65 toys"
        },
        // Question 28.2
        {
          "question": "There are 64 cookies in a jar. If you eat 8 cookies, how many cookies are left?",
          "options": ["56 cookies", "55 cookies", "57 cookies", "54 cookies", "58 cookies"],
          "answer": "56 cookies"
        },
        // Question 28.3
        {
          "question": "You have 61 blue blocks and 4 red blocks. How many blocks do you have in total?",
          "options": ["65 blocks", "64 blocks", "66 blocks", "63 blocks", "67 blocks"],
          "answer": "65 blocks"
        },
        // Question 28.4
        {
          "question": "A basket has 63 apples. You give away 6 apples. How many apples are left?",
          "options": ["57 apples", "56 apples", "58 apples", "55 apples", "59 apples"],
          "answer": "57 apples"
        },
        // Question 28.5
        {
          "question": "There are 62 students in class. 3 new students join. How many students are there now?",
          "options": ["65 students", "64 students", "66 students", "63 students", "67 students"],
          "answer": "65 students"
        }
      ]
    },

    // Stage 29
    {
      "text": "Addition and subtraction within 65",
      "questions": [
        // Question 29.1
        {
          "question": "A garden has 63 flowers. 2 new flowers bloom. How many flowers are in the garden now?",
          "options": ["65 flowers", "64 flowers", "66 flowers", "63 flowers", "67 flowers"],
          "answer": "65 flowers"
        },
        // Question 29.2
        {
          "question": "You have 65 marbles and give 9 marbles to your friend. How many marbles do you have left?",
          "options": ["56 marbles", "55 marbles", "57 marbles", "54 marbles", "58 marbles"],
          "answer": "56 marbles"
        },
        // Question 29.3
        {
          "question": "There are 62 pencils and you get 3 more pencils. How many pencils do you have now?",
          "options": ["65 pencils", "64 pencils", "66 pencils", "63 pencils", "67 pencils"],
          "answer": "65 pencils"
        },
        // Question 29.4
        {
          "question": "A box has 64 crayons. You take out 7 crayons. How many crayons are left?",
          "options": ["57 crayons", "56 crayons", "58 crayons", "55 crayons", "59 crayons"],
          "answer": "57 crayons"
        },
        // Question 29.5
        {
          "question": "You have 61 stickers and get 4 more stickers. How many stickers do you have now?",
          "options": ["65 stickers", "64 stickers", "66 stickers", "63 stickers", "67 stickers"],
          "answer": "65 stickers"
        }
      ]
    },

    // Stage 30
    {
      "text": "Addition and subtraction within 65",
      "questions": [
        // Question 30.1
        {
          "question": "A bookshelf has 63 books and gets 2 new books. How many books are there now?",
          "options": ["65 books", "64 books", "66 books", "63 books", "67 books"],
          "answer": "65 books"
        },
        // Question 30.2
        {
          "question": "There are 64 balloons. 8 balloons float away. How many balloons are left?",
          "options": ["56 balloons", "55 balloons", "57 balloons", "54 balloons", "58 balloons"],
          "answer": "56 balloons"
        },
        // Question 30.3
        {
          "question": "You have 62 toy cars and get 3 more cars. How many toy cars do you have now?",
          "options": ["65 cars", "64 cars", "66 cars", "63 cars", "67 cars"],
          "answer": "65 cars"
        },
        // Question 30.4
        {
          "question": "A jar has 65 candies. You eat 9 candies. How many candies are left?",
          "options": ["56 candies", "55 candies", "57 candies", "54 candies", "58 candies"],
          "answer": "56 candies"
        },
        // Question 30.5
        {
          "question": "There are 61 blocks and you add 4 more blocks. How many blocks are there now?",
          "options": ["65 blocks", "64 blocks", "66 blocks", "63 blocks", "67 blocks"],
          "answer": "65 blocks"
        }
      ]
    }
				  ]
				}
        ];

		const stageCount = quizData[0].stages.length; // This is the correct way to get the number of stages


		const stateContents = {
			'Practice': `<div id="stage-number" class="stage-number">Stage 1 of ${stageCount}</div><div class="progress-bar-container"><div id="progress-bar" class="progress-bar"></div></div><div id="attempts">Attempts: 0</div><div id="quiz-content"></div><button class="center-button" onclick="checkStage()">Check Answers</button>`
			//,'Subject Overview 🗝️': `<div class="subject-overview-content subject-overview-content_heb"> <h1 style="text-align: right;">מילות מפתח בהבנת הנקרא באנגלית 📚</h1> <p style="text-align: right;">מדריך זה מתמקד בשש מילות מפתח חשובות שנפוצות בטקסטים באנגלית. הבנת משמעותן ואופן השימוש בהן חיונית להבנת הנקרא.</p> <hr> <h2 class="highlight_heb" style="text-align: right;">תוכן העניינים</h2> <ol style="text-align: right; direction: rtl;">     <li><a href="#except" class="highlight_heb">המילה "Except"</a></li>     <li><a href="#inferred" class="highlight_heb">המילה "Inferred"</a></li>     <li><a href="#order-to" class="highlight_heb">הביטוי "In Order To"</a></li>     <li><a href="#because" class="highlight_heb">המילה "Because"</a></li>     <li><a href="#refers-to" class="highlight_heb">הביטוי "Refers To"</a></li>     <li><a href="#main" class="highlight_heb">המילה "Main"</a></li> </ol> <hr> <h2 id="except" class="highlight_heb" style="text-align: right;">המילה "Except"</h2> <p style="text-align: right;"><strong>משמעות:</strong> מציינת יוצא מן הכלל, משהו שאינו נכלל בקבוצה או בכלל</p> <p style="text-align: right;"><strong>מבנים נפוצים:</strong></p> <div style="direction: ltr;"> <ul>     <li>All... except...</li>     <li>Every... except...</li>     <li>Everyone... except...</li> </ul> </div> <p style="text-align: right;"><strong>דוגמאות:</strong></p> <div style="direction: ltr;"> <ul>     <li>"Emma visits <strong>all</strong> parks <strong>except</strong> City Park"</li>     <li>"I work <strong>every</strong> day <strong>except</strong> Sunday"</li>     <li>"<strong>Everyone</strong> passed the test <strong>except</strong> John"</li> </ul> </div> <hr> <h2 id="inferred" class="highlight_heb" style="text-align: right;">המילה "Inferred"</h2> <p style="text-align: right;"><strong>משמעות:</strong> מה שניתן להסיק או להבין מתוך הטקסט, גם אם לא נאמר במפורש</p> <p style="text-align: right;"><strong>מבנים נפוצים:</strong></p> <div style="direction: ltr;"> <ul>     <li>What can be inferred...?</li>     <li>It can be inferred that...</li>     <li>The text implies/suggests...</li> </ul> </div> <p style="text-align: right;"><strong>דוגמאות:</strong></p> <div style="direction: ltr;"> <ul>     <li>"What can be <strong>inferred</strong> about Emma's activities?" (ניתן להסיק שהיא אוהבת פעילות בחוץ)</li>     <li>"It can be <strong>inferred</strong> that Jack likes science" (מכיוון שהוא לוקח את כל השיעורים חוץ מאומנות)</li> </ul> </div> <hr> <h2 id="order-to" class="highlight_heb" style="text-align: right;">הביטוי "In Order To"</h2> <p style="text-align: right;"><strong>משמעות:</strong> מציין מטרה או כוונה - "כדי ל..." או "במטרה ל..."</p> <p style="text-align: right;"><strong>מבנים נפוצים:</strong></p> <div style="direction: ltr;"> <ul>     <li>In order to + verb</li>     <li>[Action] in order to [achieve something]</li> </ul> </div> <p style="text-align: right;"><strong>דוגמאות:</strong></p> <div style="direction: ltr;"> <ul>     <li>"She studies hard <strong>in order to</strong> pass the exam"</li>     <li>"He exercises daily <strong>in order to</strong> stay healthy"</li> </ul> </div> <hr> <h2 id="because" class="highlight_heb" style="text-align: right;">המילה "Because"</h2> <p style="text-align: right;"><strong>משמעות:</strong> מציינת סיבה - "בגלל" או "מכיוון ש..."</p> <p style="text-align: right;"><strong>מבנים נפוצים:</strong></p> <div style="direction: ltr;"> <ul>     <li>Because + clause</li>     <li>[Result] because [reason]</li> </ul> </div> <p style="text-align: right;"><strong>דוגמאות:</strong></p> <div style="direction: ltr;"> <ul>     <li>"Lucy doesn't watch scary movies <strong>because</strong> they give her nightmares"</li>     <li>"He was late <strong>because</strong> of the traffic"</li> </ul> </div> <hr> <h2 id="refers-to" class="highlight_heb" style="text-align: right;">הביטוי "Refers To"</h2> <p style="text-align: right;"><strong>משמעות:</strong> מתייחס ל..., מציין את..., מדבר על...</p> <p style="text-align: right;"><strong>מבנים נפוצים:</strong></p> <div style="direction: ltr;"> <ul>     <li>[Something] refers to [what it means/indicates]</li>     <li>This/That/It refers to...</li> </ul> </div> <p style="text-align: right;"><strong>דוגמאות:</strong></p> <div style="direction: ltr;"> <ul>     <li>"Her map <strong>refers to</strong> different playground locations"</li>     <li>"This chapter <strong>refers to</strong> basic grammar rules"</li> </ul> </div> <hr> <h2 id="main" class="highlight_heb" style="text-align: right;">המילה "Main"</h2> <p style="text-align: right;"><strong>משמעות:</strong> עיקרי, מרכזי, החשוב ביותר</p> <p style="text-align: right;"><strong>מבנים נפוצים:</strong></p> <div style="direction: ltr;"> <ul>     <li>The main + noun</li>     <li>The main reason/purpose/goal</li> </ul> </div> <p style="text-align: right;"><strong>דוגמאות:</strong></p> <div style="direction: ltr;"> <ul>     <li>"The <strong>main</strong> reason she goes is to play with friends"</li>     <li>"The <strong>main</strong> goal is to become a doctor"</li> </ul> </div> <hr> <h2 class="highlight_heb" style="text-align: right;">תרגול משולב</h2> <p style="text-align: right;"><strong>נסו לזהות את כל מילות המפתח במשפט הבא:</strong></p> <div style="direction: ltr;"> <p>"Jack takes all classes <strong>except</strong> art <strong>because</strong> his <strong>main</strong> goal is to become a doctor. His schedule <strong>refers to</strong> daily study times, and he studies hard <strong>in order to</strong> achieve his dream. It can be <strong>inferred</strong> that he likes science."</p> </div> <p style="text-align: right;"><strong>ניתוח:</strong></p> <ul style="text-align: right; direction: rtl;">     <li>"except" - מציין את היוצא מן הכלל (אומנות)</li>     <li>"because" - מסביר את הסיבה לבחירותיו</li>     <li>"main" - מדגיש את המטרה העיקרית</li>     <li>"refers to" - מציין למה מתייחס לוח הזמנים</li>     <li>"in order to" - מסביר את המטרה של הלימוד הקשה</li>     <li>"inferred" - מה שניתן להסיק מהמידע שניתן</li> </ul> </div>`
		};


        function setQuizExpansion(allow) {
            allowQuizExpansion = allow;
            adjustLayout();
        }

        function adjustLayout() {
            const wrapper = document.querySelector('.content-wrapper');
            const quizContainer = document.getElementById('quizContainer');
            const sidePanel1 = document.getElementById('sidePanel1');
            
            const isPanel1Visible = window.getComputedStyle(sidePanel1).display !== 'none';

            wrapper.style.justifyContent = 'space-between';

            if (isPanel1Visible) {
                sidePanel1.style.flex = '0 0 calc(20% - 0.5rem)';
                sidePanel1.style.maxWidth = 'calc(20% - 0.5rem)';
                quizContainer.style.flex = '1';
            } else {
                quizContainer.style.flex = '1';
                wrapper.style.justifyContent = 'center';
            }

            [sidePanel1, quizContainer].forEach(el => {
                el.style.display = 'block';
            });
        }

        function togglePanel(panelId) {
            const panel = document.getElementById(panelId);
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            adjustLayout();
        }

        function updateSwitcherLayout() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const handle = switchElement.querySelector('.switch-handle');

            labels.forEach(label => {
                label.style.flex = 'none';
                label.style.padding = '0 20px';
            });

            const activeLabel = switchElement.querySelector('.switch-label.active');
            if (activeLabel) {
                const switchRect = switchElement.getBoundingClientRect();
                const labelRect = activeLabel.getBoundingClientRect();

                handle.style.left = `${labelRect.left - switchRect.left}px`;
                handle.style.width = `${labelRect.width}px`;
            }

            switchElement.style.width = 'auto';
        }
        
        function switchTab(index) {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const activeStates = Array.from(labels).map(label => label.textContent);

            labels.forEach((label, i) => {
                label.classList.toggle('active', i === index);
            });

            updateSwitcherLayout();
            showContent(activeStates[index]);

            adjustLayout();
        }

        function showContent(state) {
            const tabContent = document.getElementById('tabContent');
            tabContent.innerHTML = stateContents[state] || '';

            if (state === 'Practice') {
                renderQuiz();
                updateProgressBar();
            }
        }

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

function isTextEmpty(text) {
    return !text || text.trim() === "";
}

function renderQuiz() {
    const quizContainer = document.getElementById("quiz-content");
    quizContainer.innerHTML = '';
    
    // Only add stage text if it's not empty
    const stageText = quizData[0].stages[currentStage].text;
    if (!isTextEmpty(stageText)) {
        const stageTextElement = document.createElement("div");
        stageTextElement.className = "stage-text";
        stageTextElement.style.marginBottom = "20px";
        stageTextElement.style.padding = "15px";
        stageTextElement.style.backgroundColor = "#f5f5f5";
        stageTextElement.style.borderRadius = "5px";
        stageTextElement.textContent = stageText;
        quizContainer.appendChild(stageTextElement);
    }
    
    // Render questions
    quizData[0].stages[currentStage].questions.forEach((questionData, index) => {
        const questionElement = document.createElement("div");
        questionElement.className = "question-one-line";
        
        const label = document.createElement("label");
        label.htmlFor = `q${index}`;
        label.textContent = `${index + 1}. ${questionData.question}`;
        
        const resultDiv = document.createElement("div");
        resultDiv.className = "result result-ltr";
        resultDiv.id = `result${index}`;
        
        const select = document.createElement("select");
        select.id = `q${index}`;
        select.name = `q${index}`;
        
        const defaultOption = document.createElement("option");
        defaultOption.value = "";
        defaultOption.textContent = "Select";
        select.appendChild(defaultOption);
        
        const shuffledOptions = shuffleArray([...questionData.options]);
        shuffledOptions.forEach(option => {
            const optionElement = document.createElement("option");
            optionElement.value = option;
            optionElement.textContent = option;
            select.appendChild(optionElement);
        });
        
        questionElement.appendChild(label);
        questionElement.appendChild(resultDiv);
        questionElement.appendChild(select);
        
        quizContainer.appendChild(questionElement);
    });

    updateStageNumber();
}

function checkStage() {
    attempts++;
    document.getElementById("attempts").textContent = `Attempts: ${attempts}`;

    let correctCount = 0;
    const totalQuestions = quizData[0].stages[currentStage].questions.length;

    quizData[0].stages[currentStage].questions.forEach((questionData, index) => {
        const resultElement = document.getElementById(`result${index}`);
        const selectElement = document.getElementById(`q${index}`);
        const selectedAnswer = selectElement.value;

        if (selectedAnswer === questionData.answer) {
            resultElement.textContent = "Correct!";
            resultElement.style.color = "green";
            correctCount++;
        } else {
            resultElement.textContent = "Incorrect answer.";
            resultElement.style.color = "red";
        }

        if (attempts >= 10) {
            selectElement.value = questionData.answer;
            selectElement.disabled = true;
            resultElement.textContent += ` The correct answer is: ${questionData.answer}`;
        }
    });

    if (correctCount === totalQuestions) {
        console.log(`Stage ${currentStage + 1}: ${correctCount} correct out of ${totalQuestions}`);
        addAnimalsToFarm(totalQuestions);

        if (currentStage < quizData[0].stages.length - 1) {
            singleStageConfetti();
            showEncouragingPopup(correctCount, totalQuestions, true);
            currentStage++;
            updateProgressBar();
            setTimeout(() => {
                attempts = 0;
                renderQuiz();
                document.getElementById("attempts").textContent = `Attempts: ${attempts}`;
            }, 1500);
        } else {
            currentStage++;
            updateProgressBar();
            allStagesConfetti();
            showModal("Congratulations! You've completed all stages!");
        }
    } else {
        showEncouragingPopup(correctCount, totalQuestions, false);
        if (attempts >= 10) {
            showModal("You've reached the maximum number of attempts. The correct answers have been revealed.");
        }
    }

    scrollToTop();
}

// 4. Update stageCount calculation to work with new structure

		
		function showEncouragingPopup(correctCount, totalQuestions, isStageComplete) {
			const incorrectCount = totalQuestions - correctCount;
			let message = `You got ${correctCount} correct and ${incorrectCount} incorrect.`;
			
			// Add encouraging message based on performance
			if (correctCount === totalQuestions) {
				message += " Perfect score!";
			} else if (correctCount >= Math.ceil(totalQuestions * 0.7)) {
				message += " Great job! You're really getting the hang of this!";
			} else if (correctCount >= Math.ceil(totalQuestions * 0.5)) {
				message += " Good effort! Keep practicing and you'll improve in no time!";
			} else {
				message += " Don't give up! Every attempt helps you learn. Try again!";
			}

			// Add stage completion message if applicable
			if (isStageComplete) {
				message += "\n\n You've completed this stage. Moving to the next stage.";
			}

			showModal(message);
		}

		function initializeQuiz() {
			currentStage = 0;
			attempts = 0;
			updateProgressBar(); // This should now set the progress to 0%
			renderQuiz();
			document.getElementById("attempts").textContent = `Attempts: ${attempts}`;
			updateStageNumber();
		}

function updateProgressBar() {
    const progressBar = document.getElementById("progress-bar");
    const completedStages = currentStage;
    const progress = (completedStages / stageCount) * 100;
    const roundedProgress = Math.min(100, Math.max(0, Math.round(progress)));
    progressBar.style.width = `${roundedProgress}%`;
    progressBar.textContent = roundedProgress > 0 ? `${roundedProgress}%` : '';
    console.log(`Progress updated: ${roundedProgress}% (Stage ${currentStage + 1} of ${stageCount})`);
}

function updateStageNumber() {
    const stageElement = document.getElementById("stage-number");
    stageElement.textContent = `Stage ${currentStage + 1} of ${stageCount}`;
}

		function singleStageConfetti() {
			function randomInRange(min, max) {
				return Math.random() * (max - min) + min;
			}
			confetti({
				angle: randomInRange(55, 125),
				spread: randomInRange(50, 70),
				particleCount: randomInRange(50, 100),
				origin: { y: 0.6 },
			});
		}

		function allStagesConfetti() {
			const defaults = {
				spread: 360,
				ticks: 50,
				gravity: 0,
				decay: 0.94,
				startVelocity: 30,
				shapes: ["star"],
				colors: ["FFE400", "FFBD00", "E89400", "FFCA6C", "FDFFB8"],
			};
			function shoot() {
				confetti({
					...defaults,
					particleCount: 40,
					scalar: 1.2,
					shapes: ["star"],
				});
				confetti({
					...defaults,
					particleCount: 10,
					scalar: 0.75,
					shapes: ["circle"],
				});
			}
			setTimeout(shoot, 0);
			setTimeout(shoot, 100);
			setTimeout(shoot, 200);
		}

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
			    scrollToTopBtn.style.display = "none";
        }

        function initializeSwitch() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labelsContainer = switchElement.querySelector('.switch-labels');
            const switchContainer = document.getElementById('switchContainer');
            
            const activeStates = Object.keys(stateContents).filter(state => stateContents[state].trim() !== '');
            
            if (activeStates.length <= 1) {
                switchContainer.style.display = 'none';
                if (activeStates.length === 1) {
                    showContent(activeStates[0]);
                }
                return;
            }
            
            switchContainer.style.display = 'flex';
            
            activeStates.forEach((state, index) => {
                const label = document.createElement('div');
                label.className = 'switch-label';
                label.textContent = state;
                label.addEventListener('click', () => switchTab(index));
                labelsContainer.appendChild(label);
            });
   
            const defaultTab = manuallySetDefaultTab !== null && manuallySetDefaultTab < activeStates.length
                ? manuallySetDefaultTab
                : 0;

            switchTab(defaultTab);
        }

		let farmAnimals = [];

		function addAnimalsToFarm(count) {
			const animalFarm = document.getElementById('animalFarm');
			let availableAnimals = animals.filter(animal => !farmAnimals.includes(animal));

			console.log(`Adding ${count} animals to the farm. Current farm size: ${farmAnimals.length}`);

			for (let i = 0; i < count; i++) {
				if (availableAnimals.length === 0) {
					console.log("No more unique animals available!");
					break;
				}

				const randomIndex = Math.floor(Math.random() * availableAnimals.length);
				const chosenAnimal = availableAnimals[randomIndex];

				const animalElement = document.createElement('li');
				animalElement.textContent = chosenAnimal;
				animalFarm.appendChild(animalElement);

				farmAnimals.push(chosenAnimal);
				availableAnimals.splice(randomIndex, 1);
				console.log(`Added animal: ${chosenAnimal}`);
			}

			console.log(`Farm size after addition: ${farmAnimals.length}`);
			logAnimalFarmState();
		}

		function logAnimalFarmState() {
			console.log(`Current animal farm state: ${farmAnimals.length} animals`);
			console.log(farmAnimals);
		}

		const animals = [
			"🐉", "🐻", "🦗", "🦁", "🐔", "🦂", "🐟", "🐣", "🐯", "🦡",
			"🐰", "🐍", "🦅", "🐈", "🦈", "🦜", "🦛", "🐀", "🐑",
			"🐮", "🦇", "🐇", "🦖", "🦀", "🦎", "🐃", "🐡", "🐤",
			"🐪", "🦥", "🐛", "🐅", "🐥", "🐱", "🐺", "🐕", "🦩", "🐊",
			"🐖", "🐢", "🕷", "🦕", "🦌", "🐁", "🦨", "🦘", "🐵",
			"🦑", "🐋", "🦓", "🦒", "🐲", "🦆", "🦉", "🐶", "🐄", "🦟",
			"🦃", "🦧", "🦏", "🐙", "🐿", "🦢", "🐜", "🐦", "🐞",
			"🦐", "🦔", "🐼", "🦄", "🦞", "🐫", "🐭", "🐆", "🦝",
			"🐠", "🦚", "🐴", "🐏", "🦮", "🐐", "🐹", "🐎", "🦋", "🐳",
			"🐨", "🐂", "🦍", "🦙", "🐬", "🦦", "🦊", "🐌", "🐓", "🐧",
			"🐷", "🐩", "🐘", "🐸", "🐝"
		];

        function showModal(message) {
            const modal = document.getElementById("quizModal");
            const modalMessage = document.getElementById("modalMessage");
            const modalButton = document.getElementById("modalButton");
            const modalClose = document.getElementsByClassName("modal-quiz-close")[0];

            modalMessage.textContent = message;
            modal.style.display = "block";

            modalButton.onclick = function() {
                modal.style.display = "none";
            }

            modalClose.onclick = function() {
                modal.style.display = "none";
            }

            window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }
        }

		window.addEventListener('load', () => {
			initializeSwitch();
			initializeQuiz();
			adjustLayout();
        });

        window.addEventListener('resize', adjustLayout);

        // Load the copyright content from the external URL and insert it into the div
        fetch('http://ez42.live/global/copyright.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('copyright-container').innerHTML = data;
            })
            .catch(error => console.error('Error loading copyright:', error));
			
		let scrollToTopBtn = document.getElementById("scrollToTopBtn");

			window.onscroll = function() {
				// Check if the scroll distance is more than twice the height of the screen
				if (document.body.scrollTop > window.innerHeight * 1.5 || 
					document.documentElement.scrollTop > window.innerHeight * 1.5) {
					scrollToTopBtn.style.display = "block";
				} else {
					scrollToTopBtn.style.display = "none";
				}
			};

		scrollToTopBtn.onclick = function() {
		  document.body.scrollTop = 0;
		  document.documentElement.scrollTop = 0;
		};	
    </script>
</body>
</html>