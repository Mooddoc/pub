<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ez42.live/global/analytics.js"></script>
    <script src="https://ez42.live/global/ads.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
 	<link rel="stylesheet" href="http://www.ez42.live/global/styles/styles-eng.css"> <!-- Link to external CSS file -->
    <link rel="icon" type="image/svg+xml" href="http://www.ez42.live/global/styles/ez42-icon.svg">
    <title>✅ EZ42 LIVE - It's EZ</title>
	<style>
  
	</style>
</head>
<body>
    <div class="page-container">
        <div class="content-wrapper">
		
		<!--  Side Panel 1  -->
            <div id="sidePanel1" class="side-panel">
				<div class="logo-container">
					<a href="http://ez42.live" target="_blank" rel="noopener noreferrer">
						<img src="http://ez42.live/global/logo/logo.svg" alt="EZ42 Logo" class="logo-image">
					</a>
				</div>
			<h2>Instructions & Rules</h2>
			<ul>
																		<!--  PH1 - Instructions & Rules   -->	
                <li>Read the text and questions carefully.</li>
                <li>Select the best answer.</li>
                <li>Click "Check Answers" when you're ready to see how you did!</li>
                <li>You can check your answers multiple times to improve your score.</li>
                <li>Correct answers are revealed after 10 attempts.</li>
                <li>You must answer all questions correctly to proceed to the next stage.</li>
				<li>Have fun!</li>
			</ul>
            </div>
			
		<!--  Quiz Panel   -->
            <div id="quizContainer" class="quiz-container">
																			<!--  PH2 - Title  X  2 : A1 - 📗 Green, A2 - 📘 Blue, B1 - 📒 Yellow, 📙 Orange, 📔 Beige, 📓 Gray , 📕 Red-->	
                <h1>Understanding and solving multi-step addition and subtraction word problems</h1>
                
                <div id="switchContainer" class="switch-container">
                    <div id="multiStateSwitch" class="switch">
                        <div class="switch-labels"></div>
                        <div class="switch-handle"></div>
                    </div>
                </div>
                <div id="tabContent"></div>
            </div>
			
		<!--  Side Panel 2  -->
			<div id="sidePanel2" class="side-panel">
				<h2>Animal Farm</h2>
				<p>Watch your farm grow as you progress! Each completed stage adds new animal friends to your collection.</p>
				<ul id="animalFarm" class="emoji-list">
				</ul>
			</div>
        </div>
    </div>
    <div id="copyright-container"></div>
 
    <!-- Modal -->
    <div id="quizModal" class="modal-quiz">
        <div class="modal-quiz-content">
            <span class="modal-quiz-close">&times;</span>
            <p id="modalMessage"></p>
            <button id="modalButton" class="modal-quiz-button">OK</button>
        </div>
    </div>
	<button id="scrollToTopBtn" title="Go to top">↑</button>
    <script>
        let isQuizExpanded = false;
        let allowQuizExpansion = true;

        let attempts = 0;
        let currentStage = 0;

        const manuallySetDefaultTab = 0;

																		//  PH3 - Quiz Data 
        const quizData = [ 												   	
				{
				  "stages": [

    // Stage 1 - Simple two-step problems with small numbers
    {
      "text": "Sarah is collecting stickers for her album. She likes to keep track of how many she has and how many she trades with friends.",
      "questions": [
        // Question 1.1
        {
          "question": "Sarah has 15 stickers. Her friend gives her 12 more, but she loses 3. How many stickers does she have now?",
          "options": [
            "24 stickers",
            "27 stickers",
            "30 stickers",
            "21 stickers",
            "All the stickers disappeared!"
          ],
          "answer": "24 stickers"
        },
        // Question 1.2
        {
          "question": "Sarah starts with 20 stickers. She gives 5 to her sister and gets 8 from her mom. How many does she have?",
          "options": [
            "23 stickers",
            "17 stickers",
            "33 stickers",
            "15 stickers",
            "Time to buy a bigger album!"
          ],
          "answer": "23 stickers"
        },
        // Question 1.3
        {
          "question": "If Sarah has 25 stickers and wants to have 40 stickers total, how many more does she need?",
          "options": [
            "15 stickers",
            "35 stickers",
            "65 stickers",
            "10 stickers",
            "A million stickers!"
          ],
          "answer": "15 stickers"
        },
        // Question 1.4
        {
          "question": "Sarah has 30 stickers. She gives away 8 and then 7 more. How many stickers does she have left?",
          "options": [
            "15 stickers",
            "22 stickers",
            "13 stickers",
            "37 stickers",
            "Zero - time to start over!"
          ],
          "answer": "15 stickers"
        },
        // Question 1.5
        {
          "question": "If Sarah gets 10 new stickers on Monday and 12 on Tuesday, but loses 5 on Wednesday, how many new stickers did she get in total?",
          "options": [
            "17 stickers",
            "22 stickers",
            "27 stickers",
            "7 stickers",
            "Enough to wallpaper her room!"
          ],
          "answer": "17 stickers"
        }
      ]
    },
    // Stage 2 - Adding money concepts
    {
      "text": "Mike is saving money for a new game. He keeps track of his savings and spending in his piggy bank.",
      "questions": [
        // Question 2.1
        {
          "question": "Mike has saved $28. He spends $12 on lunch and gets $5 from his aunt. How much money does he have now?",
          "options": [
            "$21",
            "$33",
            "$16",
            "$45",
            "Just empty pockets!"
          ],
          "answer": "$21"
        },
        // Question 2.2
        {
          "question": "If Mike needs $40 for the game and has $21 now, how much more does he need to save?",
          "options": [
            "$19",
            "$61",
            "$29",
            "$11",
            "Maybe try wishing on a star?"
          ],
          "answer": "$19"
        },
        // Question 2.3
        {
          "question": "Mike earns $15 from chores and $10 from helping neighbors. He spends $8 on snacks. How much did he save?",
          "options": [
            "$17",
            "$25",
            "$33",
            "$7",
            "Time to break the piggy bank!"
          ],
          "answer": "$17"
        },
        // Question 2.4
        {
          "question": "If Mike has $30 and spends $7 on Monday and $8 on Tuesday, how much money does he have left?",
          "options": [
            "$15",
            "$23",
            "$45",
            "$37",
            "Who needs money anyway?"
          ],
          "answer": "$15"
        },
        // Question 2.5
        {
          "question": "Mike saved $25 last week and $18 this week. He spent $13 on a book. How much money did he save in total?",
          "options": [
            "$30",
            "$43",
            "$12",
            "$56",
            "Enough for a hundred books!"
          ],
          "answer": "$30"
        }
      ]
    },
    // Stage 3 - Adding larger numbers and more steps
    {
      "text": "The school library is organizing its books. They keep track of books being borrowed, returned, and added to different sections.",
      "questions": [
        // Question 3.1
        {
          "question": "The library has 145 fiction books. They get 38 new books and loan out 25. Then 12 books are returned. How many books do they have now?",
          "options": [
            "170 books",
            "158 books",
            "182 books",
            "195 books",
            "Too many to count!"
          ],
          "answer": "170 books"
        },
        // Question 3.2
        {
          "question": "If there were 250 books, and 45 were borrowed on Monday, 30 on Tuesday, but 25 were returned on Wednesday, how many books are still out?",
          "options": [
            "50 books",
            "75 books",
            "25 books",
            "100 books",
            "The books went on vacation!"
          ],
          "answer": "50 books"
        },
        // Question 3.3
        {
          "question": "The library starts with 300 books. They remove 48 old books, add 125 new ones, and loan out 37. How many books are on the shelves?",
          "options": [
            "340 books",
            "377 books",
            "414 books",
            "252 books",
            "The shelves are taking a break!"
          ],
          "answer": "340 books"
        },
        // Question 3.4
        {
          "question": "There are 200 books in section A and 175 in section B. If 45 books are moved from A to B, how many books are now in section A?",
          "options": [
            "155 books",
            "220 books",
            "175 books",
            "330 books",
            "The books got lost between sections!"
          ],
          "answer": "155 books"
        },
        // Question 3.5
        {
          "question": "If the library had 425 books last month, added 150 new books, removed 75 old ones, and loaned out 85, how many books are available now?",
          "options": [
            "415 books",
            "500 books",
            "340 books",
            "575 books",
            "The librarian needs a calculator!"
          ],
          "answer": "415 books"
        }
      ]
    },
    // Stage 4 - Sports Scores and Statistics
    {
      "text": "The school basketball team is tracking their scores for the season. They want to analyze their performance in different quarters and games.",
      "questions": [
        // Question 4.1
        {
          "question": "The team scored 28 points in the first quarter, 32 in the second, lost 5 points due to fouls, and then scored 25 more. What's their total score?",
          "options": [
            "80 points",
            "85 points",
            "90 points",
            "75 points",
            "A million points - new record!"
          ],
          "answer": "80 points"
        },
        // Question 4.2
        {
          "question": "Last game they scored 95 points. This game they scored 80 points. The opposing team scored 82 points. By how many points did our team win both games combined?",
          "options": [
            "93 points",
            "175 points",
            "13 points",
            "87 points",
            "Let's just call it a tie!"
          ],
          "answer": "93 points"
        },
        // Question 4.3
        {
          "question": "The team needs 250 points to break the school record. They have 186 points from previous games. How many more points do they need?",
          "options": [
            "64 points",
            "436 points",
            "74 points",
            "164 points",
            "Just one really big slam dunk!"
          ],
          "answer": "64 points"
        },
        // Question 4.4
        {
          "question": "If the team scores 45 points in the first half, and 38 in the second half, but gets 8 points deducted for penalties, what's their final score?",
          "options": [
            "75 points",
            "83 points",
            "91 points",
            "67 points",
            "The scoreboard broke!"
          ],
          "answer": "75 points"
        },
        // Question 4.5
        {
          "question": "The team scored 315 points in their first three games and 295 points in their next three games. How many more points did they score in their first three games?",
          "options": [
            "20 points",
            "610 points",
            "280 points",
            "35 points",
            "Let's recount during halftime!"
          ],
          "answer": "20 points"
        }
      ]
    },
    // Stage 5 - School Supply Shopping
    {
      "text": "The class is planning their annual school supply shopping. They need to calculate totals and make sure they stay within budget.",
      "questions": [
        // Question 5.1
        {
          "question": "The class has $475 in their budget. They spend $128 on books, $95 on art supplies, and $157 on science equipment. How much money is left?",
          "options": [
            "$95",
            "$380",
            "$85",
            "$105",
            "Just enough for pizza party!"
          ],
          "answer": "$95"
        },
        // Question 5.2
        {
          "question": "They buy 45 notebooks at $3 each and 45 folders at $2 each. Then they return 5 notebooks and 5 folders. How much money did they spend in total?",
          "options": [
            "$200",
            "$225",
            "$175",
            "$150",
            "The calculator needs new batteries!"
          ],
          "answer": "$200"
        },
        // Question 5.3
        {
          "question": "If the class raises $340 from a bake sale and spends $95 on decorations, $128 on ingredients, and $52 on packaging, how much profit did they make?",
          "options": [
            "$65",
            "$615",
            "$275",
            "$85",
            "Enough for endless cookies!"
          ],
          "answer": "$65"
        },
        // Question 5.4
        {
          "question": "The class needs 625 pencils in total. They have 234 pencils and just bought 175 more. How many pencils do they still need?",
          "options": [
            "216 pencils",
            "409 pencils",
            "391 pencils",
            "191 pencils",
            "A truckload of pencils!"
          ],
          "answer": "216 pencils"
        },
        // Question 5.5
        {
          "question": "They have $850 to spend on field trips. If they spend $375 on bus rental, $225 on tickets, and $125 on lunch, how much money remains for snacks?",
          "options": [
            "$125",
            "$725",
            "$100",
            "$150",
            "We'll walk to save money!"
          ],
          "answer": "$125"
        }
      ]
    },
    // Stage 6 - Community Garden Project
    {
      "text": "The school is planning a community garden. They need to calculate space, plants, and supplies needed for different sections.",
      "questions": [
        // Question 6.1
        {
          "question": "The garden has 678 square feet. If they use 235 square feet for vegetables and 198 square feet for flowers, how many square feet are left for paths?",
          "options": [
            "245 square feet",
            "433 square feet",
            "1111 square feet",
            "280 square feet",
            "Room for a maze!"
          ],
          "answer": "245 square feet"
        },
        // Question 6.2
        {
          "question": "They planted 345 seedlings last week. This week they planted 289 more but 76 didn't survive. How many plants are growing now?",
          "options": [
            "558 plants",
            "634 plants",
            "269 plants",
            "482 plants",
            "A jungle's worth!"
          ],
          "answer": "558 plants"
        },
        // Question 6.3
        {
          "question": "The garden needs 875 feet of fencing. They installed 425 feet, then added 225 more feet. How many more feet of fencing do they need?",
          "options": [
            "225 feet",
            "650 feet",
            "200 feet",
            "450 feet",
            "Let's build a maze instead!"
          ],
          "answer": "225 feet"
        },
        // Question 6.4
        {
          "question": "If they collected 567 tomatoes and gave 189 to the cafeteria, then 135 to families, how many tomatoes are left?",
          "options": [
            "243 tomatoes",
            "324 tomatoes",
            "891 tomatoes",
            "378 tomatoes",
            "Time for pizza party!"
          ],
          "answer": "243 tomatoes"
        },
        // Question 6.5
        {
          "question": "The garden produces 458 pounds of vegetables in spring and 367 in summer. If they donate 289 pounds, how many pounds do they keep?",
          "options": [
            "536 pounds",
            "825 pounds",
            "169 pounds",
            "647 pounds",
            "Enough for endless salads!"
          ],
          "answer": "536 pounds"
        }
      ]
    },
    // Stage 7 - School Reading Challenge
    {
      "text": "The school is having a reading challenge where students track pages read and books completed across different genres.",
      "questions": [
        // Question 7.1
        {
          "question": "Class A reads 875 pages, Class B reads 998 pages, but 125 pages were counted twice. How many unique pages were read in total?",
          "options": [
            "1748 pages",
            "1873 pages",
            "1623 pages",
            "1998 pages",
            "A whole library's worth!"
          ],
          "answer": "1748 pages"
        },
        // Question 7.2
        {
          "question": "Students read 1456 pages of fiction and 789 pages of non-fiction. If they need to read 2500 pages total, how many more pages do they need?",
          "options": [
            "255 pages",
            "2245 pages",
            "667 pages",
            "745 pages",
            "Just one more chapter!"
          ],
          "answer": "255 pages"
        },
        // Question 7.3
        {
          "question": "The school started with 945 books. They added 367 new books but removed 178 old ones. Then they got a donation of 145 books. How many books do they have now?",
          "options": [
            "1279 books",
            "1312 books",
            "1134 books",
            "989 books",
            "The librarian lost count!"
          ],
          "answer": "1279 books"
        },
        // Question 7.4
        {
          "question": "If students read 2345 pages last month and 1987 pages this month, how many fewer pages did they read this month?",
          "options": [
            "358 pages",
            "4332 pages",
            "452 pages",
            "558 pages",
            "Time to read more!"
          ],
          "answer": "358 pages"
        },
        // Question 7.5
        {
          "question": "Class A reads 1234 pages and Class B reads 1567 pages. If Class C reads 198 fewer pages than Class B, how many pages did Class C read?",
          "options": [
            "1369 pages",
            "1765 pages",
            "1036 pages",
            "1432 pages",
            "They're still counting!"
          ],
          "answer": "1369 pages"
        }
      ]
    },
    // Stage 8 - School Carnival Planning
    {
      "text": "The school is organizing a carnival and needs to keep track of tickets sold, prizes given, and money raised for different activities.",
      "questions": [
        // Question 8.1
        {
          "question": "The carnival has 3456 tickets to sell. They sold 1789 tickets in advance and 998 at the door. 234 tickets were refunded. How many tickets are left?",
          "options": [
            "903 tickets",
            "2787 tickets",
            "435 tickets",
            "669 tickets",
            "The ticket printer broke!"
          ],
          "answer": "903 tickets"
        },
        // Question 8.2
        {
          "question": "If the carnival raises $2345 from ticket sales, $876 from food, and $567 from games, but spends $1678 on supplies, how much profit did they make?",
          "options": [
            "$2110",
            "$3788",
            "$2345",
            "$1897",
            "Time to count the piggy bank!"
          ],
          "answer": "$2110"
        },
        // Question 8.3
        {
          "question": "They ordered 4567 prizes. They gave away 1789 on Friday and 1665 on Saturday. How many prizes are left for Sunday?",
          "options": [
            "1113 prizes",
            "3454 prizes",
            "2802 prizes",
            "1234 prizes",
            "Everyone's a winner!"
          ],
          "answer": "1113 prizes"
        },
        // Question 8.4
        {
          "question": "The carnival needs 5000 balloons. They have 2345 red ones and 1789 blue ones. How many more balloons do they need to reach their goal?",
          "options": [
            "866 balloons",
            "4134 balloons",
            "1234 balloons",
            "556 balloons",
            "Until the sky is full!"
          ],
          "answer": "866 balloons"
        },
        // Question 8.5
        {
          "question": "If 3456 people attended the carnival, 1789 played games, and 998 bought food, how many people only walked around?",
          "options": [
            "669 people",
            "2787 people",
            "4454 people",
            "1234 people",
            "They're still walking!"
          ],
          "answer": "669 people"
        }
      ]
    },
   // Stage 9 - School Recycling Program
    {
      "text": "The school is tracking their recycling program results. They collect paper, plastic, and aluminum cans and measure everything in pounds.",
      "questions": [
        // Question 9.1
        {
          "question": "Last month they collected 2345 pounds of paper and 1678 pounds of plastic. This month they collected 2789 pounds of paper and 1456 pounds of plastic. How many more pounds did they collect in total this month?",
          "options": [
            "222 pounds",
            "4245 pounds",
            "8268 pounds",
            "322 pounds",
            "Enough to build a paper castle!"
          ],
          "answer": "222 pounds"
        },
        // Question 9.2
        {
          "question": "If they collected 3456 pounds in January, 2789 in February, and 3123 in March, but had to remove 567 pounds of non-recyclable items, how many pounds were actually recycled?",
          "options": [
            "8801 pounds",
            "9368 pounds",
            "7890 pounds",
            "8234 pounds",
            "The scale broke from all the weight!"
          ],
          "answer": "8801 pounds"
        },
        // Question 9.3
        {
          "question": "The school collected 4567 cans. Class A took 1234 cans, Class B took 1567 cans, and Class C took the rest. How many cans did Class C take?",
          "options": [
            "1766 cans",
            "2801 cans",
            "1456 cans",
            "3333 cans",
            "Too many to count!"
          ],
          "answer": "1766 cans"
        },
        // Question 9.4
        {
          "question": "They need to collect 10000 pounds of recyclables. If they have 4567 pounds of paper and 3234 pounds of plastic, how many more pounds do they need?",
          "options": [
            "2199 pounds",
            "7801 pounds",
            "1999 pounds",
            "2567 pounds",
            "Just one more truck full!"
          ],
          "answer": "2199 pounds"
        },
        // Question 9.5
        {
          "question": "If the school collects 3456 pounds in Week 1 and increases by 234 pounds each week for 4 weeks, how many total pounds were collected?",
          "options": [
            "15444 pounds",
            "14322 pounds",
            "13567 pounds",
            "16789 pounds",
            "The recycling bin exploded!"
          ],
          "answer": "15444 pounds"
        }
      ]
    },
	    // Stage 10 - School Orchestra Practice
    {
      "text": "The school orchestra is preparing for a concert and tracking their practice minutes across different sections and songs.",
      "questions": [
        // Question 10.1
        {
          "question": "The strings section practiced for 2345 minutes last week and 3456 minutes this week. The wind section practiced 2123 minutes last week and 2789 minutes this week. What's the difference in total practice time between the two weeks?",
          "options": [
            "1777 minutes",
            "1567 minutes",
            "1877 minutes",
            "1677 minutes",
            "Until the conductor fell asleep!"
          ],
          "answer": "1777 minutes"
        },
        // Question 10.2
        {
          "question": "If the orchestra needs 12000 minutes of total practice, and they've practiced for 4567 minutes in group sessions and 3789 minutes individually, how many more minutes do they need?",
          "options": [
            "3644 minutes",
            "8356 minutes",
            "4356 minutes",
            "3944 minutes",
            "One more endless rehearsal!"
          ],
          "answer": "3644 minutes"
        },
        // Question 10.3
        {
          "question": "The percussion section practices for 1234 minutes on Monday, 2345 minutes on Tuesday, but misses 567 minutes due to a fire drill. How many minutes did they actually practice?",
          "options": [
            "3012 minutes",
            "3579 minutes",
            "2789 minutes",
            "3112 minutes",
            "The drums ran away!"
          ],
          "answer": "3012 minutes"
        },
        // Question 10.4
        {
          "question": "If the orchestra has 5678 sheets of music and distributes 2345 to the strings section, 1789 to the wind section, and 901 to percussion, how many sheets remain?",
          "options": [
            "643 sheets",
            "789 sheets",
            "543 sheets",
            "843 sheets",
            "The music flew away!"
          ],
          "answer": "643 sheets"
        },
        // Question 10.5
        {
          "question": "The orchestra records 4567 seconds of music. If they delete 890 seconds of mistakes and 678 seconds of background noise, how many seconds of good recording remain?",
          "options": [
            "2999 seconds",
            "3001 seconds",
            "2899 seconds",
            "3099 seconds",
            "Time disappeared into the music!"
          ],
          "answer": "2999 seconds"
        }
      ]
    },
    // Stage 11 - School Art Exhibition
    {
      "text": "The school is organizing an art exhibition where students display their artwork and track visitor attendance and artwork sales.",
      "questions": [
        // Question 11.1
        {
          "question": "The exhibition displays 3456 artworks. If 1234 are paintings, 987 are drawings, and 789 are sculptures, how many other types of artwork are there?",
          "options": [
            "446 artworks",
            "556 artworks",
            "646 artworks",
            "346 artworks",
            "The art came alive and walked away!"
          ],
          "answer": "446 artworks"
        },
        // Question 11.2
        {
          "question": "On opening day, 2345 people visit in the morning and 3456 in the afternoon. If 567 people visited twice, how many unique visitors were there?",
          "options": [
            "5234 visitors",
            "5801 visitors",
            "4667 visitors",
            "5134 visitors",
            "The whole city showed up!"
          ],
          "answer": "5234 visitors"
        },
        // Question 11.3
        {
          "question": "Students create 6789 exhibition flyers. If they distribute 2345 on Monday, 1987 on Tuesday, and lose 234 to rain, how many flyers remain?",
          "options": [
            "2223 flyers",
            "2445 flyers",
            "2123 flyers",
            "2323 flyers",
            "The wind took them to Mars!"
          ],
          "answer": "2223 flyers"
        },
        // Question 11.4
        {
          "question": "The exhibition raises 5678 dollars. After spending 2345 dollars on supplies and 1234 dollars on refreshments, how much profit remains?",
          "options": [
            "2099 dollars",
            "2199 dollars",
            "1999 dollars",
            "2299 dollars",
            "Rich enough to buy the Mona Lisa!"
          ],
          "answer": "2099 dollars"
        },
        // Question 11.5
        {
          "question": "If 4567 photos are taken of the exhibition, and 1234 are posted online, 987 are printed, and 345 are deleted, how many remain unused?",
          "options": [
            "2001 photos",
            "2101 photos",
            "1901 photos",
            "2201 photos",
            "The camera got artistic and quit!"
          ],
          "answer": "2001 photos"
        }
      ]
    },
    // Stage 12 - School Garden Project
    {
      "text": "The school is developing a garden project, calculating space needed for different plants and tracking growth progress.",
      "questions": [
        // Question 12.1
        {
          "question": "The garden has 7890 square feet total. If vegetables need 3456 square feet, flowers need 2345 square feet, and paths need 901 square feet, how much space remains?",
          "options": [
            "1188 square feet",
            "1288 square feet",
            "1088 square feet",
            "1388 square feet",
            "Room for a secret garden!"
          ],
          "answer": "1188 square feet"
        },
        // Question 12.2
        {
          "question": "Students plant 5678 seeds. If 2345 sprout in week 1, 1789 in week 2, and 456 seeds fail to grow, how many seeds are still waiting to sprout?",
          "options": [
            "1088 seeds",
            "1188 seeds",
            "988 seeds",
            "1288 seeds",
            "They grew into magic beanstalks!"
          ],
          "answer": "1088 seeds"
        },
        // Question 12.3
        {
          "question": "The garden needs 4567 watering cans of water weekly. If Monday uses 1234 cans, Tuesday 987 cans, and Wednesday 876 cans, how many cans are needed for the remaining days?",
          "options": [
            "1470 cans",
            "1570 cans",
            "1370 cans",
            "1670 cans",
            "The plants learned to swim!"
          ],
          "answer": "1470 cans"
        },
        // Question 12.4
        {
          "question": "If students harvest 6789 vegetables, donate 2345 to the cafeteria, 1987 to families, and 456 are spoiled, how many vegetables remain?",
          "options": [
            "2001 vegetables",
            "2101 vegetables",
            "1901 vegetables",
            "2201 vegetables",
            "The vegetables started a party!"
          ],
          "answer": "2001 vegetables"
        },
        // Question 12.5
        {
          "question": "The garden project spends 8901 dollars. If 3456 goes to soil, 2345 to tools, and 1789 to plants, how much money is left for other supplies?",
          "options": [
            "1311 dollars",
            "1411 dollars",
            "1211 dollars",
            "1511 dollars",
            "The plants started paying rent!"
          ],
          "answer": "1311 dollars"
        }
      ]
    },
    // Stage 13 - School Science Lab
    {
      "text": "The school science lab is conducting experiments and tracking measurements, materials, and results from different classes.",
      "questions": [
        // Question 13.1
        {
          "question": "The lab uses 8901 test tubes. If Class A uses 3456, Class B uses 2789, and 567 break during experiments, how many test tubes are left?",
          "options": [
            "2089 test tubes",
            "2189 test tubes",
            "1989 test tubes",
            "2289 test tubes",
            "They turned into magic wands!"
          ],
          "answer": "2089 test tubes"
        },
        // Question 13.2
        {
          "question": "Scientists record 9876 measurements. If 3456 are temperature readings, 2789 are weight measurements, and 1234 are volume readings, how many other measurements remain?",
          "options": [
            "2397 measurements",
            "2497 measurements",
            "2297 measurements",
            "2597 measurements",
            "The numbers got dizzy counting!"
          ],
          "answer": "2397 measurements"
        },
        // Question 13.3
        {
          "question": "The lab starts with 7654 milliliters of solution. After using 2345 ml for experiment A, 1987 ml for experiment B, and spilling 432 ml, how much solution is left?",
          "options": [
            "2890 milliliters",
            "2990 milliliters",
            "2790 milliliters",
            "3090 milliliters",
            "It evaporated into rainbow clouds!"
          ],
          "answer": "2890 milliliters"
        },
        // Question 13.4
        {
          "question": "If students collect 6789 data points, use 2345 for graph A, 1987 for graph B, and 567 are invalid, how many valid data points remain unused?",
          "options": [
            "1890 points",
            "1990 points",
            "1790 points",
            "2090 points",
            "The data went on vacation!"
          ],
          "answer": "1890 points"
        },
        // Question 13.5
        {
          "question": "The lab needs 12345 minutes of observation time. If Class A observes for 4567 minutes, Class B for 3789 minutes, and Class C for 2345 minutes, how many minutes are left?",
          "options": [
            "1644 minutes",
            "1744 minutes",
            "1544 minutes",
            "1844 minutes",
            "Time took a coffee break!"
          ],
          "answer": "1644 minutes"
        }
      ]
    },
    // Stage 14 - School Library Technology
    {
      "text": "The school library is upgrading its technology system and tracking digital resources, user activity, and device usage.",
      "questions": [
        // Question 14.1
        {
          "question": "The library has 15678 digital books. If students download 5678 books, teachers download 3456 books, and 789 downloads fail, how many books remain available?",
          "options": [
            "5755 books",
            "5855 books",
            "5655 books",
            "5955 books",
            "The books started reading themselves!"
          ],
          "answer": "5755 books"
        },
        // Question 14.2
        {
          "question": "If 12345 students access the library system, and 4567 use computers, 3789 use tablets, and 2345 use phones, how many use other devices?",
          "options": [
            "1644 students",
            "1744 students",
            "1544 students",
            "1844 students",
            "They used telepathy instead!"
          ],
          "answer": "1644 students"
        },
        // Question 14.3
        {
          "question": "The library tracks 23456 online searches. If 8765 are for books, 6789 for articles, and 4321 for videos, how many other types of searches are there?",
          "options": [
            "3581 searches",
            "3681 searches",
            "3481 searches",
            "3781 searches",
            "Google got jealous!"
          ],
          "answer": "3581 searches"
        },
        // Question 14.4
        {
          "question": "From 18765 total login attempts, 8765 are successful on first try, 5678 on second try, and 2345 fail. How many succeed after more attempts?",
          "options": [
            "1977 logins",
            "2077 logins",
            "1877 logins",
            "2177 logins",
            "The passwords went on strike!"
          ],
          "answer": "1977 logins"
        },
        // Question 14.5
        {
          "question": "The library catalog shows 34567 items. If 12345 are books, 9876 are magazines, and 7654 are digital resources, how many other items are there?",
          "options": [
            "4692 items",
            "4792 items",
            "4592 items",
            "4892 items",
            "The library turned infinite!"
          ],
          "answer": "4692 items"
        }
      ]
    },
    // Stage 15 - School Sports Tournament
    {
      "text": "The school is hosting a multi-sport tournament, tracking scores, participants, and equipment across different sports.",
      "questions": [
        // Question 15.1
        {
          "question": "If 23456 students participate in the tournament, 8765 in basketball, 7654 in soccer, and 4321 in volleyball, how many play other sports?",
          "options": [
            "2716 students",
            "2816 students",
            "2616 students",
            "2916 students",
            "Everyone became an Olympian!"
          ],
          "answer": "2716 students"
        },
        // Question 15.2
        {
          "question": "The tournament uses 12345 pieces of equipment. If 4567 are balls, 3456 are protective gear, and 789 get damaged, how many other pieces remain?",
          "options": [
            "3533 pieces",
            "3633 pieces",
            "3433 pieces",
            "3733 pieces",
            "The equipment started playing alone!"
          ],
          "answer": "3533 pieces"
        },
        // Question 15.3
        {
          "question": "Teams score 45678 points total. If basketball scores 15678 points, soccer scores 12345 points, and volleyball scores 9876 points, how many points come from other sports?",
          "options": [
            "7779 points",
            "7879 points",
            "7679 points",
            "7979 points",
            "The scoreboard exploded!"
          ],
          "answer": "7779 points"
        },
        // Question 15.4
        {
          "question": "The tournament needs 34567 minutes of court time. After scheduling 12345 minutes for basketball, 9876 for volleyball, and canceling 2345 minutes, how many minutes remain?",
          "options": [
            "10001 minutes",
            "10101 minutes",
            "9901 minutes",
            "10201 minutes",
            "Time went into overtime forever!"
          ],
          "answer": "10001 minutes"
        },
        // Question 15.5
        {
          "question": "If 56789 spectators attend the tournament, 23456 watch basketball, 19876 watch soccer, and 5678 watch multiple sports, how many watch other games only?",
          "options": [
            "7779 spectators",
            "7879 spectators",
            "7679 spectators",
            "7979 spectators",
            "The bleachers got too excited!"
          ],
          "answer": "7779 spectators"
        }
      ]
    },
    // Stage 16 - School Technology Fair
    {
      "text": "The school is organizing a technology fair showcasing student projects, tracking visitors, and monitoring digital interactions.",
      "questions": [
        // Question 16.1
        {
          "question": "The fair displays 34567 digital projects. If 12345 are websites, 9876 are apps, and 7654 are games, how many other types of projects are there?",
          "options": [
            "4692 projects",
            "4792 projects",
            "4592 projects",
            "4892 projects",
            "The computers gained consciousness!"
          ],
          "answer": "4692 projects"
        },
        // Question 16.2
        {
          "question": "From 45678 visitors, 15678 attend morning sessions, 16789 attend afternoon sessions, and some attend both. If there are 38901 unique visitors, how many attended multiple sessions?",
          "options": [
            "6434 visitors",
            "6534 visitors",
            "6334 visitors",
            "6634 visitors",
            "They cloned themselves!"
          ],
          "answer": "6434 visitors"
        },
        // Question 16.3
        {
          "question": "Students receive 67890 online votes for their projects. If 23456 votes go to robotics, 21345 to AI projects, and 12345 to games, how many votes go to other categories?",
          "options": [
            "10744 votes",
            "10844 votes",
            "10644 votes",
            "10944 votes",
            "The robots started voting!"
          ],
          "answer": "10744 votes"
        },
        // Question 16.4
        {
          "question": "The fair uses 89012 gigabytes of data. After using 34567 GB for videos, 28901 GB for presentations, and losing 5678 GB to errors, how many GB remain?",
          "options": [
            "19866 GB",
            "19966 GB",
            "19766 GB",
            "20066 GB",
            "The internet broke from excitement!"
          ],
          "answer": "19866 GB"
        },
        // Question 16.5
        {
          "question": "If 78901 people try the virtual reality demos, 34567 in the morning, 29876 in the afternoon, and some leave early due to dizziness, leaving 59012 complete experiences, how many left early?",
          "options": [
            "5431 people",
            "5531 people",
            "5331 people",
            "5631 people",
            "They're still spinning around!"
          ],
          "answer": "5431 people"
        }
      ]
    },
    // Stage 17 - Global Student Exchange
    {
      "text": "The school participates in a global student exchange program, tracking international communications, cultural activities, and virtual meetings.",
      "questions": [
        // Question 17.1
        {
          "question": "Students exchange 78901 messages internationally. If 34567 are sent to Asia, 23456 to Europe, and 12345 to South America, how many are sent to other continents?",
          "options": [
            "8533 messages",
            "8633 messages",
            "8433 messages",
            "8733 messages",
            "The messages got lost in space!"
          ],
          "answer": "8533 messages"
        },
        // Question 17.2
        {
          "question": "From 89012 virtual meeting minutes scheduled, 34567 are used for presentations, 28901 for discussions, and 5678 are cancelled. How many minutes remain for other activities?",
          "options": [
            "19866 minutes",
            "19966 minutes",
            "19766 minutes",
            "20066 minutes",
            "Time zones got tangled!"
          ],
          "answer": "19866 minutes"
        },
        // Question 17.3
        {
          "question": "If 67890 students participate globally, and 23456 are from America, 21345 from Asia, and 12354 from Europe, how many are from other regions?",
          "options": [
            "10735 students",
            "10835 students",
            "10635 students",
            "10935 students",
            "They founded a new continent!"
          ],
          "answer": "10735 students"
        },
        // Question 17.4
        {
          "question": "The program shares 56789 cultural artifacts digitally. After sharing 23456 photos, 19876 videos, and losing 3456 files to technical issues, how many files remain?",
          "options": [
            "10001 files",
            "10101 files",
            "9901 files",
            "10201 files",
            "The culture became virtual!"
          ],
          "answer": "10001 files"
        },
        // Question 17.5
        {
          "question": "Students create 45678 translation requests. If 15678 are for documents, 14567 for videos, and 8765 fail to process, how many successful requests remain for other items?",
          "options": [
            "6668 requests",
            "6768 requests",
            "6568 requests",
            "6868 requests",
            "The languages mixed themselves up!"
          ],
          "answer": "6668 requests"
        }
      ]
    },
   // Stage 18 - School Environmental Project
    {
      "text": "The school is running an environmental awareness project, tracking recycling efforts, energy savings, and conservation activities across different grades.",
      "questions": [
        // Question 18.1
        {
          "question": "Students collect 89012 recyclable items. If 34567 are paper, 28901 are plastic, and 15678 are metal, how many other types of items are collected?",
          "options": [
            "9866 items",
            "9966 items",
            "9766 items",
            "10066 items",
            "The recycling bin became infinite!"
          ],
          "answer": "9866 items"
        },
        // Question 18.2
        {
          "question": "The school saves 67890 kilowatts of energy. If Grade 5 saves 23456 kilowatts, Grade 4 saves 21345 kilowatts, and 5678 kilowatts are from equipment upgrades, how many kilowatts are saved by other grades?",
          "options": [
            "17411 kilowatts",
            "17511 kilowatts",
            "17311 kilowatts",
            "17611 kilowatts",
            "The electric bill disappeared!"
          ],
          "answer": "17411 kilowatts"
        },
        // Question 18.3
        {
          "question": "If students plant 56789 trees, and 23456 survive the first month, 19876 survive the second month, and 4567 are damaged by storms, how many healthy trees remain?",
          "options": [
            "8890 trees",
            "8990 trees",
            "8790 trees",
            "9090 trees",
            "They grew into a magical forest!"
          ],
          "answer": "8890 trees"
        },
        // Question 18.4
        {
          "question": "The project collects 78901 gallons of rainwater. After using 34567 gallons for the garden, 23456 for cleaning, and losing 5678 to evaporation, how many gallons remain?",
          "options": [
            "15200 gallons",
            "15300 gallons",
            "15100 gallons",
            "15400 gallons",
            "It rained chocolate instead!"
          ],
          "answer": "15200 gallons"
        },
        // Question 18.5
        {
          "question": "Students record 45678 environmental observations. If 15678 are about weather, 14567 about wildlife, and 8765 about plants, how many other observations are there?",
          "options": [
            "6668 observations",
            "6768 observations",
            "6568 observations",
            "6868 observations",
            "Nature started taking selfies!"
          ],
          "answer": "6668 observations"
        }
      ]
    },
    // Stage 19 - School Space Science Week
    {
      "text": "The school is celebrating Space Science Week with virtual observatory sessions, astronomy calculations, and space-themed projects.",
      "questions": [
        // Question 19.1
        {
          "question": "The virtual observatory records 98765 star observations. If students identify 34567 stars on Monday, 28901 on Tuesday, and 15678 are duplicates, how many unique stars remain?",
          "options": [
            "19619 stars",
            "19719 stars",
            "19519 stars",
            "19819 stars",
            "The stars started dancing!"
          ],
          "answer": "19619 stars"
        },
        // Question 19.2
        {
          "question": "From 87654 space project participants, 34567 work on rocket models, 28901 on planet dioramas, and 12345 on both. How many students work on other projects?",
          "options": [
            "36531 students",
            "36631 students",
            "36431 students",
            "36731 students",
            "They all became astronauts!"
          ],
          "answer": "36531 students"
        },
        // Question 19.3
        {
          "question": "If the space exhibition receives 76543 visitors, and 34567 come in the morning, 28901 in the afternoon, and 5678 leave early, how many stay for the full evening session?",
          "options": [
            "7397 visitors",
            "7497 visitors",
            "7297 visitors",
            "7597 visitors",
            "They found aliens instead!"
          ],
          "answer": "7397 visitors"
        },
        // Question 19.4
        {
          "question": "Students calculate 65432 astronomical distances. After completing 23456 calculations for planets, 19876 for stars, and finding 4321 errors, how many valid calculations remain?",
          "options": [
            "17779 calculations",
            "17879 calculations",
            "17679 calculations",
            "17979 calculations",
            "The calculator went to Mars!"
          ],
          "answer": "17779 calculations"
        },
        // Question 19.5
        {
          "question": "The space museum shares 54321 space facts. If 21234 are about planets, 18765 about stars, and 7654 about astronauts, how many other space facts are shared?",
          "options": [
            "6668 facts",
            "6768 facts",
            "6568 facts",
            "6868 facts",
            "Space ran out of secrets!"
          ],
          "answer": "6668 facts"
        }
      ]
    },
    // Stage 20 - School Global Mathematics Challenge
    {
      "text": "Schools worldwide participate in a mathematics challenge, solving problems and tracking scores across different categories and time zones.",
      "questions": [
        // Question 20.1
        {
          "question": "The challenge includes 123456 problems. If 45678 are arithmetic, 34567 are geometry, and 23456 are algebra, how many other types of problems are there?",
          "options": [
            "19755 problems",
            "19855 problems",
            "19655 problems",
            "19955 problems",
            "Math became self-aware!"
          ],
          "answer": "19755 problems"
        },
        // Question 20.2
        {
          "question": "From 98765 participants, 34567 complete level 1, 28901 complete level 2, and 15678 skip levels. How many start but don't complete any levels?",
          "options": [
            "19619 participants",
            "19719 participants",
            "19519 participants",
            "19819 participants",
            "They're still counting!"
          ],
          "answer": "19619 participants"
        },
        // Question 20.3
        {
          "question": "Teams score 87654 points total. After awarding 34567 points for accuracy, 28901 for speed, and deducting 5678 penalty points, how many bonus points remain?",
          "options": [
            "29864 points",
            "29964 points",
            "29764 points",
            "30064 points",
            "Points grew exponentially!"
          ],
          "answer": "29864 points"
        },
        // Question 20.4
        {
          "question": "The challenge receives 76543 solution submissions. If 34567 are correct, 23456 are partially correct, and 8765 are incomplete, how many are incorrect but complete?",
          "options": [
            "9755 submissions",
            "9855 submissions",
            "9655 submissions",
            "9955 submissions",
            "The answers evolved!"
          ],
          "answer": "9755 submissions"
        },
        // Question 20.5
        {
          "question": "Students spend 65432 minutes practicing. If 23456 minutes are for arithmetic, 19876 for geometry, and 12345 for algebra, how many minutes are spent on other topics?",
          "options": [
            "9755 minutes",
            "9855 minutes",
            "9655 minutes",
            "9955 minutes",
            "Time got stuck in a loop!"
          ],
          "answer": "9755 minutes"
        }
      ]
    },
   // Stage 21 - International Science Data
    {
      "text": "Schools worldwide are collecting scientific data about weather, plant growth, and environmental changes, sharing their findings globally.",
      "questions": [
        // Question 21.1
        {
          "question": "Scientists collect 234567 temperature readings. If 89012 are from North America, 76543 from Europe, and 45678 from Asia, how many are from other continents?",
          "options": [
            "23334 readings",
            "23434 readings",
            "23234 readings",
            "23534 readings",
            "The thermometer went on vacation!"
          ],
          "answer": "23334 readings"
        },
        // Question 21.2
        {
          "question": "From 156789 plant measurements, 67890 are height data, 45678 are leaf counts, and 23456 are invalid. How many other valid measurements remain?",
          "options": [
            "19765 measurements",
            "19865 measurements",
            "19665 measurements",
            "19965 measurements",
            "The plants started measuring themselves!"
          ],
          "answer": "19765 measurements"
        },
        // Question 21.3
        {
          "question": "Students record 189012 weather observations. After using 78901 for rainfall studies, 65432 for wind patterns, and losing 12345 to errors, how many remain?",
          "options": [
            "32334 observations",
            "32434 observations",
            "32234 observations",
            "32534 observations",
            "The clouds ate the data!"
          ],
          "answer": "32334 observations"
        },
        // Question 21.4
        {
          "question": "The project tracks 223456 butterfly migrations. If 89012 are recorded in spring, 76543 in summer, and 34567 are duplicate counts, how many unique fall migrations remain?",
          "options": [
            "23334 migrations",
            "23434 migrations",
            "23234 migrations",
            "23534 migrations",
            "The butterflies changed their minds!"
          ],
          "answer": "23334 migrations"
        },
        // Question 21.5
        {
          "question": "Scientists analyze 245678 soil samples. If 98765 are from forests, 87654 from grasslands, and 23456 are contaminated, how many other valid samples remain?",
          "options": [
            "35803 samples",
            "35903 samples",
            "35703 samples",
            "36003 samples",
            "The worms counted them all!"
          ],
          "answer": "35803 samples"
        }
      ]
    },
    // Stage 22 - Global Technology Forum
    {
      "text": "Students participate in a worldwide technology forum, sharing projects, conducting virtual experiments, and collaborating across time zones.",
      "questions": [
        // Question 22.1
        {
          "question": "The forum has 345678 participants. If 123456 join from Asia, 98765 from Europe, and 78901 from Americas, how many join from other regions?",
          "options": [
            "44556 participants",
            "44656 participants",
            "44456 participants",
            "44756 participants",
            "The internet got overcrowded!"
          ],
          "answer": "44556 participants"
        },
        // Question 22.2
        {
          "question": "Students share 267890 project files. After uploading 98765 documents, 87654 presentations, and losing 23456 to server errors, how many files remain?",
          "options": [
            "58015 files",
            "58115 files",
            "57915 files",
            "58215 files",
            "The cloud turned into rain!"
          ],
          "answer": "58015 files"
        },
        // Question 22.3
        {
          "question": "The forum receives 289012 questions. If 112345 are about coding, 98765 about robotics, and 45678 get answered immediately, how many other questions need attention?",
          "options": [
            "32224 questions",
            "32324 questions",
            "32124 questions",
            "32424 questions",
            "The robots started asking questions!"
          ],
          "answer": "32224 questions"
        },
        // Question 22.4
        {
          "question": "Virtual labs process 234567 experiments. After completing 89012 physics tests, 76543 chemistry trials, and canceling 23456 due to errors, how many remain?",
          "options": [
            "45556 experiments",
            "45656 experiments",
            "45456 experiments",
            "45756 experiments",
            "Science broke the internet!"
          ],
          "answer": "45556 experiments"
        },
        // Question 22.5
        {
          "question": "Students record 312345 minutes of video presentations. If 123456 minutes are about AI, 98765 about gaming, and 45678 about apps, how many minutes cover other topics?",
          "options": [
            "44446 minutes",
            "44546 minutes",
            "44346 minutes",
            "44646 minutes",
            "Time started watching itself!"
          ],
          "answer": "44446 minutes"
        }
      ]
    },
    // Stage 23 - International Arts Festival
    {
      "text": "Schools join an international arts festival, sharing digital artwork, virtual performances, and cultural collaborations.",
      "questions": [
        // Question 23.1
        {
          "question": "The festival displays 456789 digital artworks. If 167890 are paintings, 145678 are photographs, and 78901 are animations, how many other types of artwork are there?",
          "options": [
            "64320 artworks",
            "64420 artworks",
            "64220 artworks",
            "64520 artworks",
            "The art came alive overnight!"
          ],
          "answer": "64320 artworks"
        },
        // Question 23.2
        {
          "question": "From 345678 festival viewers, 123456 watch live performances, 98765 view galleries, and 45678 attend workshops. How many participate in other activities?",
          "options": [
            "77779 viewers",
            "77879 viewers",
            "77679 viewers",
            "77979 viewers",
            "Everyone became an artist!"
          ],
          "answer": "77779 viewers"
        },
        // Question 23.3
        {
          "question": "Students submit 289012 music recordings. After selecting 98765 for concerts, 87654 for competitions, and removing 34567 for quality issues, how many remain?",
          "options": [
            "68026 recordings",
            "68126 recordings",
            "67926 recordings",
            "68226 recordings",
            "The music played itself!"
          ],
          "answer": "68026 recordings"
        },
        // Question 23.4
        {
          "question": "The festival uses 567890 megabytes of storage. If 234567 are for videos, 198765 for audio, and 45678 for images, how many megabytes remain for other files?",
          "options": [
            "88880 megabytes",
            "88980 megabytes",
            "88780 megabytes",
            "89080 megabytes",
            "The server started dancing!"
          ],
          "answer": "88880 megabytes"
        },
        // Question 23.5
        {
          "question": "Artists create 345678 virtual reality experiences. If 123456 are museums, 98765 are concerts, and 65432 are interactive games, how many other experiences exist?",
          "options": [
            "58025 experiences",
            "58125 experiences",
            "57925 experiences",
            "58225 experiences",
            "Reality became too virtual!"
          ],
          "answer": "58025 experiences"
        }
      ]
    },
    // Stage 24 - Global Mathematics Competition
    {
      "text": "Schools participate in an international mathematics competition, solving complex problems and sharing solutions across different time zones.",
      "questions": [
        // Question 24.1
        {
          "question": "The competition includes 567890 problems. If 234567 are algebra, 198765 are geometry, and 87654 are statistics, how many other types of problems are there?",
          "options": [
            "46904 problems",
            "47004 problems",
            "46804 problems",
            "47104 problems",
            "Math invented new numbers!"
          ],
          "answer": "46904 problems"
        },
        // Question 24.2
        {
          "question": "From 456789 participants, 198765 complete level 1, 156789 complete level 2, and 45678 skip levels. How many don't complete any levels?",
          "options": [
            "55557 participants",
            "55657 participants",
            "55457 participants",
            "55757 participants",
            "They're still calculating!"
          ],
          "answer": "55557 participants"
        },
        // Question 24.3
        {
          "question": "Teams solve 678901 equations. After grading 234567 correct solutions, 198765 partial solutions, and finding 87654 errors, how many remain ungraded?",
          "options": [
            "157915 equations",
            "158015 equations",
            "157815 equations",
            "158115 equations",
            "The equations solved themselves!"
          ],
          "answer": "157915 equations"
        },
        // Question 24.4
        {
          "question": "The competition awards 789012 points. If 345678 go to calculations, 234567 to proofs, and 98765 are bonus points, how many points remain unallocated?",
          "options": [
            "110002 points",
            "110102 points",
            "109902 points",
            "110202 points",
            "Points started multiplying!"
          ],
          "answer": "110002 points"
        },
        // Question 24.5
        {
          "question": "Students spend 890123 minutes practicing. If 345678 minutes are for algebra, 298765 for geometry, and 156789 for review, how many minutes go to other activities?",
          "options": [
            "88891 minutes",
            "88991 minutes",
            "88791 minutes",
            "89091 minutes",
            "Time took a coffee break!"
          ],
          "answer": "88891 minutes"
        }
      ]
    },
    // Stage 25 - World Science Symposium
    {
      "text": "Students join a worldwide science symposium, conducting experiments, sharing research, and collaborating on global scientific challenges.",
      "questions": [
        // Question 25.1
        {
          "question": "The symposium includes 678901 experiments. If 234567 are physics, 198765 are chemistry, and 156789 are biology, how many other science experiments are there?",
          "options": [
            "88780 experiments",
            "88880 experiments",
            "88680 experiments",
            "88980 experiments",
            "Science broke reality!"
          ],
          "answer": "88780 experiments"
        },
        // Question 25.2
        {
          "question": "From 789012 data samples, 345678 are analyzed in labs, 234567 in field studies, and 98765 are contaminated. How many samples remain for other studies?",
          "options": [
            "110002 samples",
            "110102 samples",
            "109902 samples",
            "110202 samples",
            "The samples evolved!"
          ],
          "answer": "110002 samples"
        },
        // Question 25.3
        {
          "question": "Students collect 890123 measurements. After using 345678 for Earth science, 298765 for space studies, and losing 156789 to equipment failures, how many remain?",
          "options": [
            "88891 measurements",
            "88991 measurements",
            "88791 measurements",
            "89091 measurements",
            "The universe lost count!"
          ],
          "answer": "88891 measurements"
        },
        // Question 25.4
        {
          "question": "The symposium shares 901234 research papers. If 345678 are environmental studies, 298765 are technology research, and 167890 are medical studies, how many cover other topics?",
          "options": [
            "88901 papers",
            "89001 papers",
            "88801 papers",
            "89101 papers",
            "The printer ran away!"
          ],
          "answer": "88901 papers"
        },
        // Question 25.5
        {
          "question": "Scientists spend 912345 minutes on video calls. If 345678 minutes are presentations, 298765 are discussions, and 178901 are workshops, how many minutes go to other activities?",
          "options": [
            "89001 minutes",
            "89101 minutes",
            "88901 minutes",
            "89201 minutes",
            "Time zones got mixed up!"
          ],
          "answer": "89001 minutes"
        }
      ]
    },
    // Stage 26 - Global Environmental Summit
    {
      "text": "Students worldwide participate in an environmental summit, tracking global conservation efforts, climate data, and sustainability projects.",
      "questions": [
        // Question 26.1
        {
          "question": "The summit collects 789012 environmental measurements. If 345678 are air quality readings, 234567 are water quality data, and 98765 are soil tests, how many other measurements remain?",
          "options": [
            "110002 measurements",
            "111002 measurements",
            "109002 measurements",
            "112002 measurements",
            "Mother Nature lost count!"
          ],
          "answer": "110002 measurements"
        },
        // Question 26.2
        {
          "question": "From 901234 tree plantings worldwide, 345678 succeed in forests, 234567 in urban areas, and 123456 fail to grow. How many succeed in other areas?",
          "options": [
            "197533 trees",
            "198533 trees",
            "196533 trees",
            "199533 trees",
            "The trees grew to the moon!"
          ],
          "answer": "197533 trees"
        },
        // Question 26.3
        {
          "question": "Students monitor 876543 wildlife observations. After recording 345678 bird sightings, 234567 mammal sightings, and losing 98765 to data errors, how many other observations remain?",
          "options": [
            "197533 observations",
            "198533 observations",
            "196533 observations",
            "199533 observations",
            "The animals started counting!"
          ],
          "answer": "197533 observations"
        },
        // Question 26.4
        {
          "question": "The project tracks 987654 recycled items. If 345678 are plastic, 234567 are paper, and 198765 are metal, how many other materials are recycled?",
          "options": [
            "208644 items",
            "209644 items",
            "207644 items",
            "210644 items",
            "The recycling bin exploded!"
          ],
          "answer": "208644 items"
        },
        // Question 26.5
        {
          "question": "Students measure 912345 carbon footprint data points. After analyzing 345678 from transportation, 234567 from energy use, and 178901 from waste, how many other sources remain?",
          "options": [
            "153199 sources",
            "154199 sources",
            "152199 sources",
            "155199 sources",
            "The calculator went green!"
          ],
          "answer": "153199 sources"
        }
      ]
    },
    // Stage 27 - International Space Research
    {
      "text": "Students collaborate on space research projects, analyzing astronomical data, tracking satellites, and studying planetary information.",
      "questions": [
        // Question 27.1
        {
          "question": "Scientists collect 998765 star observations. If 456789 are brightness measurements, 345678 are distance calculations, and 87654 are errors, how many other observations exist?",
          "options": [
            "108644 observations",
            "109644 observations",
            "107644 observations",
            "110644 observations",
            "The stars started winking back!"
          ],
          "answer": "108644 observations"
        },
        // Question 27.2
        {
          "question": "From 1234567 satellite data points, 567890 track position, 345678 measure speed, and 198765 are atmospheric readings. How many other measurements remain?",
          "options": [
            "122234 points",
            "123234 points",
            "121234 points",
            "124234 points",
            "The satellites got dizzy!"
          ],
          "answer": "122234 points"
        },
        // Question 27.3
        {
          "question": "Students analyze 987654 planetary images. After classifying 456789 as surface features, 345678 as atmospheric patterns, and discarding 87654 as unclear, how many remain unclassified?",
          "options": [
            "97533 images",
            "98533 images",
            "96533 images",
            "99533 images",
            "Mars photobombed everything!"
          ],
          "answer": "97533 images"
        },
        // Question 27.4
        {
          "question": "The project records 1345678 space telescope measurements. If 567890 study galaxies, 456789 study nebulae, and 198765 study black holes, how many other measurements exist?",
          "options": [
            "122234 measurements",
            "123234 measurements",
            "121234 measurements",
            "124234 measurements",
            "Space ran out of space!"
          ],
          "answer": "122234 measurements"
        },
        // Question 27.5
        {
          "question": "Scientists process 1456789 radio signals from space. After analyzing 678901 from stars, 456789 from planets, and losing 198765 to interference, how many signals remain unidentified?",
          "options": [
            "122334 signals",
            "123334 signals",
            "121334 signals",
            "124334 signals",
            "Aliens started broadcasting!"
          ],
          "answer": "122334 signals"
        }
      ]
    },
    // Stage 28 - World Technology Innovation
    {
      "text": "Students participate in a global technology innovation challenge, creating and testing new solutions for worldwide problems.",
      "questions": [
        // Question 28.1
        {
          "question": "The challenge receives 1567890 project submissions. If 678901 are environmental solutions, 456789 are healthcare innovations, and 234567 are educational tools, how many other innovations remain?",
          "options": [
            "197633 projects",
            "198633 projects",
            "196633 projects",
            "199633 projects",
            "Innovation broke the internet!"
          ],
          "answer": "197633 projects"
        },
        // Question 28.2
        {
          "question": "From 1678901 test results, 789012 are successful trials, 456789 are partial successes, and 234567 fail. How many tests need repeating?",
          "options": [
            "198533 tests",
            "199533 tests",
            "197533 tests",
            "200533 tests",
            "The robots got tired!"
          ],
          "answer": "198533 tests"
        },
        // Question 28.3
        {
          "question": "Students process 1789012 data points. After using 678901 for AI training, 567890 for testing, and losing 234567 to system crashes, how many points remain?",
          "options": [
            "307654 points",
            "308654 points",
            "306654 points",
            "309654 points",
            "The computers went on strike!"
          ],
          "answer": "307654 points"
        },
        // Question 28.4
        {
          "question": "The project generates 1890123 lines of code. If 789012 are for interfaces, 567890 for processing, and 345678 have bugs, how many lines work for other functions?",
          "options": [
            "187543 lines",
            "188543 lines",
            "186543 lines",
            "189543 lines",
            "The code started coding itself!"
          ],
          "answer": "187543 lines"
        },
        // Question 28.5
        {
          "question": "Innovators submit 1567890 solution proposals. After reviewing 678901 for feasibility, 456789 for impact, and rejecting 234567 as impractical, how many await review?",
          "options": [
            "197633 proposals",
            "198633 proposals",
            "196633 proposals",
            "199633 proposals",
            "Ideas started implementing themselves!"
          ],
          "answer": "197633 proposals"
        }
      ]
    },
    // Stage 29 - Global Cultural Exchange
    {
      "text": "Students engage in a worldwide cultural exchange program, sharing traditions, art, and customs through digital platforms.",
      "questions": [
        // Question 29.1
        {
          "question": "The exchange features 1678901 cultural artifacts. If 789012 are traditional art, 456789 are music recordings, and 234567 are dance videos, how many other artifacts are shared?",
          "options": [
            "198533 artifacts",
            "199533 artifacts",
            "197533 artifacts",
            "200533 artifacts",
            "Culture broke the internet!"
          ],
          "answer": "198533 artifacts"
        },
        // Question 29.2
        {
          "question": "From 1789012 virtual attendees, 678901 participate in workshops, 567890 watch performances, and 234567 have connection issues. How many attend other activities?",
          "options": [
            "307654 attendees",
            "308654 attendees",
            "306654 attendees",
            "309654 attendees",
            "Everyone started dancing!"
          ],
          "answer": "307654 attendees"
        },
        // Question 29.3
        {
          "question": "Students share 1890123 cultural stories. After translating 789012 to English, 567890 to Spanish, and 345678 to Mandarin, how many remain untranslated?",
          "options": [
            "187543 stories",
            "188543 stories",
            "186543 stories",
            "189543 stories",
            "The stories translated themselves!"
          ],
          "answer": "187543 stories"
        },
        // Question 29.4
        {
          "question": "The program includes 1678901 minutes of cultural presentations. If 678901 minutes are traditions, 456789 are ceremonies, and 345678 are festivals, how many minutes cover other topics?",
          "options": [
            "197533 minutes",
            "198533 minutes",
            "196533 minutes",
            "199533 minutes",
            "Time started celebrating!"
          ],
          "answer": "197533 minutes"
        },
        // Question 29.5
        {
          "question": "Participants share 1789012 recipes. After categorizing 678901 as main dishes, 567890 as desserts, and 345678 as beverages, how many other recipes remain?",
          "options": [
            "196543 recipes",
            "197543 recipes",
            "195543 recipes",
            "198543 recipes",
            "The food cooked itself!"
          ],
          "answer": "196543 recipes"
        }
      ]
    },
    // Stage 30 - Final Global Challenge
    {
      "text": "The final challenge combines all previous topics into a comprehensive worldwide collaboration project.",
      "questions": [
        // Question 30.1
        {
          "question": "The challenge processes 2345678 data entries. If 890123 are scientific measurements, 678901 are cultural observations, and 456789 are technological innovations, how many other entries exist?",
          "options": [
            "319865 entries",
            "320865 entries",
            "318865 entries",
            "321865 entries",
            "The database achieved consciousness!"
          ],
          "answer": "319865 entries"
        },
        // Question 30.2
        {
          "question": "From 2456789 global participants, 890123 work on environmental projects, 678901 on cultural exchange, and 456789 on technology solutions. How many work on other areas?",
          "options": [
            "430976 participants",
            "431976 participants",
            "429976 participants",
            "432976 participants",
            "Everyone saved the world!"
          ],
          "answer": "430976 participants"
        },
        // Question 30.3
        {
          "question": "Students submit 2567890 project components. After integrating 890123 environmental solutions, 678901 cultural elements, and losing 456789 to technical issues, how many components remain?",
          "options": [
            "542077 components",
            "543077 components",
            "541077 components",
            "544077 components",
            "The projects merged into one!"
          ],
          "answer": "542077 components"
        },
        // Question 30.4
        {
          "question": "The final presentation includes 2678901 seconds of content. If 890123 seconds are research findings, 678901 are project demonstrations, and 456789 are team introductions, how many seconds remain?",
          "options": [
            "653088 seconds",
            "654088 seconds",
            "652088 seconds",
            "655088 seconds",
            "Time stopped to watch!"
          ],
          "answer": "653088 seconds"
        },
        // Question 30.5
        {
          "question": "The challenge awards 2789012 points total. After distributing 890123 for innovation, 678901 for collaboration, and 456789 for presentation, how many points remain for other categories?",
          "options": [
            "763199 points",
            "764199 points",
            "762199 points",
            "765199 points",
            "Points started multiplying infinitely!"
          ],
          "answer": "763199 points"
        }
      ]
    }
				  ]
				}
        ];

		const stageCount = quizData[0].stages.length; // This is the correct way to get the number of stages


		const stateContents = {
			'Practice': `<div id="stage-number" class="stage-number">Stage 1 of ${stageCount}</div><div class="progress-bar-container"><div id="progress-bar" class="progress-bar"></div></div><div id="attempts">Attempts: 0</div><div id="quiz-content"></div><button class="center-button" onclick="checkStage()">Check Answers</button>`
			,'Subject Overview 🗝️': `<div class="subject-overview-content">     <h1>Understanding and Solving Multi-Step Addition and Subtraction Word Problems</h1>     <p>Multi-step addition and subtraction word problems are essential for developing strong mathematical reasoning and problem-solving skills. These problems require students to perform multiple operations to arrive at the correct solution. This guide will explore strategies for understanding and solving multi-step addition and subtraction word problems, providing detailed explanations and practical examples to enhance your mathematical abilities.</p>     <hr>     <h2>Table of Contents</h2>     <ol>         <li><a href="#introduction">Introduction to Multi-Step Word Problems</a></li>         <li><a href="#key-strategies">Key Strategies for Solving</a></li>         <li><a href="#step-by-step-guide">Step-by-Step Guide</a>             <ul>                 <li><a href="#understand-the-problem">Understand the Problem</a></li>                 <li><a href="#devise-a-plan">Devise a Plan</a></li>                 <li><a href="#carry-out-the-plan">Carry Out the Plan</a></li>                 <li><a href="#review-and-check">Review and Check</a></li>             </ul>         </li>         <li><a href="#examples">Examples</a></li>         <li><a href="#conclusion">Conclusion</a></li>     </ol>     <hr>     <h2 id="introduction">Introduction to Multi-Step Word Problems</h2>     <p>Multi-step word problems involve more than one mathematical operation and often require a combination of addition and subtraction to solve. These problems help students develop critical thinking and the ability to translate real-world scenarios into mathematical expressions.</p>     <p>Understanding how to approach and solve these problems is crucial for success in mathematics. This guide will provide you with the tools and techniques needed to tackle multi-step addition and subtraction word problems effectively.</p>     <hr>     <h2 id="key-strategies">Key Strategies for Solving</h2>     <p>To successfully solve multi-step word problems, consider the following strategies:</p>     <ol>         <li><strong>Read Carefully:</strong> Ensure you understand the problem by reading it multiple times.</li>         <li><strong>Identify Key Information:</strong> Highlight important numbers and operations.</li>         <li><strong>Break It Down:</strong> Divide the problem into smaller, manageable steps.</li>         <li><strong>Use Visual Aids:</strong> Draw diagrams or charts to visualize the problem.</li>         <li><strong>Choose the Right Operations:</strong> Decide which mathematical operations to use in each step.</li>     </ol>     <hr>     <h2 id="step-by-step-guide">Step-by-Step Guide</h2>     <h3 id="understand-the-problem">1. Understand the Problem</h3>     <p>Begin by thoroughly reading the problem to grasp the scenario and what is being asked. Identify the quantities involved and the relationships between them.</p>         <h3 id="devise-a-plan">2. Devise a Plan</h3>     <p>Determine the sequence of operations needed to solve the problem. Decide which information you need first and how to use it to find the solution.</p>         <h3 id="carry-out-the-plan">3. Carry Out the Plan</h3>     <p>Execute the operations step by step. Perform calculations carefully, ensuring accuracy at each stage.</p>         <h3 id="review-and-check">4. Review and Check</h3>     <p>After finding a solution, revisit the problem to verify the answer. Check your calculations and ensure that the solution makes sense in the context of the problem.</p>     <hr>     <h2 id="examples">Examples</h2>     <h3>Example 1</h3>     <p><strong>Problem:</strong> Sarah has 15 apples. She buys 12 more and then gives away 9 apples to her friends. How many apples does Sarah have now?</p>     <p><strong>Solution:</strong></p>     <ol>         <li>Start with the initial number of apples: 15.</li>         <li>Add the apples she buys: 15 + 12 = 27.</li>         <li>Subtract the apples she gives away: 27 - 9 = 18.</li>     </ol>     <p><strong>Answer:</strong> Sarah has 18 apples now.</p>         <h3>Example 2</h3>     <p><strong>Problem:</strong> A library has 240 books. During the month, they purchased 85 new books and donated 50 books to a school. How many books does the library have now?</p>     <p><strong>Solution:</strong></p>     <ol>         <li>Initial number of books: 240.</li>         <li>Add the new books purchased: 240 + 85 = 325.</li>         <li>Subtract the books donated: 325 - 50 = 275.</li>     </ol>     <p><strong>Answer:</strong> The library now has 275 books.</p>         <h3>Example 3</h3>     <p><strong>Problem:</strong> John had $80. He earned $45 from his part-time job and spent $30 on groceries. How much money does John have now?</p>     <p><strong>Solution:</strong></p>     <ol>         <li>Start with the initial amount: $80.</li>         <li>Add the money earned: $80 + $45 = $125.</li>         <li>Subtract the money spent: $125 - $30 = $95.</li>     </ol>     <p><strong>Answer:</strong> John has $95 now.</p>     <hr>     <h2 id="conclusion">Conclusion</h2>     <p>Mastering multi-step addition and subtraction word problems enhances your ability to solve complex mathematical scenarios. By understanding the problem, devising a clear plan, carrying out your calculations carefully, and reviewing your work, you can tackle these challenges with confidence.</p>     <ul>         <li><strong>Read Thoroughly:</strong> Take your time to understand each part of the problem.</li>         <li><strong>Plan Strategically:</strong> Break down the problem into logical steps.</li>         <li><strong>Execute Accurately:</strong> Perform calculations carefully to avoid errors.</li>         <li><strong>Verify Your Answer:</strong> Ensure your solution makes sense in the context of the problem.</li>     </ul>     <p><strong>Remember</strong>: Practice is key to becoming proficient in solving multi-step word problems. Regularly challenge yourself with diverse problems to strengthen your mathematical reasoning and problem-solving skills.</p> </div> `		};


        function setQuizExpansion(allow) {
            allowQuizExpansion = allow;
            adjustLayout();
        }

        function adjustLayout() {
            const wrapper = document.querySelector('.content-wrapper');
            const quizContainer = document.getElementById('quizContainer');
            const sidePanel1 = document.getElementById('sidePanel1');
            
            const isPanel1Visible = window.getComputedStyle(sidePanel1).display !== 'none';

            wrapper.style.justifyContent = 'space-between';

            if (isPanel1Visible) {
                sidePanel1.style.flex = '0 0 calc(20% - 0.5rem)';
                sidePanel1.style.maxWidth = 'calc(20% - 0.5rem)';
                quizContainer.style.flex = '1';
            } else {
                quizContainer.style.flex = '1';
                wrapper.style.justifyContent = 'center';
            }

            [sidePanel1, quizContainer].forEach(el => {
                el.style.display = 'block';
            });
        }

        function togglePanel(panelId) {
            const panel = document.getElementById(panelId);
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            adjustLayout();
        }

        function updateSwitcherLayout() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const handle = switchElement.querySelector('.switch-handle');

            labels.forEach(label => {
                label.style.flex = 'none';
                label.style.padding = '0 20px';
            });

            const activeLabel = switchElement.querySelector('.switch-label.active');
            if (activeLabel) {
                const switchRect = switchElement.getBoundingClientRect();
                const labelRect = activeLabel.getBoundingClientRect();

                handle.style.left = `${labelRect.left - switchRect.left}px`;
                handle.style.width = `${labelRect.width}px`;
            }

            switchElement.style.width = 'auto';
        }
        
        function switchTab(index) {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const activeStates = Array.from(labels).map(label => label.textContent);

            labels.forEach((label, i) => {
                label.classList.toggle('active', i === index);
            });

            updateSwitcherLayout();
            showContent(activeStates[index]);

            adjustLayout();
        }

        function showContent(state) {
            const tabContent = document.getElementById('tabContent');
            tabContent.innerHTML = stateContents[state] || '';

            if (state === 'Practice') {
                renderQuiz();
                updateProgressBar();
            }
        }

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

function isTextEmpty(text) {
    return !text || text.trim() === "";
}

function renderQuiz() {
    const quizContainer = document.getElementById("quiz-content");
    quizContainer.innerHTML = '';
    
    // Only add stage text if it's not empty
    const stageText = quizData[0].stages[currentStage].text;
    if (!isTextEmpty(stageText)) {
        const stageTextElement = document.createElement("div");
        stageTextElement.className = "stage-text";
        stageTextElement.style.marginBottom = "20px";
        stageTextElement.style.padding = "15px";
        stageTextElement.style.backgroundColor = "#f5f5f5";
        stageTextElement.style.borderRadius = "5px";
        stageTextElement.textContent = stageText;
        quizContainer.appendChild(stageTextElement);
    }
    
    // Render questions
    quizData[0].stages[currentStage].questions.forEach((questionData, index) => {
        const questionElement = document.createElement("div");
        questionElement.className = "question-one-line";
        
        const label = document.createElement("label");
        label.htmlFor = `q${index}`;
        label.textContent = `${index + 1}. ${questionData.question}`;
        
        const resultDiv = document.createElement("div");
        resultDiv.className = "result result-ltr";
        resultDiv.id = `result${index}`;
        
        const select = document.createElement("select");
        select.id = `q${index}`;
        select.name = `q${index}`;
        
        const defaultOption = document.createElement("option");
        defaultOption.value = "";
        defaultOption.textContent = "Select";
        select.appendChild(defaultOption);
        
        const shuffledOptions = shuffleArray([...questionData.options]);
        shuffledOptions.forEach(option => {
            const optionElement = document.createElement("option");
            optionElement.value = option;
            optionElement.textContent = option;
            select.appendChild(optionElement);
        });
        
        questionElement.appendChild(label);
        questionElement.appendChild(resultDiv);
        questionElement.appendChild(select);
        
        quizContainer.appendChild(questionElement);
    });

    updateStageNumber();
}

function checkStage() {
    attempts++;
    document.getElementById("attempts").textContent = `Attempts: ${attempts}`;

    let correctCount = 0;
    const totalQuestions = quizData[0].stages[currentStage].questions.length;

    quizData[0].stages[currentStage].questions.forEach((questionData, index) => {
        const resultElement = document.getElementById(`result${index}`);
        const selectElement = document.getElementById(`q${index}`);
        const selectedAnswer = selectElement.value;

        if (selectedAnswer === questionData.answer) {
            resultElement.textContent = "Correct!";
            resultElement.style.color = "green";
            correctCount++;
        } else {
            resultElement.textContent = "Incorrect answer.";
            resultElement.style.color = "red";
        }

        if (attempts >= 10) {
            selectElement.value = questionData.answer;
            selectElement.disabled = true;
            resultElement.textContent += ` The correct answer is: ${questionData.answer}`;
        }
    });

    if (correctCount === totalQuestions) {
        console.log(`Stage ${currentStage + 1}: ${correctCount} correct out of ${totalQuestions}`);
        addAnimalsToFarm(totalQuestions);

        if (currentStage < quizData[0].stages.length - 1) {
            singleStageConfetti();
            showEncouragingPopup(correctCount, totalQuestions, true);
            currentStage++;
            updateProgressBar();
            setTimeout(() => {
                attempts = 0;
                renderQuiz();
                document.getElementById("attempts").textContent = `Attempts: ${attempts}`;
            }, 1500);
        } else {
            currentStage++;
            updateProgressBar();
            allStagesConfetti();
            showModal("Congratulations! You've completed all stages!");
        }
    } else {
        showEncouragingPopup(correctCount, totalQuestions, false);
        if (attempts >= 10) {
            showModal("You've reached the maximum number of attempts. The correct answers have been revealed.");
        }
    }

    scrollToTop();
}

// 4. Update stageCount calculation to work with new structure

		
		function showEncouragingPopup(correctCount, totalQuestions, isStageComplete) {
			const incorrectCount = totalQuestions - correctCount;
			let message = `You got ${correctCount} correct and ${incorrectCount} incorrect.`;
			
			// Add encouraging message based on performance
			if (correctCount === totalQuestions) {
				message += " Perfect score!";
			} else if (correctCount >= Math.ceil(totalQuestions * 0.7)) {
				message += " Great job! You're really getting the hang of this!";
			} else if (correctCount >= Math.ceil(totalQuestions * 0.5)) {
				message += " Good effort! Keep practicing and you'll improve in no time!";
			} else {
				message += " Don't give up! Every attempt helps you learn. Try again!";
			}

			// Add stage completion message if applicable
			if (isStageComplete) {
				message += "\n\n You've completed this stage. Moving to the next stage.";
			}

			showModal(message);
		}

		function initializeQuiz() {
			currentStage = 0;
			attempts = 0;
			updateProgressBar(); // This should now set the progress to 0%
			renderQuiz();
			document.getElementById("attempts").textContent = `Attempts: ${attempts}`;
			updateStageNumber();
		}

function updateProgressBar() {
    const progressBar = document.getElementById("progress-bar");
    const completedStages = currentStage;
    const progress = (completedStages / stageCount) * 100;
    const roundedProgress = Math.min(100, Math.max(0, Math.round(progress)));
    progressBar.style.width = `${roundedProgress}%`;
    progressBar.textContent = roundedProgress > 0 ? `${roundedProgress}%` : '';
    console.log(`Progress updated: ${roundedProgress}% (Stage ${currentStage + 1} of ${stageCount})`);
}

function updateStageNumber() {
    const stageElement = document.getElementById("stage-number");
    stageElement.textContent = `Stage ${currentStage + 1} of ${stageCount}`;
}

		function singleStageConfetti() {
			function randomInRange(min, max) {
				return Math.random() * (max - min) + min;
			}
			confetti({
				angle: randomInRange(55, 125),
				spread: randomInRange(50, 70),
				particleCount: randomInRange(50, 100),
				origin: { y: 0.6 },
			});
		}

		function allStagesConfetti() {
			const defaults = {
				spread: 360,
				ticks: 50,
				gravity: 0,
				decay: 0.94,
				startVelocity: 30,
				shapes: ["star"],
				colors: ["FFE400", "FFBD00", "E89400", "FFCA6C", "FDFFB8"],
			};
			function shoot() {
				confetti({
					...defaults,
					particleCount: 40,
					scalar: 1.2,
					shapes: ["star"],
				});
				confetti({
					...defaults,
					particleCount: 10,
					scalar: 0.75,
					shapes: ["circle"],
				});
			}
			setTimeout(shoot, 0);
			setTimeout(shoot, 100);
			setTimeout(shoot, 200);
		}

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
			    scrollToTopBtn.style.display = "none";
        }

        function initializeSwitch() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labelsContainer = switchElement.querySelector('.switch-labels');
            const switchContainer = document.getElementById('switchContainer');
            
            const activeStates = Object.keys(stateContents).filter(state => stateContents[state].trim() !== '');
            
            if (activeStates.length <= 1) {
                switchContainer.style.display = 'none';
                if (activeStates.length === 1) {
                    showContent(activeStates[0]);
                }
                return;
            }
            
            switchContainer.style.display = 'flex';
            
            activeStates.forEach((state, index) => {
                const label = document.createElement('div');
                label.className = 'switch-label';
                label.textContent = state;
                label.addEventListener('click', () => switchTab(index));
                labelsContainer.appendChild(label);
            });
   
            const defaultTab = manuallySetDefaultTab !== null && manuallySetDefaultTab < activeStates.length
                ? manuallySetDefaultTab
                : 0;

            switchTab(defaultTab);
        }

		let farmAnimals = [];

		function addAnimalsToFarm(count) {
			const animalFarm = document.getElementById('animalFarm');
			let availableAnimals = animals.filter(animal => !farmAnimals.includes(animal));

			console.log(`Adding ${count} animals to the farm. Current farm size: ${farmAnimals.length}`);

			for (let i = 0; i < count; i++) {
				if (availableAnimals.length === 0) {
					console.log("No more unique animals available!");
					break;
				}

				const randomIndex = Math.floor(Math.random() * availableAnimals.length);
				const chosenAnimal = availableAnimals[randomIndex];

				const animalElement = document.createElement('li');
				animalElement.textContent = chosenAnimal;
				animalFarm.appendChild(animalElement);

				farmAnimals.push(chosenAnimal);
				availableAnimals.splice(randomIndex, 1);
				console.log(`Added animal: ${chosenAnimal}`);
			}

			console.log(`Farm size after addition: ${farmAnimals.length}`);
			logAnimalFarmState();
		}

		function logAnimalFarmState() {
			console.log(`Current animal farm state: ${farmAnimals.length} animals`);
			console.log(farmAnimals);
		}

		const animals = [
			"🐉", "🐻", "🦗", "🦁", "🐔", "🦂", "🐟", "🐣", "🐯", "🦡",
			"🐰", "🐍", "🦅", "🐈", "🦈", "🦜", "🦛", "🐀", "🐑",
			"🐮", "🦇", "🐇", "🦖", "🦀", "🦎", "🐃", "🐡", "🐤",
			"🐪", "🦥", "🐛", "🐅", "🐥", "🐱", "🐺", "🐕", "🦩", "🐊",
			"🐖", "🐢", "🕷", "🦕", "🦌", "🐁", "🦨", "🦘", "🐵",
			"🦑", "🐋", "🦓", "🦒", "🐲", "🦆", "🦉", "🐶", "🐄", "🦟",
			"🦃", "🦧", "🦏", "🐙", "🐿", "🦢", "🐜", "🐦", "🐞",
			"🦐", "🦔", "🐼", "🦄", "🦞", "🐫", "🐭", "🐆", "🦝",
			"🐠", "🦚", "🐴", "🐏", "🦮", "🐐", "🐹", "🐎", "🦋", "🐳",
			"🐨", "🐂", "🦍", "🦙", "🐬", "🦦", "🦊", "🐌", "🐓", "🐧",
			"🐷", "🐩", "🐘", "🐸", "🐝"
		];

        function showModal(message) {
            const modal = document.getElementById("quizModal");
            const modalMessage = document.getElementById("modalMessage");
            const modalButton = document.getElementById("modalButton");
            const modalClose = document.getElementsByClassName("modal-quiz-close")[0];

            modalMessage.textContent = message;
            modal.style.display = "block";

            modalButton.onclick = function() {
                modal.style.display = "none";
            }

            modalClose.onclick = function() {
                modal.style.display = "none";
            }

            window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }
        }

		window.addEventListener('load', () => {
			initializeSwitch();
			initializeQuiz();
			adjustLayout();
        });

        window.addEventListener('resize', adjustLayout);

        // Load the copyright content from the external URL and insert it into the div
        fetch('http://ez42.live/global/copyright.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('copyright-container').innerHTML = data;
            })
            .catch(error => console.error('Error loading copyright:', error));
			
		let scrollToTopBtn = document.getElementById("scrollToTopBtn");

			window.onscroll = function() {
				// Check if the scroll distance is more than twice the height of the screen
				if (document.body.scrollTop > window.innerHeight * 1.5 || 
					document.documentElement.scrollTop > window.innerHeight * 1.5) {
					scrollToTopBtn.style.display = "block";
				} else {
					scrollToTopBtn.style.display = "none";
				}
			};

		scrollToTopBtn.onclick = function() {
		  document.body.scrollTop = 0;
		  document.documentElement.scrollTop = 0;
		};	
    </script>
</body>
</html>