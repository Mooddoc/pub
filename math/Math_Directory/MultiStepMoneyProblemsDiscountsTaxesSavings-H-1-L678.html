<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ez42.live/global/analytics.js"></script>
    <script src="https://ez42.live/global/ads.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
 	<link rel="stylesheet" href="http://www.ez42.live/global/styles/styles-heb.css"> <!-- Link to external CSS file -->
    <link rel="icon" type="image/svg+xml" href="http://www.ez42.live/global/styles/ez42-icon.svg">
	<title>✅ EZ42 - זה קל</title>
</head> 
<body>
    <div class="page-container">
        <div class="content-wrapper">
		
		<!--  Side Panel 1  -->
            <div id="sidePanel1" class="side-panel">
			<div class="logo-container">
				<a href="http://ez42.live" target="_blank" rel="noopener noreferrer">
					<img src="http://ez42.live/global/logo/logo.svg" alt="EZ42 Logo" class="logo-image">
				</a>
			</div>
                <h2>הוראות</h2>
			<ul>
																		<!--  PH1 - Instructions & Rules   -->	
                    <li>יש לקרוא כל שאלה/משפט בתשומת לב.</li>
                    <li>בחר/י את התשובה הנכונה ביותר מתוך התפריט הנפתח.</li>
                    <li>יש ללחוץ על בדיקת תשובות כשמוכנים!</li>
                    <li>יש להשלים את כל השאלות כדי לעבור לשלב הבא.</li>
                    <li>לאחר 10 ניסיונות, התשובות הנכונות יוצגו.</li>
                    <li>שיהיה כיף!</li>
                </ul>
            </div>
			
		<!--  Quiz Panel   -->
            <div id="quizContainer" class="quiz-container">
																			<!--  PH2 - Title  X  2 : A1 - 📗 Green, A2 - 📘 Blue, B1 - 📒 Yellow, 📙 Orange, 📔 Beige, 📓 Gray , 📕 Red-->		
                <h1>בעיות כסף מרובות שלבים (הנחות, מיסים, או חיסכון) 💸</h1>
				
                <div id="switchContainer" class="switch-container">
                    <div id="multiStateSwitch" class="switch">
                        <div class="switch-labels"></div>
                        <div class="switch-handle"></div>
                    </div>
                </div>

                <div id="tabContent">
                    <!--PLACHOLDERFORNEWGAME-START-->

                    <!--PLACHOLDERFORNEWGAME-END-->
                </div>
            </div>
			
		<!--  Side Panel 2  -->
            <div id="sidePanel2" class="side-panel">
                <h2>חוות החיות</h2>
				<p>החווה שלך גדלה תוך כדי התקדמות! כל שלב מוסיף חיות חדשות לאוסף שלך.</p>
                <ul id="animalFarm" class="emoji-list">
                </ul>
            </div>
        </div>
    </div>
    <div id="copyright-container"></div>

    <!-- Modal -->
    <div id="quizModal" class="modal-quiz">
        <div class="modal-quiz-content">
            <span class="modal-quiz-close">&times;</span>
            <p id="modalMessage"></p>
            <button id="modalButton" class="modal-quiz-button">אישור</button>
        </div>
    </div>
	<button id="scrollToTopBtn" title="Go to top">↑</button>
    <script>
        let isQuizExpanded = false;
        let allowQuizExpansion = true;

        let attempts = 0;
        let currentStage = 0;

        const manuallySetDefaultTab = 0;

															//  PH3 - Quiz Data 
        const quizData = [ 												 	
{
  "stages": [
// שלב 1 - הנחות בסיסיות
{
  "text": "עומר רוצה לקנות משחק וידאו חדש שעולה 50 ₪. החנות מקיימת מבצע של 10% הנחה.",
  "questions": [
    // שאלה 1.1
    {
      "question": "כמה היא ההנחה של 10%?",
      "options": ["5 ₪", "10 ₪", "15 ₪", "4 ₪", "משחקי וידאו צריכים להיות בחינם!"],
      "answer": "5 ₪"
    },
    // שאלה 1.2
    {
      "question": "מה המחיר הסופי של המשחק לאחר ההנחה?",
      "options": ["45 ₪", "40 ₪", "55 ₪", "35 ₪", "פשוט שחק בחוץ!"],
      "answer": "45 ₪"
    },
    // שאלה 1.3
    {
      "question": "אם לעומר יש 60 ₪, כמה כסף יישאר לו לאחר רכישת המשחק?",
      "options": ["15 ₪", "10 ₪", "20 ₪", "25 ₪", "תשמור את כל הכסף!"],
      "answer": "15 ₪"
    },
    // שאלה 1.4
    {
      "question": "אם עומר קונה שני משחקים באותו מחיר, כמה הוא יחסוך בסך הכל?",
      "options": ["10 ₪", "5 ₪", "15 ₪", "20 ₪", "מתמטיקה זה לא כיף!"],
      "answer": "10 ₪"
    },
    // שאלה 1.5
    {
      "question": "איזה אחוז מ-60 ₪ של עומר הוא יוציא על משחק אחד?",
      "options": ["75%", "65%", "85%", "70%", "מי צריך אחוזים?"],
      "answer": "75%"
    }
  ]
},
// שלב 2 - חישובי מס בסיסיים
{
  "text": "גלי קונה ציוד לבית הספר. היא בוחרת מחברת ב-5 ₪, עפרונות ב-3 ₪ ומחק ב-2 ₪. המס הוא 5%.",
  "questions": [
    // שאלה 2.1
    {
      "question": "מה העלות הכוללת לפני מס?",
      "options": ["10 ₪", "8 ₪", "12 ₪", "15 ₪", "בית הספר צריך להיות בחינם!"],
      "answer": "10 ₪"
    },
    // שאלה 2.2
    {
      "question": "כמה הוא המס של 5%?",
      "options": ["0.50 ₪", "1.00 ₪", "0.75 ₪", "0.25 ₪", "תדלג על המס!"],
      "answer": "0.50 ₪"
    },
    // שאלה 2.3
    {
      "question": "מה העלות הסופית כולל מס?",
      "options": ["10.50 ₪", "11.00 ₪", "9.50 ₪", "12.00 ₪", "השתמש בציוד ישן!"],
      "answer": "10.50 ₪"
    },
    // שאלה 2.4
    {
      "question": "אם גלי משלמת עם שטר של 20 ₪, כמה עודף היא תקבל?",
      "options": ["9.50 ₪", "10.00 ₪", "8.50 ₪", "11.00 ₪", "תשאיר את העודף!"],
      "answer": "9.50 ₪"
    },
    // שאלה 2.5
    {
      "question": "איזה פריט מהווה את האחוז הגדול ביותר מהרכישה שלה?",
      "options": ["מחברת", "עפרונות", "מחק", "הם שווים", "מי צריך מתמטיקה?"],
      "answer": "מחברת"
    }
  ]
},
// שלב 3 - שילוב פשוט של הנחה ומס
{
  "text": "לאה מוצאת חולצה ב-20 ₪. החנות מציעה הנחה של 20%, ואז גובה מס של 5% על המחיר המוזל.",
  "questions": [
    // שאלה 3.1
    {
      "question": "כמה היא ההנחה של 20%?",
      "options": ["4 ₪", "5 ₪", "3 ₪", "6 ₪", "קח את זה בחינם!"],
      "answer": "4 ₪"
    },
    // שאלה 3.2
    {
      "question": "מה המחיר לאחר ההנחה?",
      "options": ["16 ₪", "15 ₪", "17 ₪", "14 ₪", "פשוט תלבש בגדים ישנים!"],
      "answer": "16 ₪"
    },
    // שאלה 3.3
    {
      "question": "כמה הוא המס של 5% על המחיר המוזל?",
      "options": ["0.80 ₪", "1.00 ₪", "0.75 ₪", "0.90 ₪", "מסים משעממים!"],
      "answer": "0.80 ₪"
    },
    // שאלה 3.4
    {
      "question": "מה המחיר הסופי כולל הנחה ומס?",
      "options": ["16.80 ₪", "17.00 ₪", "16.50 ₪", "17.50 ₪", "המתמטיקה מסחררת אותי!"],
      "answer": "16.80 ₪"
    },
    // שאלה 3.5
    {
      "question": "כמה לאה חסכה בסך הכל בהשוואה למחיר המקורי עם מס?",
      "options": ["4.20 ₪", "4.00 ₪", "3.80 ₪", "4.50 ₪", "חיסכון זה קשה!"],
      "answer": "4.20 ₪"
    }
  ]
},
// שלב 4
{
  "text": "דני קונה חטיפים למסיבת כיתה. חטיפי צ'יפס עולים 3 ₪ לשקית, והוא צריך 8 שקיות. החנות מציעה מבצע 'קנה 3 קבל 1 חינם'.",
  "questions": [
    // שאלה 4.1
    {
      "question": "כמה שקיות חינם דני יקבל?",
      "options": ["2", "1", "3", "4", "כל החטיפים צריכים להיות בחינם!"],
      "answer": "2"
    },
    // שאלה 4.2
    {
      "question": "על כמה שקיות דני ישלם בפועל?",
      "options": ["6", "5", "7", "8", "פשוט תביא גזרים!"],
      "answer": "6"
    },
    // שאלה 4.3
    {
      "question": "מה העלות הכוללת של כל החטיפים?",
      "options": ["18 ₪", "24 ₪", "15 ₪", "21 ₪", "יותר מדי מתמטיקה!"],
      "answer": "18 ₪"
    },
    // שאלה 4.4
    {
      "question": "כמה כסף דני חסך עם המבצע?",
      "options": ["6 ₪", "3 ₪", "9 ₪", "12 ₪", "החיסכון מבלבל!"],
      "answer": "6 ₪"
    },
    // שאלה 4.5
    {
      "question": "מה המחיר בפועל לשקית לאחר ההנחה?",
      "options": ["2.25 ₪", "2.50 ₪", "2.00 ₪", "3.00 ₪", "מי סופר?"],
      "answer": "2.25 ₪"
    }
  ]
},
// שלב 5
{
  "text": "ליבי חסכה 40 ₪ מדמי הכיס שלה. היא רוצה לקנות משחק קופסה שעולה 35 ₪. החנות מקיימת מבצע של 15% הנחה, ויש מס של 6%.",
  "questions": [
    // שאלה 5.1
    {
      "question": "כמה היא ההנחה של 15%?",
      "options": ["5.25 ₪", "4.75 ₪", "5.50 ₪", "6.00 ₪", "המתמטיקה מסובכת!"],
      "answer": "5.25 ₪"
    },
    // שאלה 5.2
    {
      "question": "מה המחיר לאחר ההנחה?",
      "options": ["29.75 ₪", "30.25 ₪", "28.50 ₪", "31.00 ₪", "יותר מדי מספרים!"],
      "answer": "29.75 ₪"
    },
    // שאלה 5.3
    {
      "question": "כמה הוא המס של 6% על המחיר המוזל?",
      "options": ["1.79 ₪", "1.50 ₪", "2.00 ₪", "1.25 ₪", "תדלג על המס!"],
      "answer": "1.79 ₪"
    },
    // שאלה 5.4
    {
      "question": "מה המחיר הסופי כולל מס?",
      "options": ["31.54 ₪", "30.54 ₪", "32.54 ₪", "29.54 ₪", "המוח שלי כואב!"],
      "answer": "31.54 ₪"
    },
    // שאלה 5.5
    {
      "question": "כמה כסף יישאר לליבי מ-40 ₪ שלה?",
      "options": ["8.46 ₪", "7.46 ₪", "9.46 ₪", "6.46 ₪", "תשמור את כל הכסף!"],
      "answer": "8.46 ₪"
    }
  ]
},
// שלב 6 - תרחיש חנות הספרים של בית הספר
{
  "text": "החנות של בית הספר מוכרת מחברות ב-4 ₪ ליחידה או 3 ב-10 ₪. עידן צריך 5 מחברות ויש לו כרטיס הנחה לתלמיד של 10%.",
  "questions": [
    // שאלה 6.1
    {
      "question": "מה זול יותר עבור 3 מחברות: לקנות בנפרד או בחבילה?",
      "options": ["לקנות בנפרד", "לקנות בחבילה", "אותו מחיר", "צריך מחשבון!", "מי צריך מחברות?"],
      "answer": "לקנות בחבילה"
    },
    // שאלה 6.2
    {
      "question": "כמה יעלו 5 מחברות לפני החלת ההנחת התלמיד?",
      "options": ["18 ₪", "16 ₪", "20 ₪", "14 ₪", "מסובך מדי!"],
      "answer": "18 ₪"
    },
    // שאלה 6.3
    {
      "question": "כמה יחסוך עידן באמצעות החבילה בהשוואה לקנייה של כל המחברות בנפרד?",
      "options": ["2 ₪", "4 ₪", "6 ₪", "5 ₪", "מתמטיקה גורמת לעומס!"],
      "answer": "2 ₪"
    },
    // שאלה 6.4
    {
      "question": "מה המחיר הסופי לאחר החלת הנחת התלמיד של 10%?",
      "options": ["16.20 ₪", "15.00 ₪", "14.40 ₪", "17.80 ₪", "תדלג על בית הספר!"],
      "answer": "16.20 ₪"
    },
    // שאלה 6.5
    {
      "question": "מה המחיר הסופי למחזורה לאחר כל ההנחות?",
      "options": ["3.24 ₪", "3.00 ₪", "3.50 ₪", "2.90 ₪", "פשוט השתמש בנייר!"],
      "answer": "3.24 ₪"
    }
  ]
},
// שלב 7
{
  "text": "בן חוסך לאופניים חדשים שעולים 200 ₪. הוא חוסך 15 ₪ בשבוע מדמי הכיס שלו. חנות האופניים מכריזה על מבצע של 20% הנחה שיימשך 4 שבועות.",
  "questions": [
    // שאלה 7.1
    {
      "question": "כמה יעלו האופניים במהלך המבצע?",
      "options": ["160 ₪", "150 ₪", "170 ₪", "180 ₪", "פשוט תלך ברגל!"],
      "answer": "160 ₪"
    },
    // שאלה 7.2
    {
      "question": "כמה שבועות ייקח לחסוך למחיר המבצע?",
      "options": ["11 שבועות", "10 שבועות", "12 שבועות", "13 שבועות", "זמן רב מדי לחכות!"],
      "answer": "11 שבועות"
    },
    // שאלה 7.3
    {
      "question": "כמה בן יחסוך אם יקנה במהלך המבצע?",
      "options": ["40 ₪", "35 ₪", "45 ₪", "50 ₪", "חיסכון משעמם!"],
      "answer": "40 ₪"
    },
    // שאלה 7.4
    {
      "question": "אם בן כבר חוסך במשך 8 שבועות, כמה עוד הוא צריך?",
      "options": ["40 ₪", "45 ₪", "35 ₪", "50 ₪", "תמשיך לחסוך לנצח!"],
      "answer": "40 ₪"
    },
    // שאלה 7.5
    {
      "question": "כמה שבועות נוספים הוא צריך לחסוך?",
      "options": ["3", "2", "4", "5", "תקנה קורקינט במקום!"],
      "answer": "3"
    }
  ]
},
// שלב 8
{
  "text": "חנות ממתקים מציעה מבצע 'ערבב והתאם': כל 5 ממתקים ב-2 ₪. כל ממתק עולה בדרך כלל 50 אגורות. ליבי רוצה לקנות ממתקים ל-15 חברי כיתתה ולמורה שלה.",
  "questions": [
    // שאלה 8.1
    {
      "question": "כמה ממתקים ליבי צריכה בסך הכל?",
      "options": ["16", "15", "17", "14", "תדלג על הממתקים!"],
      "answer": "16"
    },
    // שאלה 8.2
    {
      "question": "כמה סטים של 5 ממתקים היא יכולה לקנות?",
      "options": ["3", "2", "4", "5", "יותר מדי ספירה!"],
      "answer": "3"
    },
    // שאלה 8.3
    {
      "question": "כמה ממתקים נוספים היא צריכה לקנות בנפרד?",
      "options": ["1", "2", "3", "0", "המתמטיקה עושה אותי רעבה!"],
      "answer": "1"
    },
    // שאלה 8.4
    {
      "question": "מה העלות הכוללת בשימוש בשילוב המבצעים הטוב ביותר?",
      "options": ["6.50 ₪", "7.00 ₪", "6.00 ₪", "7.50 ₪", "וותר על הספירה!"],
      "answer": "6.50 ₪"
    },
    // שאלה 8.5
    {
      "question": "כמה ליבי חסכה בהשוואה לקנייה של כל הממתקים בנפרד?",
      "options": ["1.50 ₪", "1.00 ₪", "2.00 ₪", "2.50 ₪", "חיסכון זה קשה!"],
      "answer": "1.50 ₪"
    }
  ]
},
// שלב 9
{
  "text": "מועדון האמנות של בית הספר מוכר צמידים בעבודת יד ב-5 ₪ כל אחד כדי לגייס כסף. הם מציעים מבצע 'קנה 4 קבל 1 חינם'. מור יש לה 30 ₪ והיא רוצה לקנות צמידים לחבריה.",
  "questions": [
    // שאלה 9.1
    {
      "question": "כמה צמידים מור יכולה לקבל אם היא משתמשת במבצע?",
      "options": ["7", "6", "5", "8", "תכין בעצמך!"],
      "answer": "7"
    },
    // שאלה 9.2
    {
      "question": "כמה מור תשלם בפועל על הצמידים?",
      "options": ["25 ₪", "30 ₪", "20 ₪", "35 ₪", "יקר מדי!"],
      "answer": "25 ₪"
    },
    // שאלה 9.3
    {
      "question": "מה המחיר בפועל לצמיד לאחר המבצע?",
      "options": ["3.57 ₪", "4.00 ₪", "3.75 ₪", "3.25 ₪", "מתמטיקה גורמת לעומס!"],
      "answer": "3.57 ₪"
    },
    // שאלה 9.4
    {
      "question": "כמה כסף יישאר למור?",
      "options": ["5 ₪", "3 ₪", "7 ₪", "4 ₪", "תשמור את העודף!"],
      "answer": "5 ₪"
    },
    // שאלה 9.5
    {
      "question": "כמה מור חסכה עם המבצע?",
      "options": ["5 ₪", "4 ₪", "6 ₪", "3 ₪", "מי סופר?"],
      "answer": "5 ₪"
    }
  ]
},
// שלב 10
{
  "text": "הקבוצה של עידו מזמינה פיצה למסיבת סוף העונה. כל פיצה עולה 12 ₪ ומספיקה ל-3 אנשים. יש 15 אנשים בסך הכל, והם רוצים שלכל אחד יהיו לפחות 2 פרוסות. הפיצריה מציעה 10% הנחה על הזמנות מעל 50 ₪.",
  "questions": [
    // שאלה 10.1
    {
      "question": "כמה פיצות הם צריכים להזמין?",
      "options": ["5", "4", "6", "3", "תביאו כריכים!"],
      "answer": "5"
    },
    // שאלה 10.2
    {
      "question": "מה העלות הכוללת לפני הנחה?",
      "options": ["60 ₪", "48 ₪", "72 ₪", "36 ₪", "יותר מדי מספרים!"],
      "answer": "60 ₪"
    },
    // שאלה 10.3
    {
      "question": "כמה היא ההנחה של 10%?",
      "options": ["6 ₪", "5 ₪", "7 ₪", "4 ₪", "תדלג על המתמטיקה!"],
      "answer": "6 ₪"
    },
    // שאלה 10.4
    {
      "question": "מה המחיר הסופי לאחר ההנחה?",
      "options": ["54 ₪", "56 ₪", "52 ₪", "58 ₪", "תזמינו פחות!"],
      "answer": "54 ₪"
    },
    // שאלה 10.5
    {
      "question": "אם הם מחלקים את העלות שווה בשווה, כמה כל אדם צריך לשלם?",
      "options": ["3.60 ₪", "4.00 ₪", "3.20 ₪", "3.80 ₪", "מסובך מדי!"],
      "answer": "3.60 ₪"
    }
  ]
},
// שלב 11
{
  "text": "ביריד הספרים של בית הספר מציעים 'חבילת קריאה': כל 3 ספרים ב-25 ₪. ספרים בודדים עולים 10 ₪ כל אחד. יש גם סימניות ב-2 ₪ כל אחת או 3 ב-5 ₪. ליה יש 40 ₪ לבזבז.",
  "questions": [
    // שאלה 11.1
    {
      "question": "כמה ליה תחסוך בקניית 3 ספרים בחבילה לעומת קנייה בנפרד?",
      "options": ["5 ₪", "3 ₪", "7 ₪", "4 ₪", "קריאה היא ללא מחיר!"],
      "answer": "5 ₪"
    },
    // שאלה 11.2
    {
      "question": "אם ליה קונה את חבילת הספרים, כמה כסף יישאר לה לסימניות?",
      "options": ["15 ₪", "10 ₪", "20 ₪", "12 ₪", "תשמור את כל הכסף!"],
      "answer": "15 ₪"
    },
    // שאלה 11.3
    {
      "question": "כמה סימניות היא יכולה לקנות עם הכסף שנותר בשימוש במבצע הטוב ביותר?",
      "options": ["9", "7", "8", "6", "פשוט השתמש בנייר!"],
      "answer": "9"
    },
    // שאלה 11.4
    {
      "question": "מה הסכום הכולל שליה תחסוך בשימוש בשני המבצעים?",
      "options": ["7 ₪", "5 ₪", "8 ₪", "6 ₪", "המתמטיקה מתישה!"],
      "answer": "7 ₪"
    },
    // שאלה 11.5
    {
      "question": "מה העלות הממוצעת לפריט (ספרים וסימניות) עם כל המבצעים?",
      "options": ["3.33 ₪", "4.00 ₪", "3.50 ₪", "3.75 ₪", "יותר מדי חלוקה!"],
      "answer": "3.33 ₪"
    }
  ]
},
// שלב 12
{
  "text": "הכיתה של דוד מתכננת טיול. הכניסה למוזיאון היא 8 ₪ לתלמיד, והארוחה היא 7 ₪ לתלמיד. לקבוצות של 20 או יותר, המוזיאון מציע 25% הנחה. ישנם 24 תלמידים שהולכים.",
  "questions": [
    // שאלה 12.1
    {
      "question": "מה תהיה העלות הכוללת של המוזיאון ללא הנחה?",
      "options": ["192 ₪", "180 ₪", "200 ₪", "185 ₪", "תישארו בבית הספר!"],
      "answer": "192 ₪"
    },
    // שאלה 12.2
    {
      "question": "כמה היא הנחת המוזיאון של 25% לכל הקבוצה?",
      "options": ["48 ₪", "45 ₪", "50 ₪", "52 ₪", "המתמטיקה קשה!"],
      "answer": "48 ₪"
    },
    // שאלה 12.3
    {
      "question": "מה העלות הכוללת של המוזיאון לאחר הנחת הקבוצה?",
      "options": ["144 ₪", "150 ₪", "140 ₪", "148 ₪", "יותר מדי מספרים!"],
      "answer": "144 ₪"
    },
    // שאלה 12.4
    {
      "question": "מה העלות הכוללת של הארוחות לכל התלמידים?",
      "options": ["168 ₪", "160 ₪", "175 ₪", "170 ₪", "תביאו אוכל מהבית!"],
      "answer": "168 ₪"
    },
    // שאלה 12.5
    {
      "question": "מה העלות הכוללת לתלמיד לכל הטיול?",
      "options": ["13 ₪", "15 ₪", "12 ₪", "14 ₪", "תדלג על הטיול!"],
      "answer": "13 ₪"
    }
  ]
},
// שלב 13
{
  "text": "החנות של בית הספר מקיימת מכירת 'חזרה לבית הספר'. מחברות ב-3 ₪ כל אחת (במקום 4 ₪), תיקיות ב-2 ₪ כל אחת (במקום 3 ₪), וחבילות עפרונות ב-4 ₪ כל אחת (במקום 5 ₪). התלמידים מקבלים הנחה נוספת של 10% על הרכישה הכוללת שלהם.",
  "questions": [
    // שאלה 13.1
    {
      "question": "אם תקנה 2 מכל פריט, כמה זה יעלה לפני הנחת התלמיד?",
      "options": ["18 ₪", "20 ₪", "16 ₪", "22 ₪", "השתמש בציוד ישן!"],
      "answer": "18 ₪"
    },
    // שאלה 13.2
    {
      "question": "כמה כסף תחסוך מהמחירים הרגילים על 2 מכל פריט?",
      "options": ["6 ₪", "4 ₪", "8 ₪", "5 ₪", "החיסכון מבלבל!"],
      "answer": "6 ₪"
    },
    // שאלה 13.3
    {
      "question": "כמה היא הנחת התלמיד של 10% על מחיר המכירה של 2 מכל פריט?",
      "options": ["1.80 ₪", "2.00 ₪", "1.60 ₪", "2.20 ₪", "תדלג על ההנחה!"],
      "answer": "1.80 ₪"
    },
    // שאלה 13.4
    {
      "question": "מה המחיר הסופי לאחר כל ההנחות?",
      "options": ["16.20 ₪", "17.00 ₪", "15.80 ₪", "16.50 ₪", "יותר מדי מתמטיקה!"],
      "answer": "16.20 ₪"
    },
    // שאלה 13.5
    {
      "question": "מה האחוז הכולל שנחסך מהמחירים המקוריים?",
      "options": ["32.5%", "30%", "35%", "28%", "אחוזים כואבים!"],
      "answer": "32.5%"
    }
  ]
},
// שלב 14
{
  "text": "כרטיס לסרט עולה 12 ₪ לתלמידים. הקולנוע מציע מבצע מיוחד בימי חמישי שבו הכרטיסים ב-30% הנחה. פופקורן עולה 6 ₪ ושתייה 4 ₪, או שתוכל לקבל את שניהם כקומבו ב-8 ₪.",
  "questions": [
    // שאלה 14.1
    {
      "question": "כמה עולה כרטיס לתלמיד ביום חמישי?",
      "options": ["8.40 ₪", "9.00 ₪", "7.80 ₪", "8.80 ₪", "תצפה בבית!"],
      "answer": "8.40 ₪"
    },
    // שאלה 14.2
    {
      "question": "כמה תחסוך בקבלת הקומבו של הפופקורן והשתייה?",
      "options": ["2 ₪", "1 ₪", "3 ₪", "4 ₪", "תדלג על החטיפים!"],
      "answer": "2 ₪"
    },
    // שאלה 14.3
    {
      "question": "מה העלות הכוללת לסרט ביום חמישי עם הקומבו?",
      "options": ["16.40 ₪", "15.40 ₪", "17.40 ₪", "18.40 ₪", "יקר מדי!"],
      "answer": "16.40 ₪"
    },
    // שאלה 14.4
    {
      "question": "אם שלושה חברים הולכים יחד ביום חמישי, כמה הם חוסכים על הכרטיסים?",
      "options": ["10.80 ₪", "9.60 ₪", "12.00 ₪", "11.40 ₪", "המתמטיקה גורמת לעומס!"],
      "answer": "10.80 ₪"
    },
    // שאלה 14.5
    {
      "question": "אם כל חבר מקבל קומבו, מה החיסכון הכולל של הקבוצה?",
      "options": ["16.80 ₪", "15.60 ₪", "18.00 ₪", "17.40 ₪", "תישארו בבית!"],
      "answer": "16.80 ₪"
    }
  ]
},
// שלב 15
{
  "text": "צחי מוכר חטיפי שוקולד למימון קבוצת הכדורגל שלו. כל חטיף עולה 4 ₪. אם מישהו קונה 5 חטיפים, הוא מקבל אחד חינם. המטרה שלו היא לגייס 200 ₪.",
  "questions": [
    // שאלה 15.1
    {
      "question": "כמה עולים 5 חטיפי שוקולד עם אחד חינם?",
      "options": ["20 ₪", "24 ₪", "16 ₪", "22 ₪", "יותר מדי שוקולד!"],
      "answer": "20 ₪"
    },
    // שאלה 15.2
    {
      "question": "מה המחיר בפועל לחטיף כאשר קונים 6 (עם אחד חינם)?",
      "options": ["3.33 ₪", "3.50 ₪", "3.25 ₪", "3.75 ₪", "המתמטיקה עושה אותי רעב!"],
      "answer": "3.33 ₪"
    },
    // שאלה 15.3
    {
      "question": "כמה חטיפים צחי צריך למכור כדי להגיע ל-200 ₪?",
      "options": ["50", "45", "55", "40", "זה הרבה!"],
      "answer": "50"
    },
    // שאלה 15.4
    {
      "question": "אם כל המכירות משתמשות במבצע 'קנה 5 קבל 1 חינם', כמה חטיפים צחי יחלק בפועל?",
      "options": ["60", "50", "55", "45", "יותר מדי ספירה!"],
      "answer": "60"
    },
    // שאלה 15.5
    {
      "question": "אם צחי מוכר ל-10 לקוחות שכל אחד משתמש במבצע, כמה כסף הוא יגייס?",
      "options": ["200 ₪", "180 ₪", "220 ₪", "240 ₪", "צריך מחשבון!"],
      "answer": "200 ₪"
    }
  ]
},
// שלב 16
{
  "text": "הקפיטריה של בית הספר מציעה ארוחת צהריים: מנה עיקרית (5 ₪), תוספת (3 ₪) ושתייה (2 ₪). בקניית הארוחה המלאה חוסכים 15%. התלמידים יכולים גם להשתמש בכרטיס הנקודות שלהם להנחה נוספת של 5%.",
  "questions": [
    // שאלה 16.1
    {
      "question": "מה המחיר הרגיל ללא שום מבצעים?",
      "options": ["10 ₪", "9 ₪", "11 ₪", "8 ₪", "תביאו אוכל מהבית!"],
      "answer": "10 ₪"
    },
    // שאלה 16.2
    {
      "question": "כמה חוסכת עסקת הארוחה של 15%?",
      "options": ["1.50 ₪", "1.00 ₪", "2.00 ₪", "1.25 ₪", "המתמטיקה עושה אותי רעב!"],
      "answer": "1.50 ₪"
    },
    // שאלה 16.3
    {
      "question": "מה המחיר לאחר הנחת הארוחה?",
      "options": ["8.50 ₪", "9.00 ₪", "8.00 ₪", "9.50 ₪", "יותר מדי מספרים!"],
      "answer": "8.50 ₪"
    },
    // שאלה 16.4
    {
      "question": "כמה נוסף נחסך עם כרטיס הנקודות של 5%?",
      "options": ["0.43 ₪", "0.50 ₪", "0.40 ₪", "0.45 ₪", "תדלג על המתמטיקה!"],
      "answer": "0.43 ₪"
    },
    // שאלה 16.5
    {
      "question": "מה המחיר הסופי בשימוש בשתי ההנחות?",
      "options": ["8.07 ₪", "8.25 ₪", "7.95 ₪", "8.15 ₪", "פשוט תאכלו חטיפים!"],
      "answer": "8.07 ₪"
    }
  ]
},
// שלב 17
{
  "text": "ירדן קונה ציוד למועדון האמנות שלה. טושים צבעוניים עולים 8 ₪ לחבילה עם מבצע 'קנה 2 קבל 1 בחצי מחיר'. היא צריכה 7 חבילות ויש לה כרטיס הנחה של 10%.",
  "questions": [
    // שאלה 17.1
    {
      "question": "כמה חבילות יקבלו את ההנחה של חצי מחיר?",
      "options": ["2", "3", "1", "4", "השתמשו בצבעים במקום!"],
      "answer": "2"
    },
    // שאלה 17.2
    {
      "question": "כמה עולות החבילות במחיר מלא?",
      "options": ["40 ₪", "32 ₪", "48 ₪", "36 ₪", "יקר מדי!"],
      "answer": "40 ₪"
    },
    // שאלה 17.3
    {
      "question": "כמה עולות החבילות בחצי מחיר?",
      "options": ["8 ₪", "12 ₪", "4 ₪", "16 ₪", "פשוט תצייר בעיפרון!"],
      "answer": "8 ₪"
    },
    // שאלה 17.4
    {
      "question": "מה הסכום הכולל לפני הנחת המועדון?",
      "options": ["48 ₪", "52 ₪", "44 ₪", "56 ₪", "צריך מחשבון!"],
      "answer": "48 ₪"
    },
    // שאלה 17.5
    {
      "question": "מה העלות הסופית לאחר הנחת המועדון של 10%?",
      "options": ["43.20 ₪", "45.60 ₪", "41.80 ₪", "44.40 ₪", "המתמטיקה גורמת לעומס!"],
      "answer": "43.20 ₪"
    }
  ]
},
// שלב 18
{
  "text": "הבאולינג מציע מבצע סוף שבוע: 4 ₪ למשחק (בדרך כלל 6 ₪) או 15 ₪ למשחקים ללא הגבלה. השכרת נעליים עולה 3 ₪. דרור ושני חבריו רוצים ללכת לשחק באולינג.",
  "questions": [
    // שאלה 18.1
    {
      "question": "כמה יעלה לקבוצה 3 משחקים כל אחד במחיר הרגיל?",
      "options": ["54 ₪", "48 ₪", "60 ₪", "52 ₪", "תישארו בבית במקום!"],
      "answer": "54 ₪"
    },
    // שאלה 18.2
    {
      "question": "כמה יעלה 3 משחקים כל אחד עם מבצע סוף השבוע?",
      "options": ["36 ₪", "30 ₪", "42 ₪", "38 ₪", "יותר מדי ספירה!"],
      "answer": "36 ₪"
    },
    // שאלה 18.3
    {
      "question": "מה העלות הכוללת של השכרת נעליים לקבוצה?",
      "options": ["9 ₪", "6 ₪", "12 ₪", "15 ₪", "תשחקו בגרביים!"],
      "answer": "9 ₪"
    },
    // שאלה 18.4
    {
      "question": "אם הם מתכננים לשחק 4 משחקים כל אחד, מה זול יותר: לפי משחק או ללא הגבלה?",
      "options": ["ללא הגבלה", "לפי משחק", "אותו מחיר", "צריך עוד מידע", "המתמטיקה קשה!"],
      "answer": "ללא הגבלה"
    },
    // שאלה 18.5
    {
      "question": "מה המחיר הכולל הטוב ביותר לקבוצה לשחק 4 משחקים כל אחד כולל נעליים?",
      "options": ["54 ₪", "60 ₪", "48 ₪", "58 ₪", "יקר מדי!"],
      "answer": "54 ₪"
    }
  ]
},
// שלב 19
{
  "text": "חנות קומיקס מקיימת מכירה: כל הקומיקסים ב-3 ₪ כל אחד (בדרך כלל 4 ₪), או 'קנה 5 קבל 2 חינם'. יש להם גם כרטיס ניקוב שבו כל 20 ₪ שמוציאים מקבלים 5 ₪ הנחה על הרכישה הבאה.",
  "questions": [
    // שאלה 19.1
    {
      "question": "כמה כסף נחסך בקניית 7 קומיקסים בשימוש במבצע 'קנה 5 קבל 2 חינם'?",
      "options": ["6 ₪", "8 ₪", "4 ₪", "10 ₪", "תקרא באינטרנט!"],
      "answer": "6 ₪"
    },
    // שאלה 19.2
    {
      "question": "אם מישהו קונה 7 קומיקסים עם המבצע, כמה כרטיסי ניקוב הוא ימלא?",
      "options": ["0", "1", "2", "3", "תדלג על הכרטיסים!"],
      "answer": "0"
    },
    // שאלה 19.3
    {
      "question": "כמה קומיקסים צריך לקנות כדי למלא כרטיס ניקוב אחד?",
      "options": ["7", "6", "8", "5", "יותר מדי מתמטיקה!"],
      "answer": "7"
    },
    // שאלה 19.4
    {
      "question": "מה המבצע הטוב ביותר בקניית 10 קומיקסים?",
      "options": ["'קנה 5 קבל 2 חינם' פעמיים", "לקנות כל אחד ב-3 ₪", "לערבב את המבצעים", "אין הבדל", "מי קורא קומיקסים?"],
      "answer": "'קנה 5 קבל 2 חינם' פעמיים"
    },
    // שאלה 19.5
    {
      "question": "כמה יעלו 10 קומיקסים בשימוש במבצע הטוב ביותר?",
      "options": ["18 ₪", "20 ₪", "24 ₪", "22 ₪", "תחסוך את הכסף!"],
      "answer": "18 ₪"
    }
  ]
},
// שלב 20
{
  "text": "מסלול המיניגולף גובה 8 ₪ לאדם. קבוצות של 4 או יותר מקבלות 20% הנחה. בימי שלישי, כולם מקבלים 2 ₪ הנחה נוספת לאחר כל ההנחות. משפחה של 5 הולכת ביום שלישי.",
  "questions": [
    // שאלה 20.1
    {
      "question": "מה העלות הרגילה ל-5 אנשים ללא שום הנחות?",
      "options": ["40 ₪", "35 ₪", "45 ₪", "50 ₪", "תשחקו בבית!"],
      "answer": "40 ₪"
    },
    // שאלה 20.2
    {
      "question": "כמה היא הנחת הקבוצה של 20%?",
      "options": ["8 ₪", "10 ₪", "6 ₪", "12 ₪", "המתמטיקה קשה!"],
      "answer": "8 ₪"
    },
    // שאלה 20.3
    {
      "question": "מה העלות לאחר הנחת הקבוצה?",
      "options": ["32 ₪", "30 ₪", "34 ₪", "36 ₪", "יקר מדי!"],
      "answer": "32 ₪"
    },
    // שאלה 20.4
    {
      "question": "כמה היא ההנחה הכוללת של יום שלישי למשפחה?",
      "options": ["10 ₪", "8 ₪", "12 ₪", "6 ₪", "תדלג על יום שלישי!"],
      "answer": "10 ₪"
    },
    // שאלה 20.5
    {
      "question": "מה העלות הסופית למשפחה?",
      "options": ["22 ₪", "24 ₪", "20 ₪", "26 ₪", "תישארו בבית במקום!"],
      "answer": "22 ₪"
    }
  ]
},
// שלב 21
{
  "text": "משחק חדש עולה 50 ₪. החנות מציעה מבצע טרייד-אין שבו אתה מקבל 40% מערך המשחק הישן שלך לקראת המשחק החדש. יש לך שני משחקים ישנים ששווים 30 ₪ ו-20 ₪.",
  "questions": [
    // שאלה 21.1
    {
      "question": "כמה זיכוי תקבל עבור משחק ה-30 ₪?",
      "options": ["12 ₪", "15 ₪", "10 ₪", "18 ₪", "תשמור את המשחקים הישנים!"],
      "answer": "12 ₪"
    },
    // שאלה 21.2
    {
      "question": "כמה זיכוי תקבל עבור משחק ה-20 ₪?",
      "options": ["8 ₪", "10 ₪", "6 ₪", "12 ₪", "המתמטיקה כואבת!"],
      "answer": "8 ₪"
    },
    // שאלה 21.3
    {
      "question": "מה סך זיכוי הטרייד-אין?",
      "options": ["20 ₪", "18 ₪", "22 ₪", "16 ₪", "מסובך מדי!"],
      "answer": "20 ₪"
    },
    // שאלה 21.4
    {
      "question": "כמה תצטרך לשלם לאחר שימוש בשני הטרייד-אינים?",
      "options": ["30 ₪", "35 ₪", "25 ₪", "40 ₪", "תחסוך את הכסף!"],
      "answer": "30 ₪"
    },
    // שאלה 21.5
    {
      "question": "איזה אחוז ממחיר המשחק החדש חסכת?",
      "options": ["40%", "35%", "45%", "30%", "אחוזים שוב!"],
      "answer": "40%"
    }
  ]
},
// שלב 22
{
  "text": "ספר המחזור של בית הספר עולה 25 ₪. אם תזמין לפני אוקטובר, תקבל 20% הנחה. אתה יכול גם לקבל 5 ₪ הנחה על ידי עזרה במכירת פרסומות. חברי מועדון הצילום מקבלים 10% הנחה נוספת לאחר הנחות אחרות.",
  "questions": [
    // שאלה 22.1
    {
      "question": "כמה תחסוך עם הנחת ההזמנה המוקדמת?",
      "options": ["5 ₪", "4 ₪", "6 ₪", "3 ₪", "תדלג על ספר המחזור!"],
      "answer": "5 ₪"
    },
    // שאלה 22.2
    {
      "question": "מה המחיר לאחר הנחות ההזמנה המוקדמת והפרסומות?",
      "options": ["15 ₪", "18 ₪", "12 ₪", "20 ₪", "יותר מדי מספרים!"],
      "answer": "15 ₪"
    },
    // שאלה 22.3
    {
      "question": "כמה נוסף חבר מועדון הצילום יחסוך?",
      "options": ["1.50 ₪", "2.00 ₪", "1.00 ₪", "2.50 ₪", "המתמטיקה גורמת לעומס!"],
      "answer": "1.50 ₪"
    },
    // שאלה 22.4
    {
      "question": "מה המחיר הסופי לחבר מועדון הצילום המשתמש בכל ההנחות?",
      "options": ["13.50 ₪", "14.00 ₪", "13.00 ₪", "15.00 ₪", "פשוט תצלם סלפי!"],
      "answer": "13.50 ₪"
    },
    // שאלה 22.5
    {
      "question": "מה האחוז הכולל שנחסך בשימוש בכל ההנחות?",
      "options": ["46%", "40%", "50%", "44%", "אחוזים כואבים!"],
      "answer": "46%"
    }
  ]
},
// שלב 23
{
  "text": "חנות הגלידה מציעה עסקת 'בנה את הגלידה שלך'. מחיר בסיס הוא 4 ₪, כל תוספת היא 50 אגורות, וקצפת היא 75 אגורות. בקניית 3 גביעי גלידה, מקבלים קצפת חינם על כולם. גלי ושלוש חברותיה רוצות גביעי גלידה.",
  "questions": [
    // שאלה 23.1
    {
      "question": "כמה יעלה גביע גלידה אחד עם 3 תוספות וקצפת?",
      "options": ["6.25 ₪", "6.00 ₪", "6.50 ₪", "5.75 ₪", "פשוט קח וניל!"],
      "answer": "6.25 ₪"
    },
    // שאלה 23.2
    {
      "question": "כמה יעלו 4 גביעי גלידה זהים ללא שום מבצעים?",
      "options": ["25 ₪", "24 ₪", "26 ₪", "23 ₪", "תחלקו גביע אחד!"],
      "answer": "25 ₪"
    },
    // שאלה 23.3
    {
      "question": "כמה הן חוסכות על הקצפת עם המבצע?",
      "options": ["3 ₪", "2 ₪", "4 ₪", "2.50 ₪", "תדלג על הקצפת!"],
      "answer": "3 ₪"
    },
    // שאלה 23.4
    {
      "question": "מה העלות הכוללת עבור 4 גביעי גלידה עם המבצע?",
      "options": ["22 ₪", "24 ₪", "20 ₪", "26 ₪", "יקר מדי!"],
      "answer": "22 ₪"
    },
    // שאלה 23.5
    {
      "question": "אם הן מחלקות את החשבון שווה בשווה, כמה כל חברה תשלם?",
      "options": ["5.50 ₪", "6.00 ₪", "5.00 ₪", "5.75 ₪", "המוח קופא מהמתמטיקה!"],
      "answer": "5.50 ₪"
    }
  ]
},
// שלב 24
{
  "text": "הבריכה מציעה אפשרויות כניסה שונות: 8 ₪ ליום אחד, 20 ₪ לכרטיס ל-3 ימים, או 35 ₪ לכרטיס שבועי. במהלך החופשה, מור רוצה ללכת לשחות במשך 9 ימים.",
  "questions": [
    // שאלה 24.1
    {
      "question": "כמה יעלו 9 כרטיסי יום בודדים?",
      "options": ["72 ₪", "70 ₪", "75 ₪", "68 ₪", "תישארי בבית!"],
      "answer": "72 ₪"
    },
    // שאלה 24.2
    {
      "question": "כמה זה יעלה בשימוש בשלושה כרטיסי 3 ימים?",
      "options": ["60 ₪", "55 ₪", "65 ₪", "58 ₪", "יותר מדי מתמטיקה!"],
      "answer": "60 ₪"
    },
    // שאלה 24.3
    {
      "question": "מה העלות בשימוש בכרטיס שבועי אחד ועוד שני כרטיסי יום?",
      "options": ["51 ₪", "48 ₪", "54 ₪", "45 ₪", "צריך מחשבון!"],
      "answer": "51 ₪"
    },
    // שאלה 24.4
    {
      "question": "איזה שילוב של כרטיסים הוא הזול ביותר?",
      "options": ["שבועי + 2 ימים", "שלושה כרטיסי 3 ימים", "כרטיסי יום בודדים", "שני 3 ימים + 3 ימים", "תדלגי על השחייה!"],
      "answer": "שבועי + 2 ימים"
    },
    // שאלה 24.5
    {
      "question": "כמה כסף מור חוסכת בשימוש בשילוב הטוב ביותר?",
      "options": ["21 ₪", "18 ₪", "24 ₪", "15 ₪", "החיסכון קשה!"],
      "answer": "21 ₪"
    }
  ]
},
// שלב 25
{
  "text": "חנות להשכרת אופניים גובה 10 ₪ לשעה או 40 ₪ ליום מלא (8 שעות). קסדות נדרשות ועולות 5 ₪ כל אחת. בימי חול לפני הצהריים, יש 25% הנחה על הכל.",
  "questions": [
    // שאלה 25.1
    {
      "question": "להשכרה של 6 שעות, מה זול יותר: לפי שעה או תעריף יומי?",
      "options": ["לפי שעה", "תעריף יומי", "אותו מחיר", "צריך עוד מידע", "תלך במקום!"],
      "answer": "לפי שעה"
    },
    // שאלה 25.2
    {
      "question": "כמה תעלה השכרה של 6 שעות פלוס קסדה בסוף שבוע?",
      "options": ["65 ₪", "60 ₪", "70 ₪", "55 ₪", "יקר מדי!"],
      "answer": "65 ₪"
    },
    // שאלה 25.3
    {
      "question": "כמה תעלה אותה השכרה בבוקר יום חול?",
      "options": ["48.75 ₪", "50.00 ₪", "45.50 ₪", "52.25 ₪", "תישאר בבית!"],
      "answer": "48.75 ₪"
    },
    // שאלה 25.4
    {
      "question": "כמה נחסך בשימוש בהנחת הבוקר של יום חול?",
      "options": ["16.25 ₪", "15.00 ₪", "17.50 ₪", "14.75 ₪", "המתמטיקה כואבת!"],
      "answer": "16.25 ₪"
    },
    // שאלה 25.5
    {
      "question": "להשכרה של 3 שעות בבוקר יום חול עם קסדה, מה העלות הכוללת?",
      "options": ["26.25 ₪", "28.50 ₪", "24.00 ₪", "30.00 ₪", "פשוט תלך!"],
      "answer": "26.25 ₪"
    }
  ]
},
// שלב 26
{
  "text": "בארקייד יש מבצעי אסימונים מיוחדים: 20 אסימונים ב-5 ₪, 50 אסימונים ב-10 ₪, או 125 אסימונים ב-20 ₪. רוב המשחקים עולים 4 אסימונים, אבל משחקים מיוחדים עולים 6 אסימונים.",
  "questions": [
    // שאלה 26.1
    {
      "question": "כמה עולה כל אסימון בעסקה הטובה ביותר?",
      "options": ["16 אגורות", "20 אגורות", "18 אגורות", "15 אגורות", "תשחקו בחוץ!"],
      "answer": "16 אגורות"
    },
    // שאלה 26.2
    {
      "question": "כמה משחקים רגילים (4 אסימונים) אתה יכול לשחק עם 50 אסימונים?",
      "options": ["12", "10", "14", "8", "יותר מדי ספירה!"],
      "answer": "12"
    },
    // שאלה 26.3
    {
      "question": "אם אתה רוצה לשחק 8 משחקים רגילים ו-4 משחקים מיוחדים, כמה אסימונים אתה צריך?",
      "options": ["56", "50", "60", "54", "המתמטיקה גורמת לעומס!"],
      "answer": "56"
    },
    // שאלה 26.4
    {
      "question": "מה הדרך הזולה ביותר לקנות בדיוק 56 אסימונים?",
      "options": ["50 + 6 אסימונים", "20 + 20 + 20", "הכל בנפרד", "לקנות 125", "תדלג על הארקייד!"],
      "answer": "50 + 6 אסימונים"
    },
    // שאלה 26.5
    {
      "question": "כמה זה יעלה בסך הכל?",
      "options": ["11.50 ₪", "12.00 ₪", "11.00 ₪", "13.00 ₪", "תחסוך את הכסף!"],
      "answer": "11.50 ₪"
    }
  ]
},
// שלב 27
{
  "text": "המכירה הסופית של חנות בית הספר מציעה 30% הנחה על הכל. אתה יכול לקבל 10% הנחה נוספת אם תקנה 5 פריטים או יותר. חברי מועצת התלמידים מקבלים עוד 5% הנחה לאחר הנחות אחרות.",
  "questions": [
    // שאלה 27.1
    {
      "question": "כמה יעלה תיק ב-20 ₪ עם הנחת המכירה בלבד?",
      "options": ["14 ₪", "16 ₪", "12 ₪", "18 ₪", "תשמור על התיק הישן!"],
      "answer": "14 ₪"
    },
    // שאלה 27.2
    {
      "question": "אם תקנה 5 פריטים שעולים 10 ₪ כל אחד, מה המחיר לאחר שתי ההנחות הרגילות?",
      "options": ["31.50 ₪", "35.00 ₪", "28.00 ₪", "33.00 ₪", "יותר מדי מספרים!"],
      "answer": "31.50 ₪"
    },
    // שאלה 27.3
    {
      "question": "כמה נוסף חבר מועצת התלמידים יחסוך על 5 הפריטים?",
      "options": ["1.58 ₪", "2.00 ₪", "1.25 ₪", "1.75 ₪", "תדלג על המתמטיקה!"],
      "answer": "1.58 ₪"
    },
    // שאלה 27.4
    {
      "question": "מה העלות הסופית לחבר מועצת התלמידים שקונה 5 פריטים ב-10 ₪ כל אחד?",
      "options": ["29.92 ₪", "31.00 ₪", "28.75 ₪", "32.50 ₪", "פשוט השתמש בציוד ישן!"],
      "answer": "29.92 ₪"
    },
    // שאלה 27.5
    {
      "question": "מה האחוז הכולל שנחסך בשימוש בכל ההנחות?",
      "options": ["40.15%", "38%", "42%", "35%", "אחוזים שוב!"],
      "answer": "40.15%"
    }
  ]
},
// שלב 28
{
  "text": "בית הקולנוע מציע פופקורן בשלושה גדלים: קטן (4 ₪), בינוני (6 ₪) או גדול (8 ₪). מילויים חוזרים עולים 2 ₪ לקטן, 3 ₪ לבינוני, וחינם לגדול. לאה ושתי חברותיה מתכננות לקבל שני מילויים כל אחת.",
  "questions": [
    // שאלה 28.1
    {
      "question": "כמה יעלו שלושה פופקורנים קטנים ועוד 6 מילויים?",
      "options": ["24 ₪", "22 ₪", "26 ₪", "20 ₪", "תביאו חטיפים!"],
      "answer": "24 ₪"
    },
    // שאלה 28.2
    {
      "question": "כמה יעלו שלושה פופקורנים בינוניים ועוד 6 מילויים?",
      "options": ["36 ₪", "33 ₪", "39 ₪", "30 ₪", "יקר מדי!"],
      "answer": "36 ₪"
    },
    // שאלה 28.3
    {
      "question": "כמה יעלו שלושה פופקורנים גדולים עם מילויים חינם?",
      "options": ["24 ₪", "28 ₪", "20 ₪", "32 ₪", "תדלג על הפופקורן!"],
      "answer": "24 ₪"
    },
    // שאלה 28.4
    {
      "question": "איזה גודל הוא העסקה הטובה ביותר אם הן רוצות שני מילויים כל אחת?",
      "options": ["גדול", "בינוני", "קטן", "כולם אותו דבר", "המתמטיקה גורמת לעומס!"],
      "answer": "גדול"
    },
    // שאלה 28.5
    {
      "question": "כמה הן יחסכו בבחירת האפשרות הטובה ביותר?",
      "options": ["12 ₪", "10 ₪", "14 ₪", "8 ₪", "יותר מדי מתמטיקה!"],
      "answer": "12 ₪"
    }
  ]
},
// שלב 29
{
  "text": "חנות ספורט מוכרת כדורסל ב-20 ₪ כל אחד. יש הנחת קבוצה של 25% בקניית 5 או יותר. קבוצת הכדורסל של בית הספר צריכה 8 כדורים, ויש להם כרטיס מתנה של 20 ₪.",
  "questions": [
    // שאלה 29.1
    {
      "question": "מה העלות הרגילה עבור 8 כדורסלים?",
      "options": ["160 ₪", "150 ₪", "170 ₪", "140 ₪", "השתמשו בכדורים ישנים!"],
      "answer": "160 ₪"
    },
    // שאלה 29.2
    {
      "question": "כמה היא הנחת הקבוצה על 8 כדורים?",
      "options": ["40 ₪", "35 ₪", "45 ₪", "30 ₪", "תדלג על ההנחה!"],
      "answer": "40 ₪"
    },
    // שאלה 29.3
    {
      "question": "מה העלות לאחר הנחת הקבוצה?",
      "options": ["120 ₪", "110 ₪", "130 ₪", "125 ₪", "יותר מדי מספרים!"],
      "answer": "120 ₪"
    },
    // שאלה 29.4
    {
      "question": "מה העלות הסופית לאחר שימוש בכרטיס המתנה?",
      "options": ["100 ₪", "95 ₪", "105 ₪", "90 ₪", "צריך מחשבון!"],
      "answer": "100 ₪"
    },
    // שאלה 29.5
    {
      "question": "מה המחיר הסופי לכדורסל?",
      "options": ["12.50 ₪", "13.00 ₪", "12.00 ₪", "13.50 ₪", "המתמטיקה כואבת!"],
      "answer": "12.50 ₪"
    }
  ]
},
// שלב 30
{
  "text": "הקרנבל של בית הספר מוכר חוברות כרטיסים: 10 כרטיסים ב-8 ₪, 25 כרטיסים ב-15 ₪, או 60 כרטיסים ב-30 ₪. רוב המשחקים עולים 3 כרטיסים, חלקם עולים 4 כרטיסים, ומשחקים מיוחדים עולים 6 כרטיסים.",
  "questions": [
    // שאלה 30.1
    {
      "question": "איזו חוברת כרטיסים היא בעלת המחיר הטוב ביותר לכרטיס?",
      "options": ["60 כרטיסים", "25 כרטיסים", "10 כרטיסים", "כולם אותו דבר", "תדלג על הקרנבל!"],
      "answer": "60 כרטיסים"
    },
    // שאלה 30.2
    {
      "question": "כמה משחקים של 3 כרטיסים אתה יכול לשחק עם 25 כרטיסים?",
      "options": ["8", "7", "9", "6", "יותר מדי ספירה!"],
      "answer": "8"
    },
    // שאלה 30.3
    {
      "question": "אם אתה רוצה לשחק 5 משחקים רגילים (3 כרטיסים) ו-3 משחקים מיוחדים (6 כרטיסים), כמה כרטיסים אתה צריך?",
      "options": ["33", "30", "36", "27", "המתמטיקה גורמת לעומס!"],
      "answer": "33"
    },
    // שאלה 30.4
    {
      "question": "מה הדרך הזולה ביותר לקנות לפחות 33 כרטיסים?",
      "options": ["25 + 10 כרטיסים", "60 כרטיסים", "10 + 10 + 10", "שלושה 10", "פשוט לך הביתה!"],
      "answer": "25 + 10 כרטיסים"
    },
    // שאלה 30.5
    {
      "question": "כמה תעלה השילוב הזה?",
      "options": ["23 ₪", "25 ₪", "21 ₪", "27 ₪", "תחסוך את הכסף!"],
      "answer": "23 ₪"
    }
  ]
}

   ]
}


        ];

        const stageCount = quizData[0].stages.length; // This is the correct way to get the number of stages

		const stateContents = {
			'תרגול': `
				<div id="stage-number" class="stage-number">שלב 1 מתוך ${stageCount}</div>
				<div class="progress-bar-container"><div id="progress-bar" class="progress-bar"></div></div>
				<div id="attempts">ניסיונות: 0</div>
				<div id="quiz-content"></div>
				<button class="center-button" onclick="checkStage()">בדיקת תשובות</button>
			`
			,'לימוד הנושא 🗝️': `<div class="subject-overview-content subject-overview-content_heb">     <h1>בעיות כספיות רב-שלביות: הבנת הנחות, מיסים וחסכונות</h1>     <p>בעיות כספיות רב-שלביות כוללות חישובים הדורשים מספר שלבים לפתרונן, בדרך כלל משלבות מרכיבים כמו הנחות, מיסים וחסכונות. בעיות אלו חיוניות לניהול כספים אישיים, קניות חכמות וקבלת החלטות פיננסיות מושכלות. מדריך זה יחקור את המורכבויות של בעיות כספיות רב-שלביות, ויספק הסברים ברורים ודוגמאות מעשיות שיעזרו לכם לשלוט בכישורים חיוניים אלו.</p>     <hr>     <h2 class="highlight_heb">תוכן העניינים</h2>     <ol>         <li><a href="#what-are-multi-step-money-problems" class="highlight_heb">מהן בעיות כספיות רב-שלביות?</a></li>         <li><a href="#key-components" class="highlight_heb">המרכיבים המרכזיים של בעיות כספיות רב-שלביות</a></li>         <li><a href="#solving-multi-step-money-problems" class="highlight_heb">פתרון בעיות כספיות רב-שלביות</a>             <ul>                 <li><a href="#discounts" class="highlight_heb">הנחות</a></li>                 <li><a href="#taxes" class="highlight_heb">מיסים</a></li>                 <li><a href="#savings" class="highlight_heb">חסכונות</a></li>             </ul>         </li>         <li><a href="#conclusion" class="highlight_heb">סיכום</a></li>     </ol>     <hr>     <h2 id="what-are-multi-step-money-problems" class="highlight_heb">מהן בעיות כספיות רב-שלביות?</h2>     <p>בעיות כספיות רב-שלביות הן בעיות מתמטיות הדורשות מספר חישובים למציאת הפתרון. בעיות אלו כוללות לרוב שילוב של מושגים פיננסיים שונים כמו חישוב הנחות, הוספת מיסים וקביעת חסכונות. הן נפוצות בתרחישים יומיומיים כמו קניות, תכנון תקציב ותכנון פיננסי.</p>     <p>הבנת איך לגשת ולפתור בעיות כספיות רב-שלביות חיונית ל:</p>     <ul>         <li>ניהול כספים אישיים באופן יעיל.</li>         <li>קבלת החלטות רכישה מושכלות.</li>         <li>תכנון לחסכונות והשקעות עתידיות.</li>     </ul>     <hr>     <h2 id="key-components" class="highlight_heb">המרכיבים המרכזיים של בעיות כספיות רב-שלביות</h2>     <p>כדי לפתור בעיות כספיות רב-שלביות, חשוב להבין את המרכיבים המרכזיים המעורבים:</p>     <ol>         <li><strong>הנחות</strong>: הורדות המחוללות מהמחיר המקורי של מוצר או שירות.</li>         <li><strong>מיסים</strong>: עלויות נוספות המתווספות למחיר, בדרך כלל כאחוז.</li>         <li><strong>חסכונות</strong>: סכומים שמופרדים להפחתת הוצאות כלליות או להשקעה לשימוש עתידי.</li>     </ol>     <hr>     <h2 id="solving-multi-step-money-problems" class="highlight_heb">פתרון בעיות כספיות רב-שלביות</h2>     <h3 id="discounts" class="highlight_heb">הנחות</h3>     <p><strong>הבנת הנחות:</strong></p>     <ol>         <li><strong>הנחות אחוזיות</strong>: הפחתה באחוז מהמחיר המקורי.<ul>             <li><em>דוגמה:</em> מעיל שמחירו המקורי הוא 80 ש"ח במבצע של 25% הנחה.</li>         </ul></li>         <li><strong>הנחות בסכום קבוע</strong>: סכום דולרי מסוים מופחת מהמחיר המקורי.<ul>             <li><em>דוגמה:</em> חנות מציעה הנחה של 10 ש"ח על רכישות מעל 50 ש"ח.</li>         </ul></li>     </ol>     <p><strong>חישוב הנחות:</strong></p>     <ul>         <li>נוסחת הנחה אחוזית: <em>סכום ההנחה = מחיר מקורי × אחוז ההנחה</em></li>         <li>הנחה בסכום קבוע: פשוט מורידים את הסכום מהמחיר המקורי.</li>     </ul>     <p><strong>דוגמאות:</strong></p>     <ul>         <li><em>אם זוג נעליים עולה 60 ש"ח ויש הנחה של 20%, סכום ההנחה הוא 60 × 0.20 = 12 ש"ח. המחיר במבצע הוא 60 - 12 = 48 ש"ח.</em></li>         <li><em>לקוח קונה מחשב נייד ב-500 ש"ח עם הנחה של 50 ש"ח. המחיר הסופי הוא 500 - 50 = 450 ש"ח.</em></li>     </ul>     <hr>     <h3 id="taxes" class="highlight_heb">מיסים</h3>     <p><strong>הבנת מיסים:</strong></p>     <ol>         <li><strong>מע"מ</strong>: אחוז שמתווסף למחיר המכירה של סחורות ושירותים.<ul>             <li><em>דוגמה:</em> מע"מ של 7% על רכישה של 100 ש"ח מוסיף 7 ש"ח, והמחיר הכולל הוא 107 ש"ח.</li>         </ul></li>         <li><strong>מס הכנסה</strong>: מיסים המוטלים על הכנסות, בדרך כלל פרוגרסיביים לפי רמות ההכנסה.</li>     </ol>     <p><strong>חישוב מיסים:</strong></p>     <ul>         <li>נוסחת מע"מ: <em>מחיר כולל = מחיר מקורי + (מחיר מקורי × אחוז המס)</em></li>     </ul>     <p><strong>דוגמאות:</strong></p>     <ul>         <li><em>אם ספר עולה 15 ש"ח עם מע"מ של 8%, המס הוא 15 × 0.08 = 1.20 ש"ח. המחיר הכולל הוא 15 + 1.20 = 16.20 ש"ח.</em></li>         <li><em>שירות שעולה 200 ש"ח עם מס של 5% מוסיף 10 ש"ח, והמחיר הכולל הוא 210 ש"ח.</em></li>     </ul>     <hr>     <h3 id="savings" class="highlight_heb">חסכונות</h3>     <p><strong>הבנת חסכונות:</strong></p>     <ol>         <li><strong>חיסכון פשוט</strong>: כסף שמופרד ללא ריבית.<ul>             <li><em>דוגמה:</em> חסכון של 100 ש"ח מכל משכורת.</li>         </ul></li>         <li><strong>חיסכון עם ריבית</strong>: חסכונות שמניבים ריבית לאורך זמן.<ul>             <li><em>דוגמה:</em> חשבון חיסכון עם ריבית שנתית של 2%.</li>         </ul></li>     </ol>     <p><strong>חישוב חסכונות:</strong></p>     <ul>         <li>חיסכון פשוט: <em>סה\"כ החסכון = סכום חסכון × מספר התקופות</em></li>         <li>חיסכון עם ריבית: <em>סה\"כ החסכון = קרן × (1 + אחוז הריבית)^מספר התקופות</em></li>     </ul>     <p><strong>דוגמאות:</strong></p>     <ul>         <li><em>אם אתם חוסכים 50 ש\"ח בכל חודש למשך 6 חודשים, סך החסכונות יהיה 50 × 6 = 300 ש\"ח.</em></li>         <li><em>חיסכון של 1,000 ש\"ח בחשבון עם ריבית שנתית של 3% למשך 2 שנים: 1,000 × (1 + 0.03)^2 ≈ 1,060.90 ש\"ח.</em></li>     </ul>     <hr>     <h2 id="conclusion" class="highlight_heb">סיכום</h2>     <p>שליטה בבעיות כספיות רב-שלביות חיונית לניהול פיננסי יעיל. על ידי הבנת איך לחשב הנחות, מיסים וחסכונות, תוכלו לקבל החלטות מושכלות שממקסמות את רווחתכם הפיננסית. הנה סיכום קצר:</p>     <ul>         <li><strong>הנחות</strong>: חשבו את המחיר המופחת על ידי החלת הנחה אחוזית או בסכום קבוע.</li>         <li><strong>מיסים</strong>: הוסיפו את אחוז המס המתאים כדי לקבוע את המחיר הכולל של הרכישות.</li>         <li><strong>חסכונות</strong>: צברו כספים באמצעות תרגולים חסכוניים סדירים, תוך התחשבות בשיטות חיסכון פשוטות ובחיסכון עם ריבית.</li>     </ul>     <p><strong>זכרו</strong>: תרגול החישובים הללו ישפר את יכולתכם להתמודד עם תרחישים פיננסיים אמיתיים בביטחון ובדיוק.</p>     <hr>     <p>על ידי היכרות עם בעיות כספיות רב-שלביות ומרכיביהן, תהיו מצוידים טוב יותר לנווט החלטות פיננסיות, להבטיח חיסכון יעיל, להימנע מהוצאות מיותרות ולהבין את העלות האמיתית של הרכישות שלכם. המשיכו לתרגל כישורים אלו כדי לבנות בסיס חזק לעתיד הפיננסי שלכם!</p> </div>`
		
		};

        function setQuizExpansion(allow) {
            allowQuizExpansion = allow;
            adjustLayout();
        }

        function adjustLayout() {
            const wrapper = document.querySelector('.content-wrapper');
            const quizContainer = document.getElementById('quizContainer');
            const sidePanel1 = document.getElementById('sidePanel1');
            
            const isPanel1Visible = window.getComputedStyle(sidePanel1).display !== 'none';

            wrapper.style.justifyContent = 'space-between';

            if (isPanel1Visible) {
                sidePanel1.style.flex = '0 0 calc(20% - 0.5rem)';
                sidePanel1.style.maxWidth = 'calc(20% - 0.5rem)';
                quizContainer.style.flex = '1';
            } else {
                quizContainer.style.flex = '1';
                wrapper.style.justifyContent = 'center';
            }

            [sidePanel1, quizContainer].forEach(el => {
                el.style.display = 'block';
            });
        }

        function togglePanel(panelId) {
            const panel = document.getElementById(panelId);
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            adjustLayout();
        }

        function updateSwitcherLayout() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const handle = switchElement.querySelector('.switch-handle');

            labels.forEach(label => {
                label.style.flex = 'none';
                label.style.padding = '0 20px';
            });

            const activeLabel = switchElement.querySelector('.switch-label.active');
            if (activeLabel) {
                const switchRect = switchElement.getBoundingClientRect();
                const labelRect = activeLabel.getBoundingClientRect();

                handle.style.left = `${labelRect.left - switchRect.left}px`;
                handle.style.width = `${labelRect.width}px`;
            }

            switchElement.style.width = 'auto';
        }
        
        function switchTab(index) {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const activeStates = Array.from(labels).map(label => label.textContent);

            labels.forEach((label, i) => {
                label.classList.toggle('active', i === index);
            });

            updateSwitcherLayout();
            showContent(activeStates[index]);

            adjustLayout();
        }

        function showContent(state) {
            const tabContent = document.getElementById('tabContent');
            tabContent.innerHTML = stateContents[state] || '';

            if (state === 'תרגול') {
                renderQuiz();
                updateProgressBar();
            }
        }

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

function isTextEmpty(text) {
    return !text || text.trim() === "";
}

function renderQuiz() {
    const quizContainer = document.getElementById("quiz-content");
    quizContainer.innerHTML = '';
    
    // Only add stage text if it's not empty
    const stageText = quizData[0].stages[currentStage].text;
    if (!isTextEmpty(stageText)) {
        const stageTextElement = document.createElement("div");
        stageTextElement.className = "stage-text";
        stageTextElement.style.marginBottom = "20px";
        stageTextElement.style.padding = "15px";
        stageTextElement.style.backgroundColor = "#f5f5f5";
        stageTextElement.style.borderRadius = "5px";
        stageTextElement.textContent = stageText;
        quizContainer.appendChild(stageTextElement);
    }
    
    // Render questions
    quizData[0].stages[currentStage].questions.forEach((questionData, index) => {
        const questionElement = document.createElement("div");
        questionElement.className = "question-one-line";  
        
        // Create label for the question text
        const label = document.createElement("label");
        label.htmlFor = `q${index}`;
        label.textContent = `${index + 1}. ${questionData.question}`;
        
        // Create div for result feedback
        const resultDiv = document.createElement("div");
        resultDiv.className = "result result";
        resultDiv.id = `result${index}`;
        resultDiv.style.marginRight = "5px";  // Adjust spacing
        
        // Create select element for answers
        const select = document.createElement("select");
        select.id = `q${index}`;
        select.name = `q${index}`;
        select.style.marginLeft = "5px"; // Adjust spacing
        
        // Add default option
        const defaultOption = document.createElement("option");
        defaultOption.value = "";
        defaultOption.textContent = "בחירה"; 
        select.appendChild(defaultOption);
        
        // Shuffle and add answer options
        const shuffledOptions = shuffleArray([...questionData.options]);
        shuffledOptions.forEach((option) => {
            const optionElement = document.createElement("option");
            optionElement.value = option;
            optionElement.textContent = option;
            select.appendChild(optionElement);
        });
        
        // Append elements to questionElement in the desired order
        questionElement.appendChild(label);
        questionElement.appendChild(resultDiv); // Feedback before dropdown
        questionElement.appendChild(select);
        
        quizContainer.appendChild(questionElement);
    });

    updateStageNumber();
}


function checkStage() {
    attempts++;
    document.getElementById("attempts").textContent = `ניסיונות: ${attempts}`;

    let correctCount = 0;
    const totalQuestions = quizData[0].stages[currentStage].questions.length;

    quizData[0].stages[currentStage].questions.forEach((question, index) => {
        const resultElement = document.getElementById(`result${index}`);
        const selectElement = document.getElementById(`q${index}`);
        const selectedAnswer = selectElement.value;

        if (selectedAnswer === question.answer) {
            resultElement.textContent = "נכון!";
            resultElement.style.color = "green";
            correctCount++;
        } else {
            resultElement.textContent = "תשובה לא נכונה.";
            resultElement.style.color = "red";
        }

        if (attempts >= 10) {
            selectElement.value = question.answer;
            selectElement.disabled = true;
            resultElement.textContent += ` התשובה הנכונה היא: ${question.answer}`;
        }
    });

    if (correctCount === totalQuestions) {
        console.log(`שלב ${currentStage + 1} הושלם. מוסיף ${totalQuestions} חיות.`);
        addAnimalsToFarm(totalQuestions);

        if (currentStage < stageCount - 1) {
            singleStageConfetti();
            showEncouragingPopup(correctCount, totalQuestions, true);
            currentStage++;
            updateProgressBar();
            setTimeout(() => {
                attempts = 0;
                renderQuiz();
                document.getElementById("attempts").textContent = `ניסיונות: ${attempts}`;
            }, 1500);
        } else {
            currentStage++;
            updateProgressBar();
            allStagesConfetti();
            showModal("כל הכבוד! השלמת את כל השלבים.");
        }
    } else {
        showEncouragingPopup(correctCount, totalQuestions, false);
        if (attempts >= 10) {
            showModal("הגעת למספר הניסיונות המקסימלי. התשובות הנכונות נחשפו.");
        }
    }

    scrollToTop();
}

		
        function showEncouragingPopup(correctCount, totalQuestions, isStageComplete) {
            const incorrectCount = totalQuestions - correctCount;
            let message = `קיבלת ${correctCount} נכונות ו-${incorrectCount} שגויות.`;
            
            if (correctCount === totalQuestions) {
                message += " ציון מושלם!";
            } else if (correctCount >= Math.ceil(totalQuestions * 0.7)) {
                message += " עבודה מצוינת! רואים שהנושא מתחיל להיות מובן!";
            } else if (correctCount >= Math.ceil(totalQuestions * 0.5)) {
                message += " מאמץ טוב! נמשיך לתרגל כי השיפור קרוב!";
            } else {
                message += " לא לוותר! כל נסיון עוזר לך ללמוד. ננסה שוב!";
            }

            if (isStageComplete) {
                message += "\n\n השלב הזה הסתיים, עוברים לשלב הבא.";
            }

            showModal(message);
        }

		function initializeQuiz() {
			currentStage = 0;
			attempts = 0;
			updateProgressBar(); // This should now set the progress to 0%
			renderQuiz();
			document.getElementById("attempts").textContent = `נסיונות: ${attempts}`;
			updateStageNumber();
		}

		function updateProgressBar() {
			const progressBar = document.getElementById("progress-bar");
			const completedStages = currentStage; // Remove the +1 here
			const progress = (completedStages / stageCount) * 100;
			const roundedProgress = Math.min(100, Math.max(0, Math.round(progress)));
			progressBar.style.width = `${roundedProgress}%`;
			progressBar.textContent = roundedProgress > 0 ? `${roundedProgress}%` : '';
			console.log(`Progress updated: ${roundedProgress}% (Stage ${currentStage + 1} of ${stageCount})`);
		}

        function updateStageNumber() {
            const stageElement = document.getElementById("stage-number");
            stageElement.textContent = `שלב ${currentStage + 1} מתוך ${stageCount}`;
        }

		function singleStageConfetti() {
			function randomInRange(min, max) {
				return Math.random() * (max - min) + min;
			}
			confetti({
				angle: randomInRange(55, 125),
				spread: randomInRange(50, 70),
				particleCount: randomInRange(50, 100),
				origin: { y: 0.6 },
			});
		}

		function allStagesConfetti() {
			const defaults = {
				spread: 360,
				ticks: 50,
				gravity: 0,
				decay: 0.94,
				startVelocity: 30,
				shapes: ["star"],
				colors: ["FFE400", "FFBD00", "E89400", "FFCA6C", "FDFFB8"],
			};
			function shoot() {
				confetti({
					...defaults,
					particleCount: 40,
					scalar: 1.2,
					shapes: ["star"],
				});
				confetti({
					...defaults,
					particleCount: 10,
					scalar: 0.75,
					shapes: ["circle"],
				});
			}
			setTimeout(shoot, 0);
			setTimeout(shoot, 100);
			setTimeout(shoot, 200);
		}

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
			    scrollToTopBtn.style.display = "none";
        }

        function initializeSwitch() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labelsContainer = switchElement.querySelector('.switch-labels');
            const switchContainer = document.getElementById('switchContainer');
            
            const activeStates = Object.keys(stateContents).filter(state => stateContents[state].trim() !== '');
            
            if (activeStates.length <= 1) {
                switchContainer.style.display = 'none';
                if (activeStates.length === 1) {
                    showContent(activeStates[0]);
                }
                return;
            }
            
            switchContainer.style.display = 'flex';
            
            activeStates.forEach((state, index) => {
                const label = document.createElement('div');
                label.className = 'switch-label';
                label.textContent = state;
                label.addEventListener('click', () => switchTab(index));
                labelsContainer.appendChild(label);
            });
   
            const defaultTab = manuallySetDefaultTab !== null && manuallySetDefaultTab < activeStates.length
                ? manuallySetDefaultTab
                : 0;

            switchTab(defaultTab);
        }

		let farmAnimals = [];

		function addAnimalsToFarm(count) {
			const animalFarm = document.getElementById('animalFarm');
			let availableAnimals = animals.filter(animal => !farmAnimals.includes(animal));

			console.log(`Adding ${count} animals to the farm. Current farm size: ${farmAnimals.length}`);

			for (let i = 0; i < count; i++) {
				if (availableAnimals.length === 0) {
					console.log("No more unique animals available!");
					break;
				}

				const randomIndex = Math.floor(Math.random() * availableAnimals.length);
				const chosenAnimal = availableAnimals[randomIndex];

				const animalElement = document.createElement('li');
				animalElement.textContent = chosenAnimal;
				animalFarm.appendChild(animalElement);

				farmAnimals.push(chosenAnimal);
				availableAnimals.splice(randomIndex, 1);
				console.log(`Added animal: ${chosenAnimal}`);
			}

			console.log(`Farm size after addition: ${farmAnimals.length}`);
			logAnimalFarmState();
		}

		function logAnimalFarmState() {
			console.log(`Current animal farm state: ${farmAnimals.length} animals`);
			console.log(farmAnimals);
		}

		const animals = [
			"🐉", "🐻", "🦗", "🦁", "🐔", "🦂", "🐟", "🐣", "🐯", "🦡",
			"🐰", "🐍", "🦅", "🐈", "🦈", "🦜", "🦛", "🐀", "🐑",
			"🐮", "🦇", "🐇", "🦖", "🦀", "🦎", "🐃", "🐡", "🐤",
			"🐪", "🦥", "🐛", "🐅", "🐥", "🐱", "🐺", "🐕", "🦩", "🐊",
			"🐖", "🐢", "🕷", "🦕", "🦌", "🐁", "🦨", "🦘", "🐵",
			"🦑", "🐋", "🦓", "🦒", "🐲", "🦆", "🦉", "🐶", "🐄", "🦟",
			"🦃", "🦧", "🦏", "🐙", "🐿", "🦢", "🐜", "🐦", "🐞",
			"🦐", "🦔", "🐼", "🦄", "🦞", "🐫", "🐭", "🐆", "🦝",
			"🐠", "🦚", "🐴", "🐏", "🦮", "🐐", "🐹", "🐎", "🦋", "🐳",
			"🐨", "🐂", "🦍", "🦙", "🐬", "🦦", "🦊", "🐌", "🐓", "🐧",
			"🐷", "🐩", "🐘", "🐸", "🐝"
		];

        function showModal(message) {
            const modal = document.getElementById("quizModal");
            const modalMessage = document.getElementById("modalMessage");
            const modalButton = document.getElementById("modalButton");
            const modalClose = document.getElementsByClassName("modal-quiz-close")[0];

            modalMessage.textContent = message;
            modal.style.display = "block";

            modalButton.onclick = function() {
                modal.style.display = "none";
            }

            modalClose.onclick = function() {
                modal.style.display = "none";
            }

            window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }
        }

		window.addEventListener('load', () => {
			initializeSwitch();
			initializeQuiz();
			adjustLayout();
        });

        window.addEventListener('resize', adjustLayout);

        // Load the copyright content from the external URL and insert it into the div
        fetch('http://ez42.live/global/copyright.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('copyright-container').innerHTML = data;
            })
            .catch(error => console.error('Error loading copyright:', error));
			
		let scrollToTopBtn = document.getElementById("scrollToTopBtn");

			window.onscroll = function() {
				// Check if the scroll distance is more than twice the height of the screen
				if (document.body.scrollTop > window.innerHeight * 1.5 || 
					document.documentElement.scrollTop > window.innerHeight * 1.5) {
					scrollToTopBtn.style.display = "block";
				} else {
					scrollToTopBtn.style.display = "none";
				}
			};

		scrollToTopBtn.onclick = function() {
		  document.body.scrollTop = 0;
		  document.documentElement.scrollTop = 0;
		};	
    </script>
</body>
</html>