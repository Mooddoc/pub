<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ez42.live/global/analytics.js"></script>
    <script src="https://ez42.live/global/ads.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
 	<link rel="stylesheet" href="http://www.ez42.live/global/styles/styles-eng.css"> <!-- Link to external CSS file -->
    <link rel="icon" type="image/svg+xml" href="http://www.ez42.live/global/styles/ez42-icon.svg">
    <title>‚úÖ EZ42 LIVE - It's EZ</title>
	<style>

	</style>
</head>
<body>
    <div class="page-container">
        <div class="content-wrapper">
		
		<!--  Side Panel 1  -->
            <div id="sidePanel1" class="side-panel"  style="display:none">
				<div class="logo-container">
					<a href="http://ez42.live" target="_blank" rel="noopener noreferrer">
						<img src="http://ez42.live/global/logo/logo.svg" alt="EZ42 Logo" class="logo-image">
					</a>
				</div>
			<h2>Instructions & Rules</h2>
			<ul>
																		<!--  PH1 - Instructions & Rules   -->	
                <li>Read each sentence/question carefully.</li>
                <li>Select the best answer.</li>
                <li>Click "Check Answers" when you're ready to see how you did!</li>
                <li>You can check your answers multiple times to improve your score.</li>
                <li>Correct answers are revealed after 10 attempts.</li>
                <li>You must answer all questions correctly to proceed to the next stage.</li>
                <li>There are 20 stages, each with 5 questions.</li>
				<li>Have fun!</li>
			</ul>
            </div>
			
		<!--  Quiz Panel   -->
            <div id="quizContainer" class="quiz-container">
																			<!--  PH2 - Title  X  2 : A1 - üìó Green, A2 - üìò Blue, B1 - üìí Yellow, üìô Orange, üìî Beige, üìì Gray , üìï Red-->	
                <h1></h1>
                
                <div id="switchContainer" class="switch-container">
                    <div id="multiStateSwitch" class="switch">
                        <div class="switch-labels"></div>
                        <div class="switch-handle"></div>
                    </div>
                </div>
                <div id="tabContent"></div>
            </div>
			
		<!--  Side Panel 2  -->
			<div id="sidePanel2" class="side-panel" style="display:none">
				<h2>Animal Farm</h2>
				<p>Watch your farm grow as you progress! Each completed stage adds new animal friends to your collection.</p>
				<ul id="animalFarm" class="emoji-list">
				</ul>
			</div>
        </div>
    </div>
    <div id="copyright-container"></div>

    <!-- Modal -->
    <div id="quizModal" class="modal-quiz">
        <div class="modal-quiz-content">
            <span class="modal-quiz-close">&times;</span>
            <p id="modalMessage"></p>
            <button id="modalButton" class="modal-quiz-button">OK</button>
        </div>
    </div>
	<button id="scrollToTopBtn" title="Go to top">‚Üë</button>
<script>
        let isQuizExpanded = false;
        let allowQuizExpansion = true;

        let attempts = 0;
        let currentStage = 0;

        const manuallySetDefaultTab = 0;

        const quizData = [ 												//  PH3 - Quiz Data   	


        ];

        const stageCount = quizData.length;

        const stateContents = {


		   //'Practice': `<div id="stage-number" class="stage-number">Stage 1 of ${stageCount}</div><div class="progress-bar-container"><div id="progress-bar" class="progress-bar"></div></div><div id="attempts">Attempts: 0</div><div id="quiz-content"></div><button class="center-button" onclick="checkStage()">Check Answers</button>`
           'Subject Overview üóùÔ∏è': `<div class="subject-overview-content">   <h1>Exceptions and Special Rules for Articles: A Comprehensive Guide</h1>   <p>Articles in English, such as <strong>"a," "an,"</strong> and <strong>"the"</strong>, are often used in well-defined ways. However, there are several exceptions and special rules where article usage doesn't follow the usual patterns. This guide will explain these exceptions and help you understand how to apply them correctly.</p>   <hr>   <h2>Table of Contents</h2>   <ol>     <li><a href="#proper-nouns">Proper Nouns</a></li>     <li><a href="#general-use-uncountable-nouns">General Use of Uncountable Nouns</a></li>     <li><a href="#unique-objects">Unique Objects</a></li>     <li><a href="#nouns-in-plural-form">Nouns in Plural Form</a></li>     <li><a href="#adjectives-representing-groups">Adjectives Representing Groups</a></li>     <li><a href="#musical-instruments">Musical Instruments</a></li>     <li><a href="#no-article-abstract-nouns">No Article with Abstract Nouns</a></li>     <li><a href="#languages-sports-subjects">Languages, Sports, and Academic Subjects</a></li>     <li><a href="#superlatives">Superlatives</a></li>     <li><a href="#conclusion">Conclusion</a></li>   </ol>   <hr>     <h2 id="proper-nouns">Proper Nouns</h2>   <p>Usually, proper nouns (names of people, places, etc.) don‚Äôt take articles. However, certain proper nouns do take <strong>"the"</strong>. For example:</p>   <ul>     <li><strong>No article</strong> with <em>countries</em> or <em>cities</em>: "France," "Paris."</li>     <li><strong>Article used</strong> with <em>specific countries</em>: "The United States," "The United Kingdom."</li>     <li><strong>Article used</strong> with <em>rivers, seas, oceans</em>: "The Nile," "The Pacific."</li>   </ul>   <hr>     <h2 id="general-use-uncountable-nouns">General Use of Uncountable Nouns</h2>   <p>When uncountable nouns like <em>water</em>, <em>information</em>, or <em>happiness</em> are used in a general sense, articles are omitted:</p>   <ul>     <li><em>Information</em> is key to success. (No article)</li>     <li>However, when specific, use <strong>"the"</strong>: "The information I received was helpful."</li>   </ul>   <hr>     <h2 id="unique-objects">Unique Objects</h2>   <p><strong>"The"</strong> is used before unique objects or things universally understood to be one of a kind, such as:</p>   <ul>     <li><strong>The</strong> sun, <strong>the</strong> moon, <strong>the</strong> internet.</li>   </ul>   <hr>     <h2 id="nouns-in-plural-form">Nouns in Plural Form</h2>   <p>When plural countable nouns are used in a general sense, articles are omitted:</p>   <ul>     <li>Cats make great pets. (Not <em>the</em> cats)</li>     <li>For specific plural nouns, use <strong>"the"</strong>: "The cats in the yard are noisy."</li>   </ul>   <hr>     <h2 id="adjectives-representing-groups">Adjectives Representing Groups</h2>   <p>When adjectives represent groups of people, <strong>"the"</strong> is used:</p>   <ul>     <li><strong>The</strong> rich, <strong>the</strong> elderly, <strong>the</strong> unemployed.</li>   </ul>   <hr>     <h2 id="musical-instruments">Musical Instruments</h2>   <p>When talking about playing musical instruments, always use <strong>"the"</strong>:</p>   <ul>     <li>She plays <strong>the</strong> piano.</li>     <li>He is learning <strong>the</strong> violin.</li>   </ul>   <hr>     <h2 id="no-article-abstract-nouns">No Article with Abstract Nouns</h2>   <p>Abstract nouns like <em>happiness</em> and <em>freedom</em> generally don‚Äôt take an article when used in a general sense:</p>   <ul>     <li><em>Happiness</em> is important. (No article)</li>     <li>However, use <strong>"the"</strong> if it‚Äôs specific: "The happiness I felt was overwhelming."</li>   </ul>   <hr>     <h2 id="languages-sports-subjects">Languages, Sports, and Academic Subjects</h2>   <p>Articles are not used before languages, sports, or academic subjects:</p>   <ul>     <li>She speaks <em>Spanish</em>. (No article)</li>     <li>He plays <em>football</em>. (No article)</li>     <li>I study <em>biology</em>. (No article)</li>   </ul>   <hr>     <h2 id="superlatives">Superlatives</h2>   <p>Use <strong>"the"</strong> before superlatives to indicate the highest degree of something:</p>   <ul>     <li>She is <strong>the</strong> best student in the class.</li>     <li>This is <strong>the</strong> most exciting book I‚Äôve read.</li>   </ul>   <hr>     <h2 id="conclusion">Conclusion</h2>   <p>Mastering the special rules and exceptions for articles is essential to improving your English grammar. By understanding when articles should be omitted and how to handle unique cases, you will become more proficient in both speaking and writing English.</p>   <ul>     <li>Proper nouns often omit articles unless they refer to specific places.</li>     <li>Abstract and uncountable nouns usually don‚Äôt take articles unless they are specific.</li>     <li>Plural nouns and adjectives representing groups also follow special article rules.</li>   </ul>   <p>Keep practicing these exceptions, and you‚Äôll master article usage in no time!</p> </div>
`
	
		};

        function setQuizExpansion(allow) {
            allowQuizExpansion = allow;
            adjustLayout();
        }

        function adjustLayout() {
            const wrapper = document.querySelector('.content-wrapper');
            const quizContainer = document.getElementById('quizContainer');
            const sidePanel1 = document.getElementById('sidePanel1');
            
            const isPanel1Visible = window.getComputedStyle(sidePanel1).display !== 'none';

            wrapper.style.justifyContent = 'space-between';

            if (isPanel1Visible) {
                sidePanel1.style.flex = '0 0 calc(20% - 0.5rem)';
                sidePanel1.style.maxWidth = 'calc(20% - 0.5rem)';
                quizContainer.style.flex = '1';
            } else {
                quizContainer.style.flex = '1';
                wrapper.style.justifyContent = 'center';
            }

            [sidePanel1, quizContainer].forEach(el => {
                el.style.display = 'block';
            });
        }

        function togglePanel(panelId) {
            const panel = document.getElementById(panelId);
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            adjustLayout();
        }

        function updateSwitcherLayout() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const handle = switchElement.querySelector('.switch-handle');

            labels.forEach(label => {
                label.style.flex = 'none';
                label.style.padding = '0 20px';
            });

            const activeLabel = switchElement.querySelector('.switch-label.active');
            if (activeLabel) {
                const switchRect = switchElement.getBoundingClientRect();
                const labelRect = activeLabel.getBoundingClientRect();

                handle.style.left = `${labelRect.left - switchRect.left}px`;
                handle.style.width = `${labelRect.width}px`;
            }

            switchElement.style.width = 'auto';
        }
        
        function switchTab(index) {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const activeStates = Array.from(labels).map(label => label.textContent);

            labels.forEach((label, i) => {
                label.classList.toggle('active', i === index);
            });

            updateSwitcherLayout();
            showContent(activeStates[index]);

            adjustLayout();
        }

        function showContent(state) {
            const tabContent = document.getElementById('tabContent');
            tabContent.innerHTML = stateContents[state] || '';

            if (state === 'Practice') {
                renderQuiz();
                updateProgressBar();
            }
        }

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

function renderQuiz() {
    const quizContainer = document.getElementById("quiz-content");
    quizContainer.innerHTML = '';
    quizData[currentStage].forEach((question, index) => {
        const questionElement = document.createElement("div");
        questionElement.className = "question-one-line";
        
        // Create label for the question text
        const label = document.createElement("label");
        label.htmlFor = `q${index}`;
        label.textContent = `${index + 1}. ${question.question}`;
        
        // Create div for result feedback
        const resultDiv = document.createElement("div");
        resultDiv.className = "result result-ltr";
        resultDiv.id = `result${index}`;
        
        // Create select element for answers
        const select = document.createElement("select");
        select.id = `q${index}`;
        select.name = `q${index}`;
        
        // Add default option
        const defaultOption = document.createElement("option");
        defaultOption.value = "";
        defaultOption.textContent = "Select";
        select.appendChild(defaultOption);
        
        // Shuffle and add answer options
        const shuffledOptions = shuffleArray([...question.options]);
        shuffledOptions.forEach((option, optionIndex) => {
            const optionElement = document.createElement("option");
            optionElement.value = option;
            optionElement.textContent = option;
            select.appendChild(optionElement);
        });
        
        // Append elements to questionElement in the desired order
        questionElement.appendChild(label);
        questionElement.appendChild(resultDiv); // Feedback before dropdown
        questionElement.appendChild(select);
        
        quizContainer.appendChild(questionElement);
    });

    updateStageNumber();
}

		function checkStage() {
   attempts++;
    document.getElementById("attempts").textContent = `Attempts: ${attempts}`;

    let correctCount = 0;
    const totalQuestions = quizData[currentStage].length;

    quizData[currentStage].forEach((question, index) => {
        const resultElement = document.getElementById(`result${index}`);
        const selectElement = document.getElementById(`q${index}`);
        const selectedAnswer = selectElement.value;

        if (selectedAnswer === question.answer) {
            resultElement.textContent = "Correct!";
            resultElement.style.color = "green";
            correctCount++;
        } else {
            resultElement.textContent = "Incorrect answer.";
            resultElement.style.color = "red";
        }

        if (attempts >= 10) {
            selectElement.value = question.answer;
            selectElement.disabled = true;
            resultElement.textContent += ` The correct answer is: ${question.answer}`;
        }
    });

    console.log(`Stage ${currentStage + 1}: ${correctCount} correct out of ${totalQuestions}`);

			if (correctCount === totalQuestions) {
				console.log(`Stage ${currentStage + 1} completed. Adding ${totalQuestions} animals.`);
				addAnimalsToFarm(totalQuestions); // Add animals to the farm

				if (currentStage < stageCount - 1) {
					singleStageConfetti();
					showEncouragingPopup(correctCount, totalQuestions, true);
					currentStage++; // Increment stage immediately
					updateProgressBar(); // Update progress bar right after incrementing stage
					console.log(`Moving to stage ${currentStage + 1}`);
					setTimeout(() => {
						attempts = 0;
						renderQuiz();
						document.getElementById("attempts").textContent = `Attempts: ${attempts}`;
					}, 1500);
				} else {
					// This is the final stage completion
					currentStage++;
					updateProgressBar(); // This will now show 100%
					allStagesConfetti();
					showModal("Congratulations! You've completed all stages.");
				}
			} else {
				showEncouragingPopup(correctCount, totalQuestions, false);
				if (attempts >= 10) {
					showModal("You've reached the maximum number of attempts. The correct answers have been revealed.");
				}
			}

			scrollToTop();
		}
		
		function showEncouragingPopup(correctCount, totalQuestions, isStageComplete) {
			const incorrectCount = totalQuestions - correctCount;
			let message = `You got ${correctCount} correct and ${incorrectCount} incorrect.`;
			
			// Add encouraging message based on performance
			if (correctCount === totalQuestions) {
				message += " Perfect score!";
			} else if (correctCount >= Math.ceil(totalQuestions * 0.7)) {
				message += " Great job! You're really getting the hang of this!";
			} else if (correctCount >= Math.ceil(totalQuestions * 0.5)) {
				message += " Good effort! Keep practicing and you'll improve in no time!";
			} else {
				message += " Don't give up! Every attempt helps you learn. Try again!";
			}

			// Add stage completion message if applicable
			if (isStageComplete) {
				message += "\n\n You've completed this stage. Moving to the next stage.";
			}

			showModal(message);
		}

		function initializeQuiz() {
			currentStage = 0;
			attempts = 0;
			updateProgressBar(); // This should now set the progress to 0%
			renderQuiz();
			document.getElementById("attempts").textContent = `Attempts: ${attempts}`;
			updateStageNumber();
		}

		function updateProgressBar() {
			const progressBar = document.getElementById("progress-bar");
			const completedStages = currentStage; // Remove the +1 here
			const progress = (completedStages / stageCount) * 100;
			const roundedProgress = Math.min(100, Math.max(0, Math.round(progress)));
			progressBar.style.width = `${roundedProgress}%`;
			progressBar.textContent = roundedProgress > 0 ? `${roundedProgress}%` : '';
			console.log(`Progress updated: ${roundedProgress}% (Stage ${currentStage + 1} of ${stageCount})`);
		}

		function updateStageNumber() {
			const stageElement = document.getElementById("stage-number");
			stageElement.textContent = `Stage ${currentStage + 1} of ${stageCount}`;
		}

		function singleStageConfetti() {
			function randomInRange(min, max) {
				return Math.random() * (max - min) + min;
			}
			confetti({
				angle: randomInRange(55, 125),
				spread: randomInRange(50, 70),
				particleCount: randomInRange(50, 100),
				origin: { y: 0.6 },
			});
		}

		function allStagesConfetti() {
			const defaults = {
				spread: 360,
				ticks: 50,
				gravity: 0,
				decay: 0.94,
				startVelocity: 30,
				shapes: ["star"],
				colors: ["FFE400", "FFBD00", "E89400", "FFCA6C", "FDFFB8"],
			};
			function shoot() {
				confetti({
					...defaults,
					particleCount: 40,
					scalar: 1.2,
					shapes: ["star"],
				});
				confetti({
					...defaults,
					particleCount: 10,
					scalar: 0.75,
					shapes: ["circle"],
				});
			}
			setTimeout(shoot, 0);
			setTimeout(shoot, 100);
			setTimeout(shoot, 200);
		}

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
			    scrollToTopBtn.style.display = "none";
        }

        function initializeSwitch() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labelsContainer = switchElement.querySelector('.switch-labels');
            const switchContainer = document.getElementById('switchContainer');
            
            const activeStates = Object.keys(stateContents).filter(state => stateContents[state].trim() !== '');
            
            if (activeStates.length <= 1) {
                switchContainer.style.display = 'none';
                if (activeStates.length === 1) {
                    showContent(activeStates[0]);
                }
                return;
            }
            
            switchContainer.style.display = 'flex';
            
            activeStates.forEach((state, index) => {
                const label = document.createElement('div');
                label.className = 'switch-label';
                label.textContent = state;
                label.addEventListener('click', () => switchTab(index));
                labelsContainer.appendChild(label);
            });
   
            const defaultTab = manuallySetDefaultTab !== null && manuallySetDefaultTab < activeStates.length
                ? manuallySetDefaultTab
                : 0;

            switchTab(defaultTab);
        }

		let farmAnimals = [];

		function addAnimalsToFarm(count) {
			const animalFarm = document.getElementById('animalFarm');
			let availableAnimals = animals.filter(animal => !farmAnimals.includes(animal));

			console.log(`Adding ${count} animals to the farm. Current farm size: ${farmAnimals.length}`);

			for (let i = 0; i < count; i++) {
				if (availableAnimals.length === 0) {
					console.log("No more unique animals available!");
					break;
				}

				const randomIndex = Math.floor(Math.random() * availableAnimals.length);
				const chosenAnimal = availableAnimals[randomIndex];

				const animalElement = document.createElement('li');
				animalElement.textContent = chosenAnimal;
				animalFarm.appendChild(animalElement);

				farmAnimals.push(chosenAnimal);
				availableAnimals.splice(randomIndex, 1);
				console.log(`Added animal: ${chosenAnimal}`);
			}

			console.log(`Farm size after addition: ${farmAnimals.length}`);
			logAnimalFarmState();
		}

		function logAnimalFarmState() {
			console.log(`Current animal farm state: ${farmAnimals.length} animals`);
			console.log(farmAnimals);
		}

		const animals = [
			"üêâ", "üêª", "ü¶ó", "ü¶Å", "üêî", "ü¶Ç", "üêü", "üê£", "üêØ", "ü¶°",
			"üê∞", "üêç", "ü¶Ö", "üêà", "ü¶à", "ü¶ú", "ü¶õ", "üêÄ", "üêë",
			"üêÆ", "ü¶á", "üêá", "ü¶ñ", "ü¶Ä", "ü¶é", "üêÉ", "üê°", "üê§",
			"üê™", "ü¶•", "üêõ", "üêÖ", "üê•", "üê±", "üê∫", "üêï", "ü¶©", "üêä",
			"üêñ", "üê¢", "üï∑", "ü¶ï", "ü¶å", "üêÅ", "ü¶®", "ü¶ò", "üêµ",
			"ü¶ë", "üêã", "ü¶ì", "ü¶í", "üê≤", "ü¶Ü", "ü¶â", "üê∂", "üêÑ", "ü¶ü",
			"ü¶É", "ü¶ß", "ü¶è", "üêô", "üêø", "ü¶¢", "üêú", "üê¶", "üêû",
			"ü¶ê", "ü¶î", "üêº", "ü¶Ñ", "ü¶û", "üê´", "üê≠", "üêÜ", "ü¶ù",
			"üê†", "ü¶ö", "üê¥", "üêè", "ü¶Æ", "üêê", "üêπ", "üêé", "ü¶ã", "üê≥",
			"üê®", "üêÇ", "ü¶ç", "ü¶ô", "üê¨", "ü¶¶", "ü¶ä", "üêå", "üêì", "üêß",
			"üê∑", "üê©", "üêò", "üê∏", "üêù"
		];

        function showModal(message) {
            const modal = document.getElementById("quizModal");
            const modalMessage = document.getElementById("modalMessage");
            const modalButton = document.getElementById("modalButton");
            const modalClose = document.getElementsByClassName("modal-quiz-close")[0];

            modalMessage.textContent = message;
            modal.style.display = "block";

            modalButton.onclick = function() {
                modal.style.display = "none";
            }

            modalClose.onclick = function() {
                modal.style.display = "none";
            }

            window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }
        }

		window.addEventListener('load', () => {
			initializeSwitch();
			initializeQuiz();
			adjustLayout();
        });

        window.addEventListener('resize', adjustLayout);

        // Load the copyright content from the external URL and insert it into the div
        fetch('http://ez42.live/global/copyright.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('copyright-container').innerHTML = data;
            })
            .catch(error => console.error('Error loading copyright:', error));
			
		let scrollToTopBtn = document.getElementById("scrollToTopBtn");

			window.onscroll = function() {
				// Check if the scroll distance is more than twice the height of the screen
				if (document.body.scrollTop > window.innerHeight * 1.5 || 
					document.documentElement.scrollTop > window.innerHeight * 1.5) {
					scrollToTopBtn.style.display = "block";
				} else {
					scrollToTopBtn.style.display = "none";
				}
			};

		scrollToTopBtn.onclick = function() {
		  document.body.scrollTop = 0;
		  document.documentElement.scrollTop = 0;
		};	
    </script>
</body>
</html>