<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ez42.live/global/analytics.js"></script>
    <script src="https://ez42.live/global/ads.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
 	<link rel="stylesheet" href="http://www.ez42.live/global/styles/styles-eng.css"> <!-- Link to external CSS file -->
    <link rel="icon" type="image/svg+xml" href="http://www.ez42.live/global/styles/ez42-icon.svg">
    <title>✅ EZ42 LIVE - It's EZ</title>
	<style>

	</style>
</head>
<body>
    <div class="page-container">
        <div class="content-wrapper">
		
		<!--  Side Panel 1  -->
            <div id="sidePanel1" class="side-panel">
				<div class="logo-container">
					<a href="http://ez42.live" target="_blank" rel="noopener noreferrer">
						<img src="http://ez42.live/global/logo/logo.svg" alt="EZ42 Logo" class="logo-image">
					</a>
				</div>
			<h2>Instructions & Rules</h2>
			<ul>
																		<!--  PH1 - Instructions & Rules   -->	
                <li>Read each question carefully.</li>
                <li>Select the best answer.</li>
                <li>Click "Check Answers" when you're ready to see how you did!</li>
                <li>You can check your answers multiple times to improve your score.</li>
                <li>Correct answers are revealed after 10 attempts.</li>
                <li>You must answer all questions correctly to proceed to the next stage.</li>
                <li>There are 20 stages, each with 5 questions.</li>
				<li>Have fun!</li>
			</ul>
            </div>
			
		<!--  Quiz Panel   -->
            <div id="quizContainer" class="quiz-container">
																			<!--  PH2 - Title  X  2 : A1 - 📗 Green, A2 - 📘 Blue, B1 - 📒 Yellow, 📙 Orange, 📔 Beige, 📓 Gray , 📕 Red-->	
                <h1>Past Simple and Past Progressive/Continuous - A2</h1>
                
                <div id="switchContainer" class="switch-container">
                    <div id="multiStateSwitch" class="switch">
                        <div class="switch-labels"></div>
                        <div class="switch-handle"></div>
                    </div>
                </div>
                <div id="tabContent"></div>
            </div>
			
		<!--  Side Panel 2  -->
			<div id="sidePanel2" class="side-panel">
				<h2>Animal Farm</h2>
				<p>Watch your farm grow as you progress! Each completed stage adds new animal friends to your collection.</p>
				<ul id="animalFarm" class="emoji-list">
				</ul>
			</div>
        </div>
    </div>
    <div id="copyright-container"></div>

    <!-- Modal -->
    <div id="quizModal" class="modal-quiz">
        <div class="modal-quiz-content">
            <span class="modal-quiz-close">&times;</span>
            <p id="modalMessage"></p>
            <button id="modalButton" class="modal-quiz-button">OK</button>
        </div>
    </div>
	<button id="scrollToTopBtn" title="Go to top">↑</button>
    <script>
        let isQuizExpanded = false;
        let allowQuizExpansion = true;

        let attempts = 0;
        let currentStage = 0;

        const manuallySetDefaultTab = 0;

        const quizData = [ 												//  PH3 - Quiz Data   	
 // Stage 1
[
  { 
    question: "I ___ to the store yesterday.", 
    options: ["went", "was going", "goes", "gone", "will go"], 
    answer: "went" 
  },
  { 
    question: "She ___ dinner when the phone rang.", 
    options: ["was cooking", "cooked", "is cooking", "cook", "has cooked"], 
    answer: "was cooking" 
  },
  { 
    question: "They ___ soccer last weekend.", 
    options: ["played", "were playing", "play", "plays", "playing"], 
    answer: "played" 
  },
  { 
    question: "He ___ TV at 8 PM last night.", 
    options: ["watched", "was watching", "watch", "watches", "watching"], 
    answer: "was watching" 
  },
  { 
    question: "We ___ a movie on Friday.", 
    options: ["saw", "were seeing", "see", "sees", "seeing"], 
    answer: "saw" 
  },
],

// Stage 2
[
  { 
    question: "While I ___ breakfast, the sun was rising.", 
    options: ["was eating", "ate", "eating", "eat", "have eaten"], 
    answer: "was eating" 
  },
  { 
    question: "They ___ for the bus when it started to rain.", 
    options: ["waited", "were waiting", "wait", "waits", "waiting"], 
    answer: "were waiting" 
  },
  { 
    question: "She ___ a letter when the power went out.", 
    options: ["wrote", "was writing", "writes", "write", "writing"], 
    answer: "was writing" 
  },
  { 
    question: "We ___ at the park all afternoon.", 
    options: ["played", "were playing", "play", "plays", "playing"], 
    answer: "were playing" 
  },
  { 
    question: "I ___ my homework when you called.", 
    options: ["did", "was doing", "do", "does", "doing"], 
    answer: "was doing" 
  },
],

// Stage 3
[
  { 
    question: "Last night, they ___ a movie together.", 
    options: ["watched", "were watching", "watch", "watches", "watching"], 
    answer: "watched" 
  },
  { 
    question: "While he ___ to music, he forgot about the time.", 
    options: ["listened", "was listening", "listen", "listens", "listening"], 
    answer: "was listening" 
  },
  { 
    question: "We ___ to the new restaurant on Saturday.", 
    options: ["went", "were going", "go", "goes", "gone"], 
    answer: "went" 
  },
  { 
    question: "She ___ her bike when it got a flat tire.", 
    options: ["rided", "was riding", "rode", "rides", "riding"], 
    answer: "was riding" 
  },
  { 
    question: "I ___ my keys yesterday.", 
    options: ["lost", "was losing", "lose", "loses", "losing"], 
    answer: "lost" 
  },
],

// Stage 4
[
  { 
    question: "They ___ dinner when the guests arrived.", 
    options: ["had", "were having", "have", "has", "having"], 
    answer: "were having" 
  },
  { 
    question: "He ___ a book when the lights went out.", 
    options: ["read", "was reading", "reads", "reading", "readed"], 
    answer: "was reading" 
  },
  { 
    question: "We ___ to music while cleaning the house.", 
    options: ["listened", "were listening", "listen", "listens", "listening"], 
    answer: "were listening" 
  },
  { 
    question: "I ___ my friend at the mall yesterday.", 
    options: ["met", "was meeting", "meet", "meets", "meeting"], 
    answer: "met" 
  },
  { 
    question: "She ___ to finish her project last night.", 
    options: ["tried", "was trying", "tries", "try", "trying"], 
    answer: "was trying" 
  },
],

// Stage 5
[
  { 
    question: "While they ___ TV, their parents were cooking dinner.", 
    options: ["watched", "were watching", "watch", "watches", "watching"], 
    answer: "were watching" 
  },
  { 
    question: "I ___ a song when my friend called.", 
    options: ["sing", "sang", "was singing", "sings", "singing"], 
    answer: "was singing" 
  },
  { 
    question: "He ___ his homework before dinner.", 
    options: ["finished", "was finishing", "finish", "finishes", "finishing"], 
    answer: "finished" 
  },
  { 
    question: "They ___ in the garden when it started to snow.", 
    options: ["played", "were playing", "play", "plays", "playing"], 
    answer: "were playing" 
  },
  { 
    question: "She ___ her car to work last Monday.", 
    options: ["drove", "was driving", "drive", "drives", "driving"], 
    answer: "drove" 
  },
],

// Stage 6
[
  { 
    question: "While I ___ breakfast, my sister was packing her bag.", 
    options: ["was eating", "ate", "eating", "eat", "have eaten"], 
    answer: "was eating" 
  },
  { 
    question: "They ___ to finish the project by Friday.", 
    options: ["tried", "were trying", "try", "tries", "trying"], 
    answer: "were trying" 
  },
  { 
    question: "We ___ a lot of photos during our vacation.", 
    options: ["took", "were taking", "take", "takes", "taking"], 
    answer: "took" 
  },
  { 
    question: "He ___ his favorite show when I called him.", 
    options: ["watched", "was watching", "watch", "watches", "watching"], 
    answer: "was watching" 
  },
  { 
    question: "I ___ to the gym every morning last month.", 
    options: ["went", "was going", "go", "goes", "gone"], 
    answer: "went" 
  },
],

// Stage 7
[
  { 
    question: "She ___ her room when the guests arrived.", 
    options: ["cleaned", "was cleaning", "clean", "cleans", "cleaning"], 
    answer: "was cleaning" 
  },
  { 
    question: "They ___ a movie when the power went out.", 
    options: ["watched", "were watching", "watch", "watches", "watching"], 
    answer: "were watching" 
  },
  { 
    question: "I ___ my favorite book last night.", 
    options: ["read", "was reading", "reads", "readed", "reading"], 
    answer: "read" 
  },
  { 
    question: "We ___ in the park all afternoon.", 
    options: ["stayed", "were staying", "stay", "stays", "staying"], 
    answer: "were staying" 
  },
  { 
    question: "He ___ a letter when I saw him.", 
    options: ["wrote", "was writing", "writes", "write", "writing"], 
    answer: "was writing" 
  },
],

// Stage 8
[
  { 
    question: "While they ___ for the bus, it started to rain.", 
    options: ["waited", "were waiting", "wait", "waits", "waiting"], 
    answer: "were waiting" 
  },
  { 
    question: "I ___ my friends at the mall yesterday.", 
    options: ["met", "was meeting", "meet", "meets", "meeting"], 
    answer: "met" 
  },
  { 
    question: "She ___ her bike when she fell.", 
    options: ["rode", "was riding", "ride", "rides", "riding"], 
    answer: "was riding" 
  },
  { 
    question: "They ___ dinner when the doorbell rang.", 
    options: ["had", "were having", "have", "has", "having"], 
    answer: "were having" 
  },
  { 
    question: "He ___ a song when I entered the room.", 
    options: ["sang", "was singing", "sing", "sings", "singing"], 
    answer: "was singing" 
  },
],

// Stage 9
[
  { 
    question: "While I ___ to music, I forgot about the time.", 
    options: ["listened", "was listening", "listen", "listens", "listening"], 
    answer: "was listening" 
  },
  { 
    question: "They ___ to the new restaurant on Saturday.", 
    options: ["went", "were going", "go", "goes", "gone"], 
    answer: "went" 
  },
  { 
    question: "She ___ her homework when the lights went out.", 
    options: ["did", "was doing", "do", "does", "doing"], 
    answer: "was doing" 
  },
  { 
    question: "We ___ a picnic when it started to storm.", 
    options: ["had", "were having", "have", "has", "having"], 
    answer: "were having" 
  },
  { 
    question: "He ___ his keys yesterday.", 
    options: ["lost", "was losing", "lose", "loses", "losing"], 
    answer: "lost" 
  },
],

// Stage 10
[
  { 
    question: "While they ___ soccer, it began to rain.", 
    options: ["played", "were playing", "play", "plays", "playing"], 
    answer: "were playing" 
  },
  { 
    question: "I ___ a movie when my friend called.", 
    options: ["watched", "was watching", "watch", "watches", "watching"], 
    answer: "was watching" 
  },
  { 
    question: "She ___ her car to work last Monday.", 
    options: ["drove", "was driving", "drive", "drives", "driving"], 
    answer: "drove" 
  },
  { 
    question: "They ___ a lot of photos during their vacation.", 
    options: ["took", "were taking", "take", "takes", "taking"], 
    answer: "took" 
  },
  { 
    question: "He ___ his project all night.", 
    options: ["worked", "was working", "work", "works", "working"], 
    answer: "was working" 
  },
],

// Stage 11
[
  { 
    question: "While I ___ to the radio, I cooked breakfast.", 
    options: ["was listening", "listened", "listen", "listens", "listening"], 
    answer: "was listening" 
  },
  { 
    question: "They ___ a game when the power went out.", 
    options: ["played", "were playing", "play", "plays", "playing"], 
    answer: "were playing" 
  },
  { 
    question: "She ___ her room when her friend arrived.", 
    options: ["cleaned", "was cleaning", "clean", "cleans", "cleaning"], 
    answer: "was cleaning" 
  },
  { 
    question: "We ___ a concert last night.", 
    options: ["attended", "were attending", "attend", "attends", "attending"], 
    answer: "attended" 
  },
  { 
    question: "He ___ a letter when the mailman arrived.", 
    options: ["wrote", "was writing", "writes", "write", "writing"], 
    answer: "was writing" 
  },
],

// Stage 12
[
  { 
    question: "While they ___ for the exam, they studied hard.", 
    options: ["prepared", "were preparing", "prepare", "prepares", "preparing"], 
    answer: "were preparing" 
  },
  { 
    question: "I ___ my favorite song when you texted me.", 
    options: ["listened", "was listening", "listen", "listens", "listening"], 
    answer: "was listening" 
  },
  { 
    question: "She ___ a cake when the oven broke.", 
    options: ["baked", "was baking", "bake", "bakes", "baking"], 
    answer: "was baking" 
  },
  { 
    question: "They ___ to finish the marathon last year.", 
    options: ["ran", "were running", "run", "runs", "running"], 
    answer: "ran" 
  },
  { 
    question: "We ___ at the beach all day.", 
    options: ["stayed", "were staying", "stay", "stays", "staying"], 
    answer: "were staying" 
  },
],

// Stage 13
[
  { 
    question: "While I ___ my bike, it started to rain.", 
    options: ["fixed", "was fixing", "fix", "fixes", "fixing"], 
    answer: "was fixing" 
  },
  { 
    question: "They ___ a play when the director called.", 
    options: ["performed", "were performing", "perform", "performs", "performing"], 
    answer: "were performing" 
  },
  { 
    question: "She ___ for her exams all night.", 
    options: ["studied", "was studying", "study", "studies", "studying"], 
    answer: "was studying" 
  },
  { 
    question: "I ___ my friend at the café yesterday.", 
    options: ["met", "was meeting", "meet", "meets", "meeting"], 
    answer: "met" 
  },
  { 
    question: "He ___ his presentation when the computer crashed.", 
    options: ["gave", "was giving", "give", "gives", "giving"], 
    answer: "was giving" 
  },
],

// Stage 14
[
  { 
    question: "While they ___ in the pool, they heard a strange noise.", 
    options: ["swam", "were swimming", "swim", "swims", "swimming"], 
    answer: "were swimming" 
  },
  { 
    question: "I ___ a letter to my pen pal last month.", 
    options: ["wrote", "was writing", "write", "writes", "writing"], 
    answer: "wrote" 
  },
  { 
    question: "She ___ her nails when the phone rang.", 
    options: ["painted", "was painting", "paint", "paints", "painting"], 
    answer: "was painting" 
  },
  { 
    question: "They ___ a new language during their trip.", 
    options: ["learned", "were learning", "learn", "learns", "learning"], 
    answer: "learned" 
  },
  { 
    question: "We ___ a play when the director walked in.", 
    options: ["practiced", "were practicing", "practice", "practices", "practicing"], 
    answer: "were practicing" 
  },
],

// Stage 15
[
  { 
    question: "While I ___ my keys, I couldn't find them.", 
    options: ["searched", "was searching", "search", "searches", "searching"], 
    answer: "was searching" 
  },
  { 
    question: "They ___ a new strategy during the meeting.", 
    options: ["developed", "were developing", "develop", "develops", "developing"], 
    answer: "were developing" 
  },
  { 
    question: "She ___ her favorite dress to the party.", 
    options: ["wore", "was wearing", "wear", "wears", "wearing"], 
    answer: "was wearing" 
  },
  { 
    question: "I ___ a podcast while jogging yesterday.", 
    options: ["listened to", "was listening to", "listen to", "listens to", "listening to"], 
    answer: "was listening to" 
  },
  { 
    question: "He ___ his homework when his friend called.", 
    options: ["finished", "was finishing", "finish", "finishes", "finishing"], 
    answer: "was finishing" 
  },
],

// Stage 16
[
  { 
    question: "While they ___ dinner, the guests arrived.", 
    options: ["cooked", "were cooking", "cook", "cooks", "cooking"], 
    answer: "were cooking" 
  },
  { 
    question: "I ___ a novel when I fell asleep.", 
    options: ["read", "was reading", "reads", "readed", "reading"], 
    answer: "was reading" 
  },
  { 
    question: "She ___ her plants every weekend last spring.", 
    options: ["watered", "was watering", "water", "waters", "watering"], 
    answer: "watered" 
  },
  { 
    question: "They ___ to fix the car when it broke down again.", 
    options: ["tried", "were trying", "try", "tries", "trying"], 
    answer: "were trying" 
  },
  { 
    question: "We ___ our friends at the concert last night.", 
    options: ["met", "were meeting", "meet", "meets", "meeting"], 
    answer: "met" 
  },
],

// Stage 17
[
  { 
    question: "While I ___ dinner, my brother was setting the table.", 
    options: ["was cooking", "cooked", "cook", "cooks", "cooking"], 
    answer: "was cooking" 
  },
  { 
    question: "They ___ a movie when the earthquake happened.", 
    options: ["watched", "were watching", "watch", "watches", "watching"], 
    answer: "were watching" 
  },
  { 
    question: "She ___ her essay when the internet went down.", 
    options: ["wrote", "was writing", "write", "writes", "writing"], 
    answer: "was writing" 
  },
  { 
    question: "I ___ to finish the report by Monday.", 
    options: ["tried", "was trying", "try", "tries", "trying"], 
    answer: "was trying" 
  },
  { 
    question: "He ___ his bicycle when he heard the news.", 
    options: ["rode", "was riding", "ride", "rides", "riding"], 
    answer: "was riding" 
  },
],

// Stage 18
[
  { 
    question: "While they ___ the house, it started to snow.", 
    options: ["cleaned", "were cleaning", "clean", "cleans", "cleaning"], 
    answer: "were cleaning" 
  },
  { 
    question: "I ___ a song when my friend interrupted me.", 
    options: ["sang", "was singing", "sing", "sings", "singing"], 
    answer: "was singing" 
  },
  { 
    question: "She ___ her hair when the phone rang.", 
    options: ["washed", "was washing", "wash", "washes", "washing"], 
    answer: "was washing" 
  },
  { 
    question: "They ___ a new language during their exchange program.", 
    options: ["learned", "were learning", "learn", "learns", "learning"], 
    answer: "were learning" 
  },
  { 
    question: "We ___ for the upcoming event all week.", 
    options: ["prepared", "were preparing", "prepare", "prepares", "preparing"], 
    answer: "were preparing" 
  },
],

// Stage 19
[
  { 
    question: "While I ___ my presentation, my computer crashed.", 
    options: ["gave", "was giving", "give", "gives", "giving"], 
    answer: "was giving" 
  },
  { 
    question: "They ___ a play when the director walked in.", 
    options: ["practiced", "were practicing", "practice", "practices", "practicing"], 
    answer: "were practicing" 
  },
  { 
    question: "She ___ her nails when her friend arrived.", 
    options: ["painted", "was painting", "paint", "paints", "painting"], 
    answer: "was painting" 
  },
  { 
    question: "I ___ my keys while I was jogging.", 
    options: ["searched", "was searching", "search", "searches", "searching"], 
    answer: "was searching" 
  },
  { 
    question: "He ___ his thesis all night.", 
    options: ["worked", "was working", "work", "works", "working"], 
    answer: "was working" 
  },
],

// Stage 20
[
  { 
    question: "While they ___ for the exam, they reviewed all their notes.", 
    options: ["studied", "were studying", "study", "studies", "studying"], 
    answer: "were studying" 
  },
  { 
    question: "I ___ a podcast while waiting for the bus.", 
    options: ["listened to", "was listening to", "listen to", "listens to", "listening to"], 
    answer: "was listening to" 
  },
  { 
    question: "She ___ a marathon when she sprained her ankle.", 
    options: ["ran", "was running", "run", "runs", "running"], 
    answer: "was running" 
  },
  { 
    question: "They ___ a strategy to improve sales.", 
    options: ["developed", "were developing", "develop", "develops", "developing"], 
    answer: "were developing" 
  },
  { 
    question: "We ___ at the conference all day.", 
    options: ["attended", "were attending", "attend", "attends", "attending"], 
    answer: "were attending" 
  },
],

// Stage 21
[
  { 
    question: "While I ___ my car, I found a dent.", 
    options: ["washed", "was washing", "wash", "washes", "washing"], 
    answer: "was washing" 
  },
  { 
    question: "They ___ a documentary when the news broke.", 
    options: ["watched", "were watching", "watch", "watches", "watching"], 
    answer: "were watching" 
  },
  { 
    question: "She ___ her essay when she realized a mistake.", 
    options: ["wrote", "was writing", "write", "writes", "writing"], 
    answer: "was writing" 
  },
  { 
    question: "I ___ to complete the assignment by the deadline.", 
    options: ["tried", "was trying", "try", "tries", "trying"], 
    answer: "was trying" 
  },
  { 
    question: "He ___ his bike when he heard the announcement.", 
    options: ["rode", "was riding", "ride", "rides", "riding"], 
    answer: "was riding" 
  },
],

// Stage 22
[
  { 
    question: "While they ___ the garden, they discovered a hidden path.", 
    options: ["cleaned", "were cleaning", "clean", "cleans", "cleaning"], 
    answer: "were cleaning" 
  },
  { 
    question: "I ___ a song when the power outage occurred.", 
    options: ["sang", "was singing", "sing", "sings", "singing"], 
    answer: "was singing" 
  },
  { 
    question: "She ___ her hair when the doorbell rang.", 
    options: ["washed", "was washing", "wash", "washes", "washing"], 
    answer: "was washing" 
  },
  { 
    question: "They ___ a new language during their study abroad.", 
    options: ["learned", "were learning", "learn", "learns", "learning"], 
    answer: "were learning" 
  },
  { 
    question: "We ___ for the upcoming event all week.", 
    options: ["prepared", "were preparing", "prepare", "prepares", "preparing"], 
    answer: "were preparing" 
  },
],

// Stage 23
[
  { 
    question: "While I ___ my presentation, I noticed a mistake.", 
    options: ["gave", "was giving", "give", "gives", "giving"], 
    answer: "was giving" 
  },
  { 
    question: "They ___ a play when the lead actor fell ill.", 
    options: ["practiced", "were practicing", "practice", "practices", "practicing"], 
    answer: "were practicing" 
  },
  { 
    question: "She ___ her nails when her friend arrived.", 
    options: ["painted", "was painting", "paint", "paints", "painting"], 
    answer: "was painting" 
  },
  { 
    question: "I ___ my keys while I was jogging.", 
    options: ["searched", "was searching", "search", "searches", "searching"], 
    answer: "was searching" 
  },
  { 
    question: "He ___ his thesis all night.", 
    options: ["worked", "was working", "work", "works", "working"], 
    answer: "was working" 
  },
],

// Stage 24
[
  { 
    question: "While they ___ for the exam, they reviewed all their notes.", 
    options: ["studied", "were studying", "study", "studies", "studying"], 
    answer: "were studying" 
  },
  { 
    question: "I ___ a podcast while waiting for the bus.", 
    options: ["listened to", "was listening to", "listen to", "listens to", "listening to"], 
    answer: "was listening to" 
  },
  { 
    question: "She ___ a marathon when she sprained her ankle.", 
    options: ["ran", "was running", "run", "runs", "running"], 
    answer: "was running" 
  },
  { 
    question: "They ___ a strategy to improve sales.", 
    options: ["developed", "were developing", "develop", "develops", "developing"], 
    answer: "were developing" 
  },
  { 
    question: "We ___ at the conference all day.", 
    options: ["attended", "were attending", "attend", "attends", "attending"], 
    answer: "were attending" 
  },
],

// Stage 25
[
  { 
    question: "While I ___ my car, I noticed a scratch.", 
    options: ["washed", "was washing", "wash", "washes", "washing"], 
    answer: "was washing" 
  },
  { 
    question: "They ___ a documentary when the news broke.", 
    options: ["watched", "were watching", "watch", "watches", "watching"], 
    answer: "were watching" 
  },
  { 
    question: "She ___ her essay when she realized a mistake.", 
    options: ["wrote", "was writing", "write", "writes", "writing"], 
    answer: "was writing" 
  },
  { 
    question: "I ___ to complete the assignment by the deadline.", 
    options: ["tried", "was trying", "try", "tries", "trying"], 
    answer: "was trying" 
  },
  { 
    question: "He ___ his bike when he heard the announcement.", 
    options: ["rode", "was riding", "ride", "rides", "riding"], 
    answer: "was riding" 
  },
],

// Stage 26
[
  { 
    question: "While they ___ the garden, they discovered a hidden path.", 
    options: ["cleaned", "were cleaning", "clean", "cleans", "cleaning"], 
    answer: "were cleaning" 
  },
  { 
    question: "I ___ a song when the power outage occurred.", 
    options: ["sang", "was singing", "sing", "sings", "singing"], 
    answer: "was singing" 
  },
  { 
    question: "She ___ her hair when the doorbell rang.", 
    options: ["washed", "was washing", "wash", "washes", "washing"], 
    answer: "was washing" 
  },
  { 
    question: "They ___ a new language during their study abroad.", 
    options: ["learned", "were learning", "learn", "learns", "learning"], 
    answer: "were learning" 
  },
  { 
    question: "We ___ for the upcoming event all week.", 
    options: ["prepared", "were preparing", "prepare", "prepares", "preparing"], 
    answer: "were preparing" 
  },
],

// Stage 27
[
  { 
    question: "While I ___ my presentation, I noticed a mistake.", 
    options: ["gave", "was giving", "give", "gives", "giving"], 
    answer: "was giving" 
  },
  { 
    question: "They ___ a play when the lead actor fell ill.", 
    options: ["practiced", "were practicing", "practice", "practices", "practicing"], 
    answer: "were practicing" 
  },
  { 
    question: "She ___ her nails when her friend arrived.", 
    options: ["painted", "was painting", "paint", "paints", "painting"], 
    answer: "was painting" 
  },
  { 
    question: "I ___ my keys while I was jogging.", 
    options: ["searched", "was searching", "search", "searches", "searching"], 
    answer: "was searching" 
  },
  { 
    question: "He ___ his thesis all night.", 
    options: ["worked", "was working", "work", "works", "working"], 
    answer: "was working" 
  },
],

// Stage 28
[
  { 
    question: "While they ___ for the exam, they reviewed all their notes.", 
    options: ["studied", "were studying", "study", "studies", "studying"], 
    answer: "were studying" 
  },
  { 
    question: "I ___ a podcast while waiting for the bus.", 
    options: ["listened to", "was listening to", "listen to", "listens to", "listening to"], 
    answer: "was listening to" 
  },
  { 
    question: "She ___ a marathon when she sprained her ankle.", 
    options: ["ran", "was running", "run", "runs", "running"], 
    answer: "was running" 
  },
  { 
    question: "They ___ a strategy to improve sales.", 
    options: ["developed", "were developing", "develop", "develops", "developing"], 
    answer: "were developing" 
  },
  { 
    question: "We ___ at the conference all day.", 
    options: ["attended", "were attending", "attend", "attends", "attending"], 
    answer: "were attending" 
  },
],

// Stage 29
[
  { 
    question: "While I ___ my car, I noticed a scratch.", 
    options: ["washed", "was washing", "wash", "washes", "washing"], 
    answer: "was washing" 
  },
  { 
    question: "They ___ a documentary when the news broke.", 
    options: ["watched", "were watching", "watch", "watches", "watching"], 
    answer: "were watching" 
  },
  { 
    question: "She ___ her essay when she realized a mistake.", 
    options: ["wrote", "was writing", "write", "writes", "writing"], 
    answer: "was writing" 
  },
  { 
    question: "I ___ to complete the assignment by the deadline.", 
    options: ["tried", "was trying", "try", "tries", "trying"], 
    answer: "was trying" 
  },
  { 
    question: "He ___ his bike when he heard the announcement.", 
    options: ["rode", "was riding", "ride", "rides", "riding"], 
    answer: "was riding" 
  },
],

// Stage 30
[
  { 
    question: "While they ___ the garden, they discovered a hidden path.", 
    options: ["cleaned", "were cleaning", "clean", "cleans", "cleaning"], 
    answer: "were cleaning" 
  },
  { 
    question: "I ___ a song when the power outage occurred.", 
    options: ["sang", "was singing", "sing", "sings", "singing"], 
    answer: "was singing" 
  },
  { 
    question: "She ___ her hair when the doorbell rang.", 
    options: ["washed", "was washing", "wash", "washes", "washing"], 
    answer: "was washing" 
  },
  { 
    question: "They ___ a new language during their study abroad.", 
    options: ["learned", "were learning", "learn", "learns", "learning"], 
    answer: "were learning" 
  },
  { 
    question: "We ___ for the upcoming event all week.", 
    options: ["prepared", "were preparing", "prepare", "prepares", "preparing"], 
    answer: "were preparing" 
  },
],

        ];

        const stageCount = quizData.length;

        const stateContents = {


		   'Practice': `<div id="stage-number" class="stage-number">Stage 1 of ${stageCount}</div><div class="progress-bar-container"><div id="progress-bar" class="progress-bar"></div></div><div id="attempts">Attempts: 0</div><div id="quiz-content"></div><button class="center-button" onclick="checkStage()">Check Answers</button>`
           ,'Subject Overview 🗝️': `<div class="subject-overview-content">   <h1>Past Progressive and Past Simple in English: A Detailed Guide</h1>   <p>The past progressive and past simple tenses are both used to describe actions or events that happened in the past. However, they serve different purposes. This guide will explain the key differences, rules, and provide clear examples to help you distinguish when to use each tense appropriately.</p>   <hr>   <h2>Table of Contents</h2>   <ol>     <li><a href="#what-are-past-progressive-and-past-simple">What Are Past Progressive and Past Simple?</a></li>     <li><a href="#key-differences">Key Differences Between Past Progressive and Past Simple</a></li>     <li><a href="#examples-of-use">Examples of Use</a>       <ul>         <li><a href="#past-progressive">Past Progressive</a></li>         <li><a href="#past-simple">Past Simple</a></li>       </ul>     </li>     <li><a href="#conclusion">Conclusion</a></li>   </ol>   <hr>   <h2 id="what-are-past-progressive-and-past-simple">What Are Past Progressive and Past Simple?</h2>   <p>The <strong>past progressive</strong> tense describes actions that were ongoing at a particular moment in the past. It emphasizes the duration of an action. Meanwhile, the <strong>past simple</strong> tense describes completed actions or events that happened at a specific point in the past.</p>   <p>Common markers for past progressive include phrases like <em>while</em> and <em>as</em>, while past simple is often used with specific time expressions like <em>yesterday</em>, <em>last week</em>, or <em>in 2000</em>.</p>   <hr>   <h2 id="key-differences">Key Differences Between Past Progressive and Past Simple</h2>   <p>Here are the main distinctions between the two tenses:</p>   <ol>     <li><strong>Past Progressive</strong>: Describes an action that was ongoing or in progress at a certain point in the past.</li>     <li><strong>Past Simple</strong>: Describes an action that happened once and was completed in the past.</li>     <li><strong>Interruptions</strong>: When an action is interrupted, use past progressive for the ongoing action and past simple for the interrupting action. Example: <em>I was cooking dinner when the phone rang.</em></li>     <li><strong>Simultaneous Actions</strong>: Use past progressive when two actions were happening at the same time. Example: <em>While I was reading, he was cooking.</em></li>   </ol>   <hr>   <h2 id="examples-of-use">Examples of Use</h2>     <h3 id="past-progressive">Past Progressive</h3>   <p><strong>Meaning and Use:</strong></p>   <ol>     <li><strong>Ongoing actions</strong>: Describes actions that were happening at a specific time in the past.<ul>         <li><em>At 8 PM, I was watching a movie.</em></li>         <li><em>They were playing soccer all afternoon.</em></li>       </ul></li>     <li><strong>Parallel actions</strong>: Used for actions that were happening simultaneously.<ul>         <li><em>She was talking on the phone while walking to work.</em></li>       </ul></li>     <li><strong>Background actions</strong>: Sets the scene or provides background information for another action.<ul>         <li><em>The sun was shining, and the birds were singing as they walked through the park.</em></li>       </ul></li>   </ol>   <p><strong>Examples:</strong></p>   <ul>     <li><em>I was reading a book when you called.</em></li>     <li><em>We were having dinner at 7 PM last night.</em></li>     <li><em>What were you doing at this time yesterday?</em></li>   </ul>   <hr>   <h3 id="past-simple">Past Simple</h3>   <p><strong>Meaning and Use:</strong></p>   <ol>     <li><strong>Completed actions</strong>: Describes actions that began and ended in the past.<ul>         <li><em>I finished my homework two hours ago.</em></li>         <li><em>She visited her grandparents last weekend.</em></li>       </ul></li>     <li><strong>Specific point in time</strong>: Used to refer to events that occurred at a known time in the past.<ul>         <li><em>They left the party at midnight.</em></li>       </ul></li>     <li><strong>Repeated actions</strong>: Describes habits or events that occurred multiple times in the past.<ul>         <li><em>We often went to the beach during the summer.</em></li>       </ul></li>   </ol>   <p><strong>Examples:</strong></p>   <ul>     <li><em>I watched a movie last night.</em></li>     <li><em>They walked to school every day.</em></li>     <li><em>Did you go to the store yesterday?</em></li>   </ul>   <hr>   <h2 id="conclusion">Conclusion</h2>   <p>The past progressive and past simple tenses are essential for expressing different types of actions in the past. The past progressive focuses on ongoing or interrupted actions, while the past simple highlights completed or one-time actions. Here’s a quick recap:</p>   <ul>     <li><strong>Past Progressive</strong>: Describes actions that were in progress at a particular time in the past, often used with <em>while</em> or <em>as</em>.</li>     <li><strong>Past Simple</strong>: Describes completed actions, events at a specific time, or repeated actions in the past.</li>     <li><strong>Combination</strong>: Often, past progressive is paired with past simple to describe an ongoing action interrupted by a completed action.</li>   </ul>   <p><strong>Remember</strong>: Use the past progressive for ongoing actions in the past and the past simple for completed actions or interruptions. Practice these tenses to enhance your English fluency and understanding.</p>   <hr>   <p>Keep practicing these tenses to master expressing past events clearly and accurately. Don’t hesitate to revisit this guide for further clarification or examples.</p> </div>
`

		
		};

        function setQuizExpansion(allow) {
            allowQuizExpansion = allow;
            adjustLayout();
        }

        function adjustLayout() {
            const wrapper = document.querySelector('.content-wrapper');
            const quizContainer = document.getElementById('quizContainer');
            const sidePanel1 = document.getElementById('sidePanel1');
            
            const isPanel1Visible = window.getComputedStyle(sidePanel1).display !== 'none';

            wrapper.style.justifyContent = 'space-between';

            if (isPanel1Visible) {
                sidePanel1.style.flex = '0 0 calc(20% - 0.5rem)';
                sidePanel1.style.maxWidth = 'calc(20% - 0.5rem)';
                quizContainer.style.flex = '1';
            } else {
                quizContainer.style.flex = '1';
                wrapper.style.justifyContent = 'center';
            }

            [sidePanel1, quizContainer].forEach(el => {
                el.style.display = 'block';
            });
        }

        function togglePanel(panelId) {
            const panel = document.getElementById(panelId);
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            adjustLayout();
        }

        function updateSwitcherLayout() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const handle = switchElement.querySelector('.switch-handle');

            labels.forEach(label => {
                label.style.flex = 'none';
                label.style.padding = '0 20px';
            });

            const activeLabel = switchElement.querySelector('.switch-label.active');
            if (activeLabel) {
                const switchRect = switchElement.getBoundingClientRect();
                const labelRect = activeLabel.getBoundingClientRect();

                handle.style.left = `${labelRect.left - switchRect.left}px`;
                handle.style.width = `${labelRect.width}px`;
            }

            switchElement.style.width = 'auto';
        }
        
        function switchTab(index) {
            const switchElement = document.getElementById('multiStateSwitch');
            const labels = switchElement.querySelectorAll('.switch-label');
            const activeStates = Array.from(labels).map(label => label.textContent);

            labels.forEach((label, i) => {
                label.classList.toggle('active', i === index);
            });

            updateSwitcherLayout();
            showContent(activeStates[index]);

            adjustLayout();
        }

        function showContent(state) {
            const tabContent = document.getElementById('tabContent');
            tabContent.innerHTML = stateContents[state] || '';

            if (state === 'Practice') {
                renderQuiz();
                updateProgressBar();
            }
        }

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

function renderQuiz() {
    const quizContainer = document.getElementById("quiz-content");
    quizContainer.innerHTML = '';
    quizData[currentStage].forEach((question, index) => {
        const questionElement = document.createElement("div");
        questionElement.className = "question-one-line";
        
        // Create label for the question text
        const label = document.createElement("label");
        label.htmlFor = `q${index}`;
        label.textContent = `${index + 1}. ${question.question}`;
        
        // Create div for result feedback
        const resultDiv = document.createElement("div");
        resultDiv.className = "result result-ltr";
        resultDiv.id = `result${index}`;
        
        // Create select element for answers
        const select = document.createElement("select");
        select.id = `q${index}`;
        select.name = `q${index}`;
        
        // Add default option
        const defaultOption = document.createElement("option");
        defaultOption.value = "";
        defaultOption.textContent = "Select";
        select.appendChild(defaultOption);
        
        // Shuffle and add answer options
        const shuffledOptions = shuffleArray([...question.options]);
        shuffledOptions.forEach((option, optionIndex) => {
            const optionElement = document.createElement("option");
            optionElement.value = option;
            optionElement.textContent = option;
            select.appendChild(optionElement);
        });
        
        // Append elements to questionElement in the desired order
        questionElement.appendChild(label);
        questionElement.appendChild(resultDiv); // Feedback before dropdown
        questionElement.appendChild(select);
        
        quizContainer.appendChild(questionElement);
    });

    updateStageNumber();
}

		function checkStage() {
   attempts++;
    document.getElementById("attempts").textContent = `Attempts: ${attempts}`;

    let correctCount = 0;
    const totalQuestions = quizData[currentStage].length;

    quizData[currentStage].forEach((question, index) => {
        const resultElement = document.getElementById(`result${index}`);
        const selectElement = document.getElementById(`q${index}`);
        const selectedAnswer = selectElement.value;

        if (selectedAnswer === question.answer) {
            resultElement.textContent = "Correct!";
            resultElement.style.color = "green";
            correctCount++;
        } else {
            resultElement.textContent = "Incorrect answer.";
            resultElement.style.color = "red";
        }

        if (attempts >= 10) {
            selectElement.value = question.answer;
            selectElement.disabled = true;
            resultElement.textContent += ` The correct answer is: ${question.answer}`;
        }
    });

    console.log(`Stage ${currentStage + 1}: ${correctCount} correct out of ${totalQuestions}`);

			if (correctCount === totalQuestions) {
				console.log(`Stage ${currentStage + 1} completed. Adding ${totalQuestions} animals.`);
				addAnimalsToFarm(totalQuestions); // Add animals to the farm

				if (currentStage < stageCount - 1) {
					singleStageConfetti();
					showEncouragingPopup(correctCount, totalQuestions, true);
					currentStage++; // Increment stage immediately
					updateProgressBar(); // Update progress bar right after incrementing stage
					console.log(`Moving to stage ${currentStage + 1}`);
					setTimeout(() => {
						attempts = 0;
						renderQuiz();
						document.getElementById("attempts").textContent = `Attempts: ${attempts}`;
					}, 1500);
				} else {
					// This is the final stage completion
					currentStage++;
					updateProgressBar(); // This will now show 100%
					allStagesConfetti();
					showModal("Congratulations! You've completed all stages.");
				}
			} else {
				showEncouragingPopup(correctCount, totalQuestions, false);
				if (attempts >= 10) {
					showModal("You've reached the maximum number of attempts. The correct answers have been revealed.");
				}
			}

			scrollToTop();
		}
		
		function showEncouragingPopup(correctCount, totalQuestions, isStageComplete) {
			const incorrectCount = totalQuestions - correctCount;
			let message = `You got ${correctCount} correct and ${incorrectCount} incorrect.`;
			
			// Add encouraging message based on performance
			if (correctCount === totalQuestions) {
				message += " Perfect score!";
			} else if (correctCount >= Math.ceil(totalQuestions * 0.7)) {
				message += " Great job! You're really getting the hang of this!";
			} else if (correctCount >= Math.ceil(totalQuestions * 0.5)) {
				message += " Good effort! Keep practicing and you'll improve in no time!";
			} else {
				message += " Don't give up! Every attempt helps you learn. Try again!";
			}

			// Add stage completion message if applicable
			if (isStageComplete) {
				message += "\n\n You've completed this stage. Moving to the next stage.";
			}

			showModal(message);
		}

		function initializeQuiz() {
			currentStage = 0;
			attempts = 0;
			updateProgressBar(); // This should now set the progress to 0%
			renderQuiz();
			document.getElementById("attempts").textContent = `Attempts: ${attempts}`;
			updateStageNumber();
		}

		function updateProgressBar() {
			const progressBar = document.getElementById("progress-bar");
			const completedStages = currentStage; // Remove the +1 here
			const progress = (completedStages / stageCount) * 100;
			const roundedProgress = Math.min(100, Math.max(0, Math.round(progress)));
			progressBar.style.width = `${roundedProgress}%`;
			progressBar.textContent = roundedProgress > 0 ? `${roundedProgress}%` : '';
			console.log(`Progress updated: ${roundedProgress}% (Stage ${currentStage + 1} of ${stageCount})`);
		}

		function updateStageNumber() {
			const stageElement = document.getElementById("stage-number");
			stageElement.textContent = `Stage ${currentStage + 1} of ${stageCount}`;
		}

		function singleStageConfetti() {
			function randomInRange(min, max) {
				return Math.random() * (max - min) + min;
			}
			confetti({
				angle: randomInRange(55, 125),
				spread: randomInRange(50, 70),
				particleCount: randomInRange(50, 100),
				origin: { y: 0.6 },
			});
		}

		function allStagesConfetti() {
			const defaults = {
				spread: 360,
				ticks: 50,
				gravity: 0,
				decay: 0.94,
				startVelocity: 30,
				shapes: ["star"],
				colors: ["FFE400", "FFBD00", "E89400", "FFCA6C", "FDFFB8"],
			};
			function shoot() {
				confetti({
					...defaults,
					particleCount: 40,
					scalar: 1.2,
					shapes: ["star"],
				});
				confetti({
					...defaults,
					particleCount: 10,
					scalar: 0.75,
					shapes: ["circle"],
				});
			}
			setTimeout(shoot, 0);
			setTimeout(shoot, 100);
			setTimeout(shoot, 200);
		}

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
			    scrollToTopBtn.style.display = "none";
        }

        function initializeSwitch() {
            const switchElement = document.getElementById('multiStateSwitch');
            const labelsContainer = switchElement.querySelector('.switch-labels');
            const switchContainer = document.getElementById('switchContainer');
            
            const activeStates = Object.keys(stateContents).filter(state => stateContents[state].trim() !== '');
            
            if (activeStates.length <= 1) {
                switchContainer.style.display = 'none';
                if (activeStates.length === 1) {
                    showContent(activeStates[0]);
                }
                return;
            }
            
            switchContainer.style.display = 'flex';
            
            activeStates.forEach((state, index) => {
                const label = document.createElement('div');
                label.className = 'switch-label';
                label.textContent = state;
                label.addEventListener('click', () => switchTab(index));
                labelsContainer.appendChild(label);
            });
   
            const defaultTab = manuallySetDefaultTab !== null && manuallySetDefaultTab < activeStates.length
                ? manuallySetDefaultTab
                : 0;

            switchTab(defaultTab);
        }

		let farmAnimals = [];

		function addAnimalsToFarm(count) {
			const animalFarm = document.getElementById('animalFarm');
			let availableAnimals = animals.filter(animal => !farmAnimals.includes(animal));

			console.log(`Adding ${count} animals to the farm. Current farm size: ${farmAnimals.length}`);

			for (let i = 0; i < count; i++) {
				if (availableAnimals.length === 0) {
					console.log("No more unique animals available!");
					break;
				}

				const randomIndex = Math.floor(Math.random() * availableAnimals.length);
				const chosenAnimal = availableAnimals[randomIndex];

				const animalElement = document.createElement('li');
				animalElement.textContent = chosenAnimal;
				animalFarm.appendChild(animalElement);

				farmAnimals.push(chosenAnimal);
				availableAnimals.splice(randomIndex, 1);
				console.log(`Added animal: ${chosenAnimal}`);
			}

			console.log(`Farm size after addition: ${farmAnimals.length}`);
			logAnimalFarmState();
		}

		function logAnimalFarmState() {
			console.log(`Current animal farm state: ${farmAnimals.length} animals`);
			console.log(farmAnimals);
		}

		const animals = [
			"🐉", "🐻", "🦗", "🦁", "🐔", "🦂", "🐟", "🐣", "🐯", "🦡",
			"🐰", "🐍", "🦅", "🐈", "🦈", "🦜", "🦛", "🐀", "🐑",
			"🐮", "🦇", "🐇", "🦖", "🦀", "🦎", "🐃", "🐡", "🐤",
			"🐪", "🦥", "🐛", "🐅", "🐥", "🐱", "🐺", "🐕", "🦩", "🐊",
			"🐖", "🐢", "🕷", "🦕", "🦌", "🐁", "🦨", "🦘", "🐵",
			"🦑", "🐋", "🦓", "🦒", "🐲", "🦆", "🦉", "🐶", "🐄", "🦟",
			"🦃", "🦧", "🦏", "🐙", "🐿", "🦢", "🐜", "🐦", "🐞",
			"🦐", "🦔", "🐼", "🦄", "🦞", "🐫", "🐭", "🐆", "🦝",
			"🐠", "🦚", "🐴", "🐏", "🦮", "🐐", "🐹", "🐎", "🦋", "🐳",
			"🐨", "🐂", "🦍", "🦙", "🐬", "🦦", "🦊", "🐌", "🐓", "🐧",
			"🐷", "🐩", "🐘", "🐸", "🐝"
		];

        function showModal(message) {
            const modal = document.getElementById("quizModal");
            const modalMessage = document.getElementById("modalMessage");
            const modalButton = document.getElementById("modalButton");
            const modalClose = document.getElementsByClassName("modal-quiz-close")[0];

            modalMessage.textContent = message;
            modal.style.display = "block";

            modalButton.onclick = function() {
                modal.style.display = "none";
            }

            modalClose.onclick = function() {
                modal.style.display = "none";
            }

            window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }
        }

		window.addEventListener('load', () => {
			initializeSwitch();
			initializeQuiz();
			adjustLayout();
        });

        window.addEventListener('resize', adjustLayout);

        // Load the copyright content from the external URL and insert it into the div
        fetch('http://ez42.live/global/copyright.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('copyright-container').innerHTML = data;
            })
            .catch(error => console.error('Error loading copyright:', error));
			
		let scrollToTopBtn = document.getElementById("scrollToTopBtn");

			window.onscroll = function() {
				// Check if the scroll distance is more than twice the height of the screen
				if (document.body.scrollTop > window.innerHeight * 1.5 || 
					document.documentElement.scrollTop > window.innerHeight * 1.5) {
					scrollToTopBtn.style.display = "block";
				} else {
					scrollToTopBtn.style.display = "none";
				}
			};

		scrollToTopBtn.onclick = function() {
		  document.body.scrollTop = 0;
		  document.documentElement.scrollTop = 0;
		};	
    </script>
</body>
</html>